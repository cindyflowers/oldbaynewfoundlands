if (self.CavalryLogger) { CavalryLogger.start_js(["ANW1s"]); }

__d("RunComet",["ExecutionEnvironment","FBLogger","createCancelableFunction","emptyFunction","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=!1,i=!1,j={remove:b("emptyFunction")};function k(a){a="Run."+a+" called unexpectedly. This is not supported in Comet!";b("FBLogger")("comet_infra").blameToPreviousFrame().blameToPreviousFrame().mustfix(a)}function l(a,c){g.unload==null&&(g.unload=[],g.afterunload=[],b("ExecutionEnvironment").canUseEventListeners&&window.addEventListener("unload",function(){o("unload"),o("afterunload")})),g[a]==null?(b("recoverableViolation")("EVENT_LISTENERS."+a+" wasn't initialized but should have been!","comet_infra"),g[a]=[c]):g[a].push(c)}function m(a){a||b("recoverableViolation")("Undefined event listener handler is not allowed","comet_infra");return b("createCancelableFunction")((a=a)!=null?a:b("emptyFunction"))}function n(a){return{remove:function(){a.cancel()}}}function o(a){var c=g[a]||[];for(var d=0;d<c.length;d++){var e=c[d];try{e()}catch(c){b("FBLogger")("comet_infra").catching(c).mustfix("Hit an error while executing '"+a+"' event listeners.")}}g[a]=[]}function p(a){if(h){a();return n(m(b("emptyFunction")))}a=m(a);g.domcontentloaded==null?(g.domcontentloaded=[a],b("ExecutionEnvironment").canUseEventListeners&&window.addEventListener("DOMContentLoaded",function(){o("domcontentloaded")},!0)):g.domcontentloaded.push(a);return n(a)}function a(a){a=m(a);l("afterunload",a);return n(a)}function c(a){a=m(a);g.load==null?(g.load=[a],b("ExecutionEnvironment").canUseEventListeners&&window.addEventListener("load",function(){o("domcontentloaded"),o("load")})):g.load.push(a);i&&b("setTimeout")(function(){o("domcontentloaded"),o("load")},0);return n(a)}function d(a){a=m(a);l("unload",a);return n(a)}function f(a,c){__p&&__p();if(c!==!1){c="Run.onBeforeUnload was called with include_quickling_events as true or undefined, but this is not valid in Comet.";b("FBLogger")("comet_infra").blameToPreviousFrame().mustfix(c)}c=m(a);g.beforeunload==null&&(g.beforeunload=[],b("ExecutionEnvironment").canUseEventListeners&&window.addEventListener("beforeunload",function(a){__p&&__p();var c=g.beforeunload||[];for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var h=void 0;try{h=f()}catch(a){b("FBLogger")("comet_infra").catching(a).mustfix("Hit an error while executing onBeforeUnload event listeners.")}if(h!==void 0){h!=null&&h.body!=null&&(h=h.body);a.preventDefault();a.returnValue=h;return h}}}));g.beforeunload.push(c);return n(c)}function q(a){k("onLeave");return j}function r(a,b){k("onCleanupOrLeave");return j}function s(a){k("removeHook")}function t(){p(function(){h=!0});var a=window.onload;window.onload=function(){a&&a(),i=!0}}b("ExecutionEnvironment").canUseDOM&&t();t={onAfterLoad:c,onAfterUnload:a,onBeforeUnload:f,onCleanupOrLeave:r,onLeave:q,onLoad:p,onUnload:d,__domContentCallback:null,__onloadCallback:null,__removeHook:s};e.exports=t}),null);
__d("DOMRectIsEqual",["DOMRectReadOnly"],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(!a&&!b)return!0;else if(!a||!b)return!1;return a.x===b.x&&a.y===b.y&&a.width===b.width&&a.height===b.height}e.exports=a}),null);
__d("VideoPlayerCaptionsController",["JSResource","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("JSResource")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),h=b("JSResource")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){__p&&__p();var c=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,i=null,j=null,k=null;function l(a){var c=h.load().then(function(b){if(c!==j)return;f=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(c!==j)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return c}function m(){var a=g.load().then(function(b){if(a!==k)return;i=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(c){if(a!==k)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+c.message,"comet_video_player")});return a}c!=null?j=l(c):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),i&&(i.destroy(),i=null),j&&(j=null),k&&(k=null)},handleCea608BytesReceived:function(a){i&&i.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){f.source&&f.source.handleTimeUpdate(a);return f.getCurrentScreenRepresentation()}else if(i){i.source&&i.source.handleTimeUpdate(a);return i.getCurrentScreenRepresentation()}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){i&&(i.destroy(),i=null),a&&(k=m())}}}e.exports={createCaptionsController:a}}),null);
__d("useConcurrentAutoplayManagementAPI",["React","removeFromArray","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useState;function a(){var a=b("useCometUniqueID")();return a}function h(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(c){b("removeFromArray")(a,c),a.push(c)},unregisterControllingComponent:function(c){var d=a.length;d>1&&b("removeFromArray")(a,c);return d>1}}}function c(){var a=g(function(){return h()});a=a[0];return a}e.exports={createConcurrentAutoplayManagementAPI:h,useAutoplayControlID:a,useConcurrentAutoplayManagementAPI:c}}),null);
__d("SegmentInfoConstants",[],(function(a,b,c,d,e,f){"use strict";a=10;b=10;c=2/15;d=1+2*c;f=.25;var g=40,h=0,i=1,j=2,k=0,l=1,m=0,n=1,o=10;e.exports={AUDIO_BITRATE_INDEX:l,AUDIO_BUFFER_INDEX:i,AUDIO_SEGMENT_INDEX:n,COMBO_BUFFER_INDEX:j,FUTURE_SEGMENT_TIME:b,MAX_SEGMENT_SEARCH_RANGE:o,NEARBY_SEGMENT_ARR_SIZE:g,PAST_SEGMENT_TIME:a,SEGMENT_GRAPH_BORDER_LENGTH:c,SLOPE:f,TRACK_LENGTH:d,VIDEO_BITRATE_INDEX:k,VIDEO_BUFFER_INDEX:h,VIDEO_SEGMENT_INDEX:m}}),null);
__d("VideoPlayerBanzaiLogFlusher",["Banzai","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="video_player";a=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var c={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.subOrigin};a=(a=a.logData)==null?void 0:a.ad_client_token;b("gkx")("1107827")?b("Banzai").post(g,c,b("Banzai").VITAL):a!=null?b("Banzai").post(g,c,b("Banzai").VITAL):b("Banzai").post(g,c)})};return a}();e.exports=a}),null);
__d("VideoPlayerImplementationHelper",["BinarySearch","SegmentInfoConstants","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(g=b("SegmentInfoConstants")).AUDIO_BUFFER_INDEX,i=g.AUDIO_SEGMENT_INDEX,j=g.COMBO_BUFFER_INDEX,k=g.VIDEO_BUFFER_INDEX,l=g.VIDEO_SEGMENT_INDEX;function a(a){var c=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=b("getErrorMessageFromMediaErrorCode")(g));e={errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:c,errorName:b("getErrorNameFromMediaErrorCode")(g),originalError:d};return e}function c(a,b){if(a==null){var c={errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"};return c}c={errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"};return c}function d(a,b,c){var d;d={message:(d=b==null?void 0:b.message)!=null?d:"",name:(d=b==null?void 0:b.name)!=null?d:"UnknownError",stack:(b==null?void 0:b.stack)||new Error().stack};return{errorCode:null,errorDescription:d.name+" "+d.message,errorLocation:c,errorName:a,stack:d.stack,url:null}}function m(a){__p&&__p();if(!a.getTimeRange||!a.getTimeRange())return null;var b=a.getTimeRange(),c=b.endTime;b=b.startTime;var d=c-b,e=null,f=null,g=null,h=null;if(a.getByteRange){a=a.getByteRange();a&&(f=a.startByte,g=a.endByte,h=g-f)}return{byteSize:h,debugInfo:e,endByte:g,endTime:c,segmentLength:d,startByte:f,startTime:b}}function f(a,c){__p&&__p();c=c.event;var d=c.segment;c=c.type;d=m(d);if(d==null)return;c=c==="a"?i:l;if(a[c].length===0){a[c].push(d);return}var e=b("BinarySearch").findBoundInArray(a[c],d,function(a,b){return a.startTime-b.startTime},b("BinarySearch").LEAST_UPPER_BOUND);a[c].splice(e,0,d)}function n(a,b,c){b=b.event;var d=b.sourceBuffer;b=b.type;b=b==="a"?h:k;a[b]=d;a[j]=c!=null?c:null}function o(a){var b=a.debugTools,c=a.isAbrEnabled;a=a.state;var d=a.controlledState,e=d.activeCaptions,f=d.availableQualities,g=d.captionsLoaded,h=d.captionsVisible,i=d.error,j=d.inbandCaptionsAutogenerated,k=d.lastMuteReason,l=d.lastPauseReason,m=d.lastPlayReason,n=d.muted,o=d.playbackState,p=d.seeking,q=d.seekTargetPosition,r=d.selectedVideoQuality,s=d.targetAudioQuality,t=d.targetVideoQuality;d=d.volume;var u=o==="ended",v=o==="paused"||u,w=o==="playing",x=o==="inPlayStalling";o=o==="stalling"||x;b={VideoStateDebugApiTools:b,activeCaptions:e,availableVideoQualities:f,bufferEnd:(b=a.uncontrolledState.videoElementLastBufferEndPosition)!=null?b:0,captionsLoaded:g,captionsVisible:h,currentVideoQuality:(e=a.uncontrolledState.currentPlayingVideoQuality)!=null?e:"",duration:(f=a.uncontrolledState.videoElementDuration)!=null?f:0,ended:u,error:i,inPlayStalling:x,inbandCaptionsAutogenerated:j,isAbrEnabled:c,lastMuteReason:k,lastPauseReason:l,lastPlayReason:m,muted:n,paused:v,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:w,seekTargetPosition:q,seeking:p,selectedVideoQuality:r,stalling:o,targetAudioQuality:s,targetVideoQuality:t,volume:d};return b}e.exports={createVideoPlayerErrorFromHTMLVideoElementError:a,createVideoPlayerErrorFromUnknownError:d,createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason:c,createVideoPlayerImplementationExposedState:o,getSegmentData:m,insertSegment:f,insertSourceBuffer:n}}),null);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerImplementationHelper","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerImplementationHelper").createVideoPlayerErrorFromHTMLVideoElementError;function h(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function i(a){__p&&__p();var c=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;c=h({bufferingDetected:c,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=c?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;b("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function j(a,c,d){__p&&__p();switch(d.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([d])});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(c.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":c=a.playbackState;var e=c;switch(c){case"playing":case"stalling":case"ended":case"paused":e="stalling";break;default:c;b("recoverableViolation")("unexpected playbackState: "+c,"comet_video_player");break}c=!0;return babelHelpers["extends"]({},a,{playbackState:e,waitingForDomPlaying:c});case"dom_event_playing":e=a.bufferingDetected;c=a.seeking;var f=!1,h=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:e,prevPlaybackState:h,seeking:c,waitingForDomPlaying:f}),waitingForDomPlaying:f});case"dom_event_seeking":e=a.playbackState;h=e;switch(e){case"paused":case"ended":break;case"stalling":case"playing":h="stalling";break;default:e,b("recoverableViolation")("unexpected playbackState: "+e,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:h,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":c=a.bufferingDetected;f=a.waitingForDomPlaying;e=!1;h=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:c,prevPlaybackState:h,seeking:e,waitingForDomPlaying:f}),seeking:e});case"dom_event_error":c=g({errorLocation:"dom_event_error",hostCallError:null,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:c,playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:d.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":h=g({errorLocation:d.payload.errorLocation,hostCallError:d.payload.hostCallError,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:h,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_video_node_unmounted":return a;case"implementation_engine_initialized":return babelHelpers["extends"]({},a,{availableQualities:d.payload.availableQualities,selectedVideoQuality:d.payload.selectedVideoQuality,targetVideoQuality:d.payload.targetVideoQuality});case"implementation_engine_destroyed":return a;case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:d.payload.fatalError,playbackState:"paused",waitingForDomPlaying:!1});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:d.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPauseReason:d.payload.reason,playbackState:"paused",waitingForDomPlaying:!1});case"controller_play_requested":return a.playbackState!=="paused"&&a.playbackState!=="ended"?a:babelHelpers["extends"]({},a,{lastPlayReason:d.payload.reason,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{seekTargetPosition:d.payload.seekTargetPosition,seeking:!0});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:d.payload.selectedVideoQuality});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:d.payload.reason,muted:d.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:d.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!1,seekTargetPosition:d.payload.seekTargetPosition,seeking:d.payload.seekTargetPosition!=null});case"buffering_begin_requested":f=a.playbackState;e=f;switch(f){case"paused":case"ended":break;case"playing":case"stalling":e="stalling";break;default:f;b("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player");break}return babelHelpers["extends"]({},a,{bufferingDetected:!0,playbackState:e});case"buffering_end_requested":c=a.seeking;h=a.waitingForDomPlaying;f=!1;e=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:f,playbackState:i({bufferingDetected:f,prevPlaybackState:e,seeking:c,waitingForDomPlaying:h})});case"controller_set_captions_visible_requested":f=d.payload.captionsVisible;return a.captionsVisible===f?a:babelHelpers["extends"]({},a,{activeCaptions:f?a.activeCaptions:null,captionsVisible:f});case"controller_set_active_captions_requested":e=d.payload.activeCaptions;h=(c=e==null?void 0:e.rows)!=null?c:[];f=a.activeCaptions;var j=(c=f==null?void 0:f.rows)!=null?c:[];return j.length===h.length&&h.every(function(a,b){return j[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:e});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1});case"inband_captions_autogenerated_changed":f=d.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===f?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:f});default:return a}}function k(a,c,d){var e=c.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!b("shallowEqual")(e,a.uncontrolledState);c=j(a.controlledState,e,c);var f=!b("shallowEqual")(c,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?c:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var l,m;function n(a){__p&&__p();var c=a.collectUncontrolledState,d=a.initialState,e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,j=!1,l=!1,m=!0,n=!0;return{dispatch:function(a){__p&&__p();if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!j){j=!0;throw b("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=c()}catch(a){m=!1,g=a}var p=h;o=k(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!l&&(d!=null||g!=null)){l=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var o,p;function a(a){__p&&__p();var b=a.collectUncontrolledState,c=a.effects,d=a.initialState;a=a.onFatalError;function e(a,b,d){try{var e=!0,f=0;while(e&&f<c.length){var g=c[f];e=g(a,b,d);++f}}finally{}}return n({collectUncontrolledState:b,initialState:d,onDispatched:e,onFatalError:a})}function c(a,b){__p&&__p();function c(){}function d(a){return a}function e(c){return function(e){e=d(e.currentTarget);b(e);a.dispatch(c)}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:function(c){c=d(c.currentTarget);b(c);a.dispatch({payload:{videoElementError:c.error,videoElementNetworkState:c.networkState,videoElementReadyState:c.readyState},type:"dom_event_error"})},onLoadStart:c,onLoadedData:c,onLoadedMetadata:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:e({type:"dom_event_playing"}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}e.exports={createReactVideoElementCallbacksForStateMachine:c,createVideoPlayerImplementationStateMachine:n,createVideoPlayerImplementationStateMachineWithEffects:a}}),null);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(){return"id-vpdom-"+b("cometUniqueID")()}function i(a){__p&&__p();var c=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),b("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":c.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;default:d.type;return!1}return!0}function j(a){__p&&__p();var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=i({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function k(a){__p&&__p();var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){__p&&__p();switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:h(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:h(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:h(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"}];d=k(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){j({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}e.exports={applyOrQueueHostCall:j,flushHostCallQueue:a,makeHostCallID:h}}),null);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}e.exports={getVideoPlayerMutedStateChange:a}}),null);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===!0?"full_screen":b!=null?b:"inline"}e.exports=a}),null);
__d("VideoPlayerImplementationStateMachineLogger",["VideoMimeTypes","VideoPlayerLoggerEvent","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange,i=6e4,j=null,k=function(a){var b;j=(b=j)!=null?b:document.createElement("video");return!("canPlayType"in j)?"":j.canPlayType(a)},l,m,n;function o(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,dontLogPauseOnUnpausedSeeking:!1,hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedPlayerFormat:null,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallStartTimestamp:0,stallTotalDuration:0,vplEventSequenceNumber:0}}function p(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){__p&&__p();var c=new Map(),d=a.initialLoggingMetaData,e=[],f=o(),j=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function l(a){var b=f.stallStartTimestamp;if(b>0){f.stallCount+=1;a=a-b;f.stallTotalDuration+=a;f.stallCount200ms+=a>200?1:0}}function m(a,b){__p&&__p();a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"representation_ended":c=f.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":f.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"representation_ended":f.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function n(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var d=b.controlledState.playbackState;a!=="stalling"&&d==="stalling"&&(f.stallStartTimestamp=c);a==="stalling"&&d!=="stalling"&&(l(b.uncontrolledState.clockTimestamp),f.stallStartTimestamp=0)}function q(a,b,c){__p&&__p();var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,g=function(){var a={stall_count:f.stallCount,stall_count_200_ms:f.stallCount200ms,stall_time:f.stallTotalDuration};f.stallCount=0;f.stallCount200ms=0;f.stallTotalDuration=0;f.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var h=b.controlledState.playbackState;a!=="stalling"&&h==="stalling"&&(f.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"representation_ended":l(b.uncontrolledState.clockTimestamp);d=g();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(l(b.uncontrolledState.clockTimestamp),d=g());break;default:break}return d}function r(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function s(g){__p&&__p();var h=g.eventType,i=g.logDataOverrides,k=g.prevState;g=g.state;var l=m(g,h);l=l.video_last_start_time_position;k=q(k,g,h);var n=k.stall_count,o=k.stall_count_200_ms;k=k.stall_time;var s=[],t=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;t&&s.push(t);t=h==="entered_fs"?!0:h==="exited_fs"?!1:f.lastLoggedFullscreenState;var u=b("getPlayerFormatForLogData")(t,d.coreVideoPlayerMetaData.playerFormat),v=Boolean(g.uncontrolledState.isFBIsLiveTemplated),w=Boolean(g.uncontrolledState.isFBWasLive);w={ad_client_token:d.coreVideoPlayerMetaData.adClientToken,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay,autoplay_failure_reasons:JSON.stringify(s),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:b("getVideoBrowserTabId")(),caption_state:p(g,h),current_viewability_percentage:g.uncontrolledState.viewabilityPercentage,dropped_frame_count:g.uncontrolledState.videoElementDroppedFrameCount,external_log_id:d.coreVideoPlayerMetaData.externalLogID,external_log_type:d.coreVideoPlayerMetaData.externalLogType,is_fbms:g.uncontrolledState.isFBMS,is_templated_manifest:v||w,last_viewability_percentage:f.lastLoggedViewabilityPercentage,playback_duration:g.uncontrolledState.videoElementDuration,playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:u,player_instance_key:d.instanceKey,player_state:r(g),player_version:g.playerVersion,representation_id:g.uncontrolledState.videoRepresentationID,stall_count:n,stall_count_200_ms:o,stall_time:k,streaming_format:g.streamingFormat,total_frame_count:g.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,video_bandwidth:g.uncontrolledState.estimatedBandwidth,video_id:d.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:l,video_play_reason:g.controlledState.lastPlayReason,video_player_height:(s=d.dimensions)==null?void 0:s.height,video_player_width:(v=d.dimensions)==null?void 0:v.width,video_time_position:g.uncontrolledState.videoElementPlayheadPosition};n={event_seq_num:++f.vplEventSequenceNumber,seq_num:j.has(h)?++f.sequenceNumber:null,time_ms:Date.now()};var x={};c.forEach(function(a,b){x[b]=a});o=babelHelpers["extends"]({},x,w,i,n);l=(k=f.initialSuborigin)!=null?k:d.coreVideoPlayerMetaData.subOrigin;v=(s=d.coreVideoPlayerMetaData.initialTracePolicy)!=null?s:d.coreVideoPlayerMetaData.routeTracePolicy;e.push({eventType:h,logData:o,routeTracePolicy:v,subOrigin:l});f.initialSuborigin==null&&l!=null&&(f.initialSuborigin=l);f.lastLoggedFullscreenState=t;f.lastLoggedPlayerFormat=u}var t={};function u(a,c,d){s({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},d,{state:f.hasLoggedStartedPlaying?b("VideoPlayerLoggerPlayerStates").UNPAUSED:b("VideoPlayerLoggerPlayerStates").STARTED}),prevState:a,state:c});f.hasPendingRequestedPlaying=!0;f.canLogPausedOrFinishedPlaying=!0;return t}function v(a,b,c){__p&&__p();if(!f.canLogPausedOrFinishedPlaying)return t;else if(f.hasPendingRequestedPlaying){w(a,b,c);f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return t}else{s({eventType:"paused",logDataOverrides:c,prevState:a,state:b});f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return t}}function w(a,c,d){d=babelHelpers["extends"]({},d,{state:f.hasLoggedStartedPlaying?b("VideoPlayerLoggerPlayerStates").UNPAUSED:b("VideoPlayerLoggerPlayerStates").STARTED});s({eventType:"cancelled_requested_playing",logDataOverrides:d,prevState:a,state:c});return t}function x(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&f.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){w(a,b,{debug_reason:"not_allowed"});return t}else return t}else return t}function y(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!f.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){u(a,b);return t}else return t}function z(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&f.canLogPlayingEvent){c=f.hasLoggedStartedPlaying?"unpaused":"started_playing";s({eventType:c,prevState:a,state:b});f.hasLoggedStartedPlaying=!0;f.canLogPlayingEvent=!1;f.hasPendingRequestedPlaying=!1;return t}else return t}function A(a,b,c){__p&&__p();var d=b.controlledState.playbackState,e=a.controlledState.playbackState;if(c.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){v(a,b);f.isLoggingScrubbingSequence=!0;return t}else if(!a.controlledState.seeking&&b.controlledState.seeking&&!f.isLoggingScrubbingSequence&&d!=="paused"&&d!=="ended"&&!f.hasPendingRequestedPlaying){v(a,b);f.shouldLogRequestedPlayingForScrub=!0;return t}else if(c.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){u(a,b,{video_time_position:c.payload.seekTargetPosition});return t}else if(a.controlledState.seeking&&!b.controlledState.seeking){f.shouldLogRequestedPlayingForScrub&&d!=="paused"&&d!=="ended"&&u(a,b);s({eventType:"scrubbed",prevState:a,state:b});f.isLoggingScrubbingSequence=!1;f.shouldLogRequestedPlayingForScrub=!1;e!=="paused"&&e!=="ended"&&(f.canLogPlayingEvent=!0);return t}else return t}function B(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&f.canLogPausedOrFinishedPlaying){s({eventType:"finished_playing",prevState:a,state:b});f.canLogPausedOrFinishedPlaying=!1;return t}else return t}function C(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!f.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){v(a,b);return t}else return t}function D(a,b,c){var d=b.controlledState.playbackState;if((c.type==="implementation_unmounted"||c.type==="implementation_engine_destroy_requested")&&d!=="paused"&&d!=="ended"){v(a,b,{debug_reason:"unloaded"});return t}else return t}function E(a,c,d){__p&&__p();d=c.controlledState.muted;var e=c.controlledState.volume,f=a.controlledState.muted,g=a.controlledState.volume;d=h({currMuted:d,currVolume:e,prevMuted:f,prevVolume:g});f={current_volume:Math.round(e*100)};switch(d){case"muted":s({eventType:"muted",logDataOverrides:f,prevState:a,state:c});return t;case"unmuted":s({eventType:"unmuted",logDataOverrides:f,prevState:a,state:c});return t;case null:if(g<e){s({eventType:"volume_increase",logDataOverrides:f,prevState:a,state:c});return t}else if(g>e){s({eventType:"volume_decrease",logDataOverrides:f,prevState:a,state:c});return t}else return t;default:d;b("recoverableViolation")('Unexpected mutedStateChange "'+d+'"',"comet_video_player");return t}}function F(a,b,c){__p&&__p();c=b.uncontrolledState.videoRepresentationID;var d=f.lastTrackedRepresentation,e=b.controlledState.playbackState,g=b.controlledState.seeking;if(!g&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){s({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});f.lastTrackedRepresentation=c;return t}else if(d==null){f.lastTrackedRepresentation=c;return t}else return t}function G(a,c){var e=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(d.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:d.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:d.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(g||(g=b("mapObject")))(b("VideoMimeTypes"),k),dimensions:d.dimensions?{height:d.dimensions.height,width:d.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,inPlayStallCount:void 0,inPlayStallTime:void 0,initializationTime:void 0,initializationTimestamp:void 0,interruptCount:void 0,interruptTime:void 0,lastError:e,loggedError:f.lastLoggedError,stack:e==null?void 0:e.stack,stallCount:f.stallCount,stallTime:f.stallTotalDuration,state:r(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:c,state:a}}}function H(a,b,c){var d=b.controlledState.error;if(d!=null&&d!==f.lastLoggedError){var e=d.errorCode,g=d.errorDescription,h=d.errorName,i=d.url;c=G(b,c);s({eventType:"error",logDataOverrides:{error:h,error_code:e,error_description:g,error_user_info:JSON.stringify(c),resource_url:i},prevState:a,state:b});f.lastLoggedError=d}return t}function I(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?f.nextHeartbeatTime=null:c!=="stalling"&&f.nextHeartbeatTime==null&&(f.nextHeartbeatTime=Date.now()+i);var d=f.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&s({eventType:"heart_beat",prevState:a,state:b}),f.nextHeartbeatTime=e+i)}return t}function J(a,b,c){if(c.type==="implementation_mounted"){s({eventType:"player_loaded",prevState:a,state:b});return t}else return t}function K(a,b,c){s({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function L(a,b,c){__p&&__p();if(c.type!=="notify_fullscreen_changed")return t;c=f.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){K(a,b,d);return t}else if(c===!0&&d===!1){K(a,b,d);return t}else return t}function M(a,b,c){c=b.controlledState.playbackState;var d=f.lastLoggedViewabilityPercentage,e=b.uncontrolledState.viewabilityPercentage;if(c!=="paused"&&c!=="ended"&&d!=null&&d!==e){s({eventType:"viewability_changed",prevState:a,state:b});f.lastLoggedViewabilityPercentage=e;return t}else return t}function N(a,b,c){if(c.type==="controller_set_captions_visible_requested"){s({eventType:"caption_change",prevState:a,state:b});return t}else return t}return{consumeLoggerEvents:function(){return e.splice(0)},handleMetaData:function(a){var b=a.coreVideoPlayerMetaData.initialTracePolicy!==d.coreVideoPlayerMetaData.initialTracePolicy;d=a},handleStateMachine:function(a,b,c){__p&&__p();var d=b.controlledState.playbackState;n(a,b);var e=[L,M,x,y,A,z,B,C,E,D,J,N,F,H,I];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(f.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(f.hasPausedOnce=!0,f.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(f.hasPausedOnce=!0,f.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(f.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(f.shouldIgnoreDomPlay=!1,f.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},setAdditionalLogData:function(a,b){c.set(a,b)}}}e.exports={HEARTBEAT_INTERVAL:i,createVideoPlayerImplementationStateMachineLogger:a}}),null);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}e.exports=a}),null);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["convertToViewabilityPercentage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI;a=a.videoPlayerPassiveViewabilityInfoRef;if(e==null){var f={audioRepresentationID:void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0};return f}f=e.getPlayheadPosition();d={audioRepresentationID:c?c.getAudioRepresentationIDAtTime(f):void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:c?c.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:c?c.getEstimatedBandwidth():void 0,isFBIsLiveTemplated:c?c.isFBIsLiveTemplated():void 0,isFBMS:c?c.isFBMS():void 0,isFBWasLive:c?c.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:f,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:c?c.getVideoRepresentationIDAtTime(f):void 0,viewabilityPercentage:a&&a.current?b("convertToViewabilityPercentage")(a.current.getCurrent().visiblePercentage):void 0};return d}e.exports={createVideoPlayerImplementationStateMachineStateUncontrolledState:a}}),null);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState;function a(a){var b=a.alwaysShowCaptions,c=a.playerImplementationName,d=a.playerVersion;a=a.streamingFormat;var e=!0,f=1,h=g({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,availableQualities:[],bufferingDetected:!1,captionsLoaded:!1,captionsVisible:b,error:null,hostCallPlayIDLast:null,hostCallQueue:[],inbandCaptionsAutogenerated:!1,lastMuteReason:null,lastPauseReason:null,lastPlayReason:null,muted:e,playbackState:"paused",scrubbing:!1,seekTargetPosition:null,seeking:!1,selectedVideoQuality:"notselected",targetAudioQuality:"",targetPlaybackRate:1,targetVideoQuality:"",volume:f,waitingForDomPlaying:!1},playerImplementationName:c,playerVersion:d,streamingFormat:a,uncontrolledState:h}}e.exports={createVideoPlayerImplementationStateMachineInitialState:a}}),null);
__d("VideoPlayerImplementationEngineAPI",["Banzai","React","RunComet","SubscriptionsHandler","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationHelper","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","recoverableViolation","removeFromArray","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useStable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useRef,i=b("React").useState,j=b("VideoPlayerCaptionsController").createCaptionsController,k=b("VideoPlayerImplementationHelper").createVideoPlayerImplementationExposedState,l=b("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine,m=b("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithEffects,n=b("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall,o=b("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue,p=b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID,q=b("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger,r=b("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState,s=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState,t=b("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI;function u(a){__p&&__p();var c=a.concurrentAutoplayManagementAPI,d=a.debugTools,e=a.fullscreenControllerRef,f=a.logger,g=a.machine,h=a.subscribers;return babelHelpers["extends"]({},c,{getCurrentState:function(){return k({debugTools:d,isAbrEnabled:!0,state:g.getCurrentState()})},getIsFullscreen:function(){var a=e.current;return a?a.getIsFullscreen():!1},getPlayheadPosition:function(){var a,b=0;return(a=g.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},pause:function(a){g.dispatch({payload:{reason:a},type:"controller_pause_requested"})},play:function(a){g.dispatch({payload:{reason:a},type:"controller_play_requested"})},requestSetIsFullscreen:function(a){var b=e.current;b&&b.requestSetIsFullscreen(a)},scrubBegin:function(){g.dispatch({type:"controller_scrub_begin_requested"})},scrubEnd:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seek:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQuality:function(a){g.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setAdditionalLogData:function(a,b){f.setAdditionalLogData(a,b)},setCaptionsVisible:function(a){g.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setMuted:function(a,b){g.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setVolume:function(a){g.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribe:function(a){var c=e.current,d=c?c.subscribe(a):null;h.push(a);return{remove:function(){d&&d.remove(),b("removeFromArray")(h,a)}}}})}function v(a){a=a.current;if(a==null)throw b("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function w(a){a=a.current;if(a==null)throw b("unrecoverableViolation")("EngineExtrasAPI is not available now","comet_video_player");return a}function x(a){__p&&__p();var b=a.augmentDebugTools,c=a.engineExtrasAPIRef,d=a.videoElementAPIRef;return b({getAudioRepresentationId:function(){var a=d.current,b=c.current;return b==null||a==null?null:b.getAudioRepresentationIDAtTime(a.getPlayheadPosition())},getCurrentAudioMimeCodecs:function(){var a=c.current;if(a==null)return null;a=a.getCurrentAudioRepresentation();return a!=null?a.getMimeCodecs():null},getCurrentAudioRepresentation:function(){var a=c.current;return a==null?null:a.getCurrentAudioRepresentation()},getCurrentVideoMimeCodecs:function(){var a=c.current;if(a==null)return null;a=a.getCurrentVideoRepresentation();return a!=null?a.getMimeCodecs():null},getCurrentVideoRepresentation:function(){var a=c.current;return a==null?null:a.getCurrentVideoRepresentation()},getDrmProtectionStatus:function(){var a=c.current;return a==null?!1:a.isDrm()},getDroppedFrameCount:function(){var a=d.current;return a==null?null:a.getDroppedFrameCount()},getManifest:function(){return null},getManifestUrl:function(){return null},getOzBufferingDetector:function(){return null},getOzPlayer:function(){return null},getPlayheadPosition:function(){var a=d.current;return a==null?null:a.getPlayheadPosition()},getStreamType:function(){var a=c.current;return a==null?null:a.getStreamType()},getTotalFrameCount:function(){var a=d.current;return a==null?null:a.getTotalFrameCount()},getVideoElement:function(){var a=d.current;return a==null?null:a.getUnderlyingVideoElement()},getVideoRepresentationId:function(){var a=d.current,b=c.current;return b==null||a==null?null:b.getVideoRepresentationIDAtTime(a.getPlayheadPosition())},useSegmentData:function(){return null},useSourceBuffer:function(){return null}})}function y(a){__p&&__p();var b=a.alwaysShowCaptions,c=a.captionsControllerRef,d=a.engineExtrasAPIRef,e=a.fullscreenControllerRef,f=a.handleFatalError,g=a.handleStateMachine,h=a.playerImplementationName,i=a.playerVersion,j=a.streamingFormat,k=a.updateLoopStateOnImplementationEndedRef,l=a.videoElementAPIRef,q=a.videoPlayerPassiveViewabilityInfoRef;function t(a){n({engineExtrasAPI:d.current,hostCall:a,machine:u,videoElementAPI:l.current})}a=[function(a,b,c){g(a,b,c);return!0},function(a,b,c){if(!(c.type==="implementation_engine_initialized"))return!0;a=v(l);var e=w(d);c=c.type;o({engineExtrasAPI:e,machine:u,reason:c,state:b,videoElementAPI:a});return!1},function(a,b,c){if(!(c.type==="dom_event_ended"))return!0;a=k.current;a();return!1},function(a,b,c){if(!(c.type==="controller_pause_requested"))return!0;a=b.controlledState.playbackState;if(!(a==="paused"))return!1;t({payload:{hostCallID:p(),reason:c.type},type:"host_call_pause"});return!1},function(a,b,c){if(!(c.type==="controller_play_requested"))return!0;a=b.controlledState.playbackState;if(!(a==="stalling"))return!1;t({payload:{hostCallID:p(),reason:c.type},type:"host_call_play"});return!1},function(a,b,c){if(!(c.type==="controller_seek_requested"))return!0;a=b.controlledState;b=a.seeking;a=a.seekTargetPosition;b&&a!=null&&t({payload:{currentTime:a,hostCallID:p(),reason:c.type},type:"host_call_set_current_time"});return!1},function(a,b,c){if(!(c.type==="controller_muted_requested"))return!0;a=b.controlledState.muted;if(!(a===c.payload.muted))return!1;t({payload:{hostCallID:p(),muted:a,reason:c.type},type:"host_call_set_muted"});return!1},function(a,b,c){if(!(c.type==="controller_scrub_begin_requested"))return!0;t({payload:{hostCallID:p(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="controller_scrub_end_requested"))return!0;a=b.controlledState;b=a.seeking;var d=a.seekTargetPosition;a=a.targetPlaybackRate;b&&d!=null?(t({payload:{hostCallID:p(),playbackRate:a,reason:c.type+":seek"},type:"host_call_set_playback_rate"}),t({payload:{currentTime:d,hostCallID:p(),reason:c.type+":seek"},type:"host_call_set_current_time"})):t({payload:{hostCallID:p(),playbackRate:a,reason:c.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="buffering_begin_requested"))return!0;t({payload:{hostCallID:p(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="buffering_end_requested"))return!0;t({payload:{hostCallID:p(),playbackRate:b.controlledState.targetPlaybackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="controller_volume_requested"))return!0;t({payload:{hostCallID:p(),reason:c.type,volume:b.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,b,c){if(!(c.type==="controller_quality_requested"))return!0;t({payload:{hostCallID:p(),reason:c.type,selectedVideoQuality:b.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,d){__p&&__p();if(!(d.type==="dom_event_timeupdate"||d.type==="captions_availability_changed"))return!0;d=c.current;var e=b.controlledState.captionsVisible;if(d&&e&&b.controlledState.captionsLoaded){e=l.current;b=d.handleTimeUpdate(e?e.getPlayheadPosition():0);d=a.controlledState.activeCaptions;z(d,b)&&u.dispatch({payload:{activeCaptions:b},type:"controller_set_active_captions_requested"})}return!1},function(a,b,d){__p&&__p();if(!(d.type==="cea608_bytes_received"))return!0;a=c.current;if(a){b=d.payload;d=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:d,videoBytes:b})}return!1}];var u=m({collectUncontrolledState:function(){var a=l.current,b=d.current;return s({engineExtrasAPI:b,fullscreenControllerRef:e,videoElementAPI:a,videoPlayerPassiveViewabilityInfoRef:q})},effects:a,initialState:r({alwaysShowCaptions:b,playerImplementationName:h,playerVersion:i,streamingFormat:j}),onFatalError:f});return u}function z(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function A(a,b,c,d){if(b.current===a)return;c.current&&(c.current.remove(),c.current=null);b.current=a;a&&(c.current=a.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function B(a,b,c,d){if(b.current===a)return;c.current&&(c.current.remove(),c.current=null);b.current=a;a&&(c.current=a.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function a(a){__p&&__p();var c,d,e=a.augmentDebugTools,f=a.createVideoPlayerError,g=a.debugLog,h=a.destroy,i=a.handleFatalError,k=a.handleVideoElementMounted,m=a.handleVideoElementUnmounted,n=a.handleVideoInfoChange;g=a.initialProps;var o=a.playerImplementationName,p=a.playerVersion,r=a.setReactState;a=a.streamingFormat;var s=q({initialLoggingMetaData:g.loggingMetaData}),v=new(b("VideoPlayerBanzaiLogFlusher"))(s),w={current:(c=g.videoPlayerPassiveViewabilityInfo)!=null?c:null},z={current:(c=g.fullscreenController)!=null?c:null},C={current:null},D={current:g.updateLoopStateOnImplementationEnded};c=t();var E=[],F=function(){E.forEach(function(a){a()}),v.flushLogs()},G={current:null},H={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:g.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:g.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(d=g.captionsUrl)!=null?d:null}},I={current:null},J={current:null},K=new(b("SubscriptionsHandler"))(),L=!1,M={current:null},N={current:null};d=function(a,b,c){s.handleStateMachine(a,b,c),L&&r(b),F()};var O=function(a,b){},P=y({alwaysShowCaptions:Boolean(g.alwaysShowCaptions),captionsControllerRef:C,engineExtrasAPIRef:N,fullscreenControllerRef:z,handleFatalError:function(a){O(a,"state_machine_fatal_error")},handleStateMachine:d,playerImplementationName:o,playerVersion:p,streamingFormat:a,updateLoopStateOnImplementationEndedRef:D,videoElementAPIRef:M,videoPlayerPassiveViewabilityInfoRef:w}),Q=!1,R=function(a){__p&&__p();var b=M.current!=null||N.current!=null;K.release();P.dispatch({payload:{reason:a,willDestroy:b},type:"implementation_engine_destroy_requested"});try{Q||(Q=!0,h())}catch(a){}b=C.current;b!=null&&(P.getCurrentState().controlledState.captionsLoaded&&P.dispatch({type:"captions_unloaded"}),C.current=null,b.destroy());A(null,z,I,P);B(null,w,J,P);P.dispatch({payload:{reason:a},type:"implementation_engine_destroyed"})};O=function(a,b){a=f(a,b);P.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});R("implementation_fatal_error");i(a)};function S(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function T(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function U(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var V=function(a){var b=S(a),c=T(a),d=U(a),e=C.current;d!==U(H.current)&&P.dispatch({payload:{inbandCaptionsAutogenerated:d},type:"inband_captions_autogenerated_changed"});e!=null?c!==T(H.current)&&(e.updateInbandCaptionsExpected(c),!c&&P.getCurrentState().controlledState.captionsLoaded&&P.dispatch({type:"captions_unloaded"})):(b||c)&&e==null&&(C.current=j({captionsUrl:b?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:c,onCaptionsLoaded:function(){P.getCurrentState().controlledState.captionsLoaded||P.dispatch({type:"captions_loaded"})}}));H.current=a},W=function(a){var b=N.current;b!=null&&a&&a.width>0&&a.height>0&&b.setDimensions(a)};g=function(a){if(G.current===a)return;a!=null&&G.current!=null&&G.current!==a&&b("recoverableViolation")("The video element was recreated","comet_video_player");G.current=a;G.current!=null?(P.dispatch({type:"implementation_video_node_mounted"}),k()):(P.dispatch({type:"implementation_video_node_unmounted"}),m())};d=function(a){__p&&__p();var b;if(!L)return;D.current=a.updateLoopStateOnImplementationEnded;A((b=a.fullscreenController)!=null?b:null,z,I,P);B((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,w,J,P);if(!n(a)){b={inbandCaptionsAutogeneratedFromManifest:H.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:H.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};V(b);W(a.loggingMetaData.dimensions)}s.handleMetaData(a.loggingMetaData)};o=function(){L||(L=!0,K.addSubscriptions(b("RunComet").onUnload(function(){R("page_unload")})),K.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){R("banzai_shutdown")})),P.dispatch({type:"implementation_mounted"}),r(P.getCurrentState()),k())};p=function(){L&&(L=!1,P.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),R("implementation_unmounted:react_effect_cleanup"))};a=x({augmentDebugTools:e,engineExtrasAPIRef:N,videoElementAPIRef:M});e=u({concurrentAutoplayManagementAPI:c,debugTools:a,fullscreenControllerRef:z,logger:s,machine:P,subscribers:E});c=l(P,g);a={debugTools:a,destroy:R,handleReactCommit:d,handleReactMount:o,handleReactUnmount:p,handleVideoElement:g,implementationController:e,logFlusher:v,logger:s,machine:P,notifySubscribers:F,videoElementCallbacks:c};return{captionsInfoRef:H,engine:a,engineExtrasAPIRef:N,handleCaptionsInfoChange:V,handleFatalImplementationError:O,machine:P,videoElementAPIRef:M,videoElementRef:G}}function c(a,c,d){__p&&__p();var e=i(null),f=e[0],j=e[1];e=i(null);var l=e[0],m=e[1],n=h(a),o=h(c),p=b("useStable")(function(){return o.current({handleFatalError:m,initialProps:n.current,setReactState:j})});c=(e=f)!=null?e:p.machine.getInitialState();e=(f=c.controlledState.error)!=null?f:l;if(e!=null)throw b("unrecoverableViolation")(e.errorName+": "+e.errorDescription,"comet_video_player",{error:e.originalError instanceof Error?e.originalError:void 0});g(function(){p.handleReactMount();return function(){p.handleReactUnmount()}},[p]);g(function(){p.handleReactCommit(a)});f=k({debugTools:p.debugTools,isAbrEnabled:d.isAbrEnabled,state:c});return[f,p]}e.exports={createVideoPlayerImplementationEngine:a,createVideoPlayerImplementationEngineStateMachineWithEffects:y,useVideoPlayerImplementationEngine:c}}),null);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames;function i(a){return isNaN(a)?0:a}function j(a){return i(a.duration)}function k(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function l(a){return i(a.currentTime)}function a(a){__p&&__p();return{getDroppedFrameCount:function(){return g(a)},getDuration:function(){return j(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return k(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return l(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return h(a)},getUnderlyingVideoElement:function(){return a},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){a.currentTime=b},setSrc:function(b){b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b)},setVolume:function(b){a.volume=b}}}e.exports={createVideoPlayerImplementationEngineVideoElementAPI:a,getDurationFromVideoElement:j,getLastBufferEndPositionFromVideoElement:k,getPlayheadPositionFromVideoElement:l}}),null);
__d("VideoPlayerImplementationReactVideoElement.react",["React","killswitch","stylex"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.implementationController,d=a.implementationExposedState,e=a.renderWithVideoImplementationStates,f=a.src,g=a.videoElementCallbacks;a=a.videoElementRefCallback;g=b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("video",babelHelpers["extends"]({className:b("killswitch")("COMET_SAFARI_MEGA_LAYOUT_FIX_FOR_VIDEO_ATTACHMENTS")?"k4urcfbm datstx6m a8c37x1j":"k4urcfbm kr520xx4 j9ispegn pmk7jnqg datstx6m n7fi1qx3 a8c37x1j i09qtzwb",controls:!1,muted:!0},g,{ref:a,src:f})),e({implementationController:c,videoState:d})]});return b("killswitch")("COMET_SAFARI_MEGA_LAYOUT_FIX_FOR_VIDEO_ATTACHMENTS")?g:b("React").jsx("div",{className:"k4urcfbm l9j0dhe7 datstx6m",children:g})}e.exports=a}),null);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="hd",h="sd";function a(a){__p&&__p();var b=a.getProgressiveSrc,c=a.setProgressiveSrc,d=h,e=h,f={getAudioRepresentationIDAtTime:function(a){return null},getAvailableVideoQualities:function(){var a=b(),c=a.hdSrc;a=a.sdSrc;var d=[];a!=null&&d.push(h);c!=null&&d.push(g);return d},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingVideoQuality:function(){return e},getCurrentTargetVideoQuality:function(){return e},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){return"progressive"},getUserSelectedVideoQuality:function(){return d},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},isDrm:function(){return!1},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},setDimensions:function(a){},setUserSelectedVideoQuality:function(f){d=f;var i=b(),j=i.hdSrc;i=i.sdSrc;f==="notselected"||f==="auto"?(e=i!=null?h:j!=null?g:h,a=i!=null?i:j!=null?j:null):f===g&&j!=null?(e=g,a=j):f===h&&i!=null?(e=h,a=i):(e=h,a=null);c(a)}};return f}e.exports={createVideoPlayerProgressiveImplementationEngineExtrasAPI:a}}),null);
__d("VideoPlayerProgressiveImplementationEngine",["VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationHelper","VideoPlayerProgressiveImplementationEngineExtrasAPI","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine,h=b("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI,i=b("VideoPlayerImplementationHelper").createVideoPlayerErrorFromUnknownError,j=b("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI,k;function l(a,b){return i("PROGRESSIVE_JAVASCRIPT_NATIVE",a,b)}function a(a){__p&&__p();var c=a.handleFatalError,d=a.initialProps;a=a.setReactState;var e={current:null},f={current:null},i={current:null},m=function(){__p&&__p();var a=u.current,b=f.current;if(a==null||b==null)return;try{var c=h(a),d=j({getProgressiveSrc:function(){var a;a=(a=i.current)!=null?a:{hdSrc:null,sdSrc:null};var b=a.hdSrc;a=a.sdSrc;return{hdSrc:b,sdSrc:a}},setProgressiveSrc:function(a){c.setSrc(a);if(a!=null){a=(a=s.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:0;a>0&&c.setPlayheadPosition(a);s.getCurrentState().controlledState.playbackState==="playing"&&c.play();s.dispatch({payload:{targetVideoQuality:d.getCurrentTargetVideoQuality()},type:"representation_changed"})}}});q({inbandCaptionsAutogeneratedFromManifest:d.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:d.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:(a=o.current)==null?void 0:a.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:(a=o.current)==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:(a=o.current)==null?void 0:a.sideLoadCaptionsUrlFromProps});p.current=d;t.current=c;i.current=b;s.dispatch({payload:{availableQualities:d.getAvailableVideoQualities(),selectedVideoQuality:d.getUserSelectedVideoQuality(),targetVideoQuality:d.getCurrentTargetVideoQuality()},type:"implementation_engine_initialized"})}catch(a){r(a,"progressive_player_create_exception")}},n=function(a){__p&&__p();var c;c={hdSrc:a.hdSrc===""?null:(c=a.hdSrc)!=null?c:null,initialForceHD:a.initialForceHD,sdSrc:a.sdSrc===""?null:(c=a.sdSrc)!=null?c:null,videoFBID:a.videoFBID};if(e.current==null||c.videoFBID!==e.current.videoFBID||c.hdSrc!==e.current.hdSrc||c.sdSrc!==e.current.sdSrc){e.current=c;if(c.hdSrc!=null&&c.hdSrc!==""||c.sdSrc!=null&&c.sdSrc!=="")f.current=c,m();else throw b("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");return!0}else return!1};c=g({augmentDebugTools:function(a){return a},createVideoPlayerError:l,debugLog:k,destroy:function(){},handleFatalError:c,handleVideoElementMounted:m,handleVideoElementUnmounted:function(){},handleVideoInfoChange:n,initialProps:d,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",setReactState:a,streamingFormat:"progressive"});var o=c.captionsInfoRef;n=c.engine;var p=c.engineExtrasAPIRef,q=c.handleCaptionsInfoChange,r=c.handleFatalImplementationError,s=c.machine,t=c.videoElementAPIRef,u=c.videoElementRef;return n}e.exports={createVideoPlayerProgressiveImplementationEngine:a}}),null);
__d("VideoPlayerProgressiveImplementationV2.react",["BudgetProduct","React","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine,h=b("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine;function a(a){var c=g(a,h,{isAbrEnabled:!1}),d=c[0];c=c[1];return b("React").jsx(b("VideoPlayerImplementationReactVideoElement.react"),{implementationController:c.implementationController,implementationExposedState:d,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,videoElementCallbacks:c.videoElementCallbacks,videoElementRefCallback:c.handleVideoElement})}e.exports=b("BudgetProduct").create("Video_Player_Progressive",a)}),null);
__d("CometVideoHomeFeedUnitPositionContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(0);e.exports=a}),null);
__d("CometVideoHomeShowSurfacesLoggingContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({entrypoint:"",pageID:null,sectionTypeName:"",surface:""});e.exports=a}),null);
__d("VideoHomeLoggingReactionVideoChannelTypeContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(null);e.exports=a}),null);
__d("VideoPlayerLoggingSuboriginContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(null);e.exports=a}),null);