if (self.CavalryLogger) { CavalryLogger.start_js(["L7LL3"]); }

__d("AlbumScroller",["DOM","OnVisible","Style"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.init=function(a,c){__p&&__p();this.photoGroups={};this.scrollListener={};if(a.length){var d=a.shift(),e=d,f=0,g=d.id;while(e){this.photoGroups[g]||(this.photoGroups[g]=[]);var h=b("DOM").scry(e,"a.uiScrollableThumb");h.length>0&&this.photoGroups[g].push(h[0]);e=this.getNextPhotoCell(e);++f%c==0&&(this.scrollListener[g]=new(b("OnVisible"))(d,this.showPage.bind(this,d)),d=a.shift(),d&&(g=d.id))}d&&(this.scrollListener[g]=new(b("OnVisible"))(d,this.showPage.bind(this,d)))}};c.showPage=function(a){a=this.photoGroups[a.id];if(a)for(var c=0,d=a.length;c<d;c++){var e=a[c].getAttribute("data-src"),f=b("DOM").scry(a[c],"i")[0];e&&f&&b("Style").set(f,"backgroundImage","url("+e+")")}};c.getNextPhotoCell=function(a){var b=null;a.nextSibling?b=a.nextSibling:a.parentNode.nextSibling&&(b=a.parentNode.nextSibling.firstChild);return b&&b.childElementCount!==0?b:null};return a}();e.exports=a}),null);
__d("PhotoInlineOrganizer",["AsyncRequest","AsyncResponse","CSS","DOM","Event","Parent","SortableGroup","$"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(c,d){this.root=b("$")(c),this.url=d,this.IDLE="idle",this.PENDING="pending",this.SAVING="saving",this.UP="up",this.DOWN="down",this.state=this.IDLE,this.sortable=new(b("SortableGroup"))(),this.sortable.setAutoWidth(a.autoWidth),this.sortable.setRequireSameParent(!1),this.sortable.setSortablesGetter(function(){return b("DOM").scry(this.root,"div.dragWrapper")}.bind(this)),this.sortable.setInsertPlaceholderHandler(this.insertPlaceholder.bind(this)),this.sortable.setOrderChangeHandler(this.onSave.bind(this)),a.cache[c]=this,a.refresh(c),this.order=this.sortable.getOrder(),this.offsetDelta=0,b("Event").listen(this.root,"click",this.moveListener.bind(this))}var c=a.prototype;c.getItems=function(){return b("DOM").scry(this.root,"div.dragWrapper").filter(function(a){return!b("CSS").hasClass(a,"drag")})};c.moveListener=function(a){a=a.getTarget();if(b("CSS").hasClass(a,"arrow")){this.movePhoto(b("Parent").byClass(a,"dragWrapper"),b("CSS").hasClass(a,this.DOWN)?this.DOWN:this.UP);a.focus();return!1}};c.movePhoto=function(a,c){var d=b("DOM").scry(this.root,"td"),e=this.getItems();a=e.indexOf(a);var f=0;c==this.UP&&a>0?f=-1:c==this.DOWN&&a<e.length-1&&(f=1);f!==0&&(b("DOM").appendContent(d[a+this.offsetDelta],e[a+f]),b("DOM").appendContent(d[a+f+this.offsetDelta],e[a]));this.onSave()};c.save=function(){this.state!=this.IDLE?this.state=this.PENDING:(this.state=this.SAVING,new(b("AsyncRequest"))().setURI(this.url).setMethod("POST").setData({order:this.order}).setHandler(this.saveResponse.bind(this)).setErrorHandler(this.saveResponse.bind(this)).send())};c.saveResponse=function(a){var c=this.state;this.state=this.IDLE;c==this.PENDING&&this.save();a.getError()&&b("AsyncResponse").verboseErrorHandler(a)};c.onSave=function(){var a=this.sortable.getOrder();a.join("|")!=this.order.join("|")&&(this.order=a,this.save())};c.insertPlaceholder=function(a,c,d){__p&&__p();d=b("DOM").scry(this.root,"td");var e=this.getItems();c=e.indexOf(c);var f=e.indexOf(a),g;if(c>f)for(g=f;g<c;g++)b("DOM").appendContent(d[g+this.offsetDelta],e[g+1]);else for(g=f-1;g>=c;g--)b("DOM").appendContent(d[g+1+this.offsetDelta],e[g]);b("DOM").appendContent(d[c+this.offsetDelta],a)};a.refresh=function(c){var d=a.cache[c];b("DOM").scry(d.root,"td").forEach(function(a){if(a.getAttribute("data-id")){var c=b("DOM").find(a,"div.dragWrapper"),e=b("DOM").find(c,"a.uiMediaThumb");d.sortable.addSortable(a.getAttribute("data-id"),c,e);a.removeAttribute("data-id")}})};a.getInlineOrganizer=function(c){c=b("$")(c);c=b("DOM").scry(c,"table")[0];return a.cache[c.id]};a.setOffsetDelta=function(b,c){b=a.getInlineOrganizer(b);b.offsetDelta=Math.max(b.offsetDelta,c)};a.setAutoWidth=function(b,c){b=a.getInlineOrganizer(b);b.sortable.setAutoWidth(c)};a.appendToExisting=function(c,d){__p&&__p();var e;c=a.getInlineOrganizer(c);var f=(e=b("DOM")).find(c.root,"tbody");d=b("$")(d);var g=e.find(d,"table");e.scry(g,"tr").forEach(function(a){f.appendChild(a)});g=e.scry(d,".uiMorePager");g.length>0&&d.appendChild(g[0].parentNode);a.refresh(c.root.id)};return a}();a.cache={};e.exports=a}),null);
__d("legacy:album-scroller-js",["AlbumScroller"],(function(a,b,c,d,e,f){a.AlbumScroller=b("AlbumScroller")}),3);
__d("AlbumsGridPager",["DOM","ge"],(function(a,b,c,d,e,f){a={replacePager:function(a){b("DOM").setContent(b("ge")("pagelet_albums_pager"),a)},removePager:function(){b("DOM").remove(b("ge")("pagelet_albums_pager"))}};e.exports=a}),null);
__d("legacy:photo-inline-organizer-js",["PhotoInlineOrganizer"],(function(a,b,c,d,e,f){a.PhotoInlineOrganizer=b("PhotoInlineOrganizer")}),3);
__d("Pager",["fbt","Button","DOM"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this._pagerEle=a,this._options=b}var c=a.prototype;c._createSummaryText=function(){__p&&__p();var a=this._options.total,b=this._options.perpage,c=this._options.offset;if(!a)return"";if(a<=b||!this._options.showtotal)if(a==1)return g._("1 result");else return g._({"*":"{number_of_results} results"},[g._param("number_of_results",a,[0])]);else{b=Math.min(c+b,a);var d;a>500&&!this._options.alwaysshowtotal?d=g._("{starting_offset}-{ending_offset} of over {number_of_results} results",[g._param("starting_offset",c+1),g._param("ending_offset",b),g._param("number_of_results",500)]):d=g._("{starting_offset}-{ending_offset} of {number_of_results} results",[g._param("starting_offset",c+1),g._param("ending_offset",b),g._param("number_of_results",a)]);return d}};c._render=function(){var a=this._options;a.includesummary&&this.setSummary(this._createSummaryText());b("Button").setEnabled(this.getPrevButton(),a.offset>0);b("Button").setEnabled(this.getNextButton(),a.offset+a.perpage<a.total)};c.setOffset=function(a){var b=this._options;a=Math.max(0,Math.min(a,b.total-1));a!=b.offset&&(b.offset=a,this._render())};c.getOffset=function(){return this._options.offset};c.setSummary=function(a){b("DOM").setContent(b("DOM").find(this._pagerEle,"div.summary"),a)};c.getRoot=function(){return this._pagerEle};c.getPrevButton=function(){return b("DOM").find(this._pagerEle,"a.prev")};c.getNextButton=function(){return b("DOM").find(this._pagerEle,"a.next")};c.getPerpage=function(){return this._options.perpage};c.setPerpage=function(a){var b=this._options;b.perpage!=a&&(b.perpage=a,this._render())};c.setTotal=function(a){var b=this._options;b.total!=a&&(b.total=a,this._render())};c.getTotal=function(){return this._options.total};return a}();e.exports=a}),null);
__d("legacy:Pager",["Pager"],(function(a,b,c,d,e,f){a.Pager=b("Pager")}),3);