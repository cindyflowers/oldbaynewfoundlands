if (self.CavalryLogger) { CavalryLogger.start_js(["xQqlg"]); }

__d("RTCGroupCallRemoveGuestDialogContainerFetchLinkCreatorNameForGuestQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"server_session_id",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"guest_id",type:"ID",defaultValue:null}],b=[{kind:"Variable",name:"server_session_id",variableName:"server_session_id"}],c=[{kind:"Variable",name:"find",variableName:"guest_id"}],d={kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null}]},e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"RTCGroupCallRemoveGuestDialogContainerFetchLinkCreatorNameForGuestQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"messenger_call_query",storageKey:null,args:b,concreteType:"MessengerCall",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"connected_participants",storageKey:null,args:c,concreteType:"MessengerCallToConnectedParticipantsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessengerCallToConnectedParticipantsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"joining_context",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"MessengerCallInviteLink",selections:[{kind:"LinkedField",alias:null,name:"link_owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]}]}]}]}]}]}]},operation:{kind:"Operation",name:"RTCGroupCallRemoveGuestDialogContainerFetchLinkCreatorNameForGuestQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"messenger_call_query",storageKey:null,args:b,concreteType:"MessengerCall",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"connected_participants",storageKey:null,args:c,concreteType:"MessengerCallToConnectedParticipantsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessengerCallToConnectedParticipantsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"joining_context",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,f,{kind:"InlineFragment",type:"MessengerCallInviteLink",selections:[{kind:"LinkedField",alias:null,name:"link_owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,f,d]}]}]}]}]},f]}]},params:{operationKind:"query",name:"RTCGroupCallRemoveGuestDialogContainerFetchLinkCreatorNameForGuestQuery",id:"1824858160953429",text:null,metadata:{}}}}();e.exports=a}),null);
__d("RTCMeetupLockStatusQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"room_link",type:"String!",defaultValue:null}],b=[{kind:"Variable",name:"url",variableName:"room_link"}],c={kind:"InlineFragment",type:"MessengerCallInviteLink",selections:[{kind:"ScalarField",alias:null,name:"lock_status",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"RTCMeetupLockStatusQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"link",name:"url",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"RTCMeetupLockStatusQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"link",name:"url",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c]}]},params:{operationKind:"query",name:"RTCMeetupLockStatusQuery",id:"2560485717340069",text:null,metadata:{relayPreloadable:!0,live:{config_id:"rtc_web_vcl_update_query"}}}}}();e.exports=a}),null);
__d("CreateMessengerCallInviteLinkMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"CreateMessengerCallInviteLinkData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"link_url",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CreateMessengerCallInviteLinkMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"create_messenger_call_invite_link",storageKey:null,args:b,concreteType:"CreateMessengerCallInviteLinkResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"messenger_call_invite_link",storageKey:null,args:null,concreteType:"MessengerCallInviteLink",plural:!1,selections:[d]}]}]},operation:{kind:"Operation",name:"CreateMessengerCallInviteLinkMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"create_messenger_call_invite_link",storageKey:null,args:b,concreteType:"CreateMessengerCallInviteLinkResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"messenger_call_invite_link",storageKey:null,args:null,concreteType:"MessengerCallInviteLink",plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"CreateMessengerCallInviteLinkMutation",id:"1879632448805157",text:null,metadata:{}}}}();e.exports=a}),null);
__d("RevokeMessengerCallInviteLinksForThreadMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"RevokeMessengerCallInviteLinksForThreadData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"revoke_messenger_call_invite_links_for_thread",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RevokeMessengerCallInviteLinksForThreadResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"RevokeMessengerCallInviteLinksForThreadMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"RevokeMessengerCallInviteLinksForThreadMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"RevokeMessengerCallInviteLinksForThreadMutation",id:"2525319784152965",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LiveVideoBroadcastErrorCreateSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LiveVideoMutationErrorSubscribeData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"live_video_mutation_error_subscribe",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"LiveVideoMutationErrorSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"live_video_error",storageKey:null,args:null,concreteType:"LiveVideoError",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creation_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"error_code",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"error_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"error_type",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LiveVideoBroadcastErrorCreateSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"LiveVideoBroadcastErrorCreateSubscription",argumentDefinitions:a,selections:b},params:{operationKind:"subscription",name:"LiveVideoBroadcastErrorCreateSubscription",id:"2653532621324181",text:null,metadata:{subscriptionName:"live_video_mutation_error_subscribe"}}}}();e.exports=a}),null);
__d("LivingRoomReplayStreamingCommentListrQuery.graphql",[],(function(a,aa,b,c,d,e){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"feedbackID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"useDefaultActor",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth0",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth1",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"containerIsFeedStory",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"containerIsWorkplace",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"containerIsLiveStory",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"containerIsTahoe",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"feedLocation",type:"FBFeedLocation",defaultValue:null},{kind:"LocalArgument",name:"isComet",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"contentItemID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"startTimeOffset",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null}],aa=[{kind:"Variable",name:"id",variableName:"feedbackID"}],b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c=[b],d={kind:"LinkedField",alias:null,name:"associated_video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:c},e=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],f={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},g=[f,b],ba=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"living_room_content_item_id",variableName:"contentItemID"},{kind:"Variable",name:"start_time_offset",variableName:"startTimeOffset"}],h={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},j=[i],k={kind:"Variable",name:"scale",variableName:"scale"},l={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},m=[l],ca={kind:"LinkedField",alias:"profile_picture_depth_0",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth0"},k,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth0"}],concreteType:"Image",plural:!1,selections:m},da={kind:"LinkedField",alias:"profile_picture_depth_1",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth1"},k,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth1"}],concreteType:"Image",plural:!1,selections:m},n=[{kind:"Literal",name:"site",value:"www"}],o=[{kind:"ScalarField",alias:"www_url",name:"url",args:n,storageKey:'url(site:"www")'}],ea={kind:"InlineFragment",type:"Application",selections:o},fa={kind:"InlineFragment",type:"Event",selections:o},ga={kind:"InlineFragment",type:"Group",selections:o},ha={kind:"InlineFragment",type:"Page",selections:o};o={kind:"InlineFragment",type:"User",selections:o};var ia={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},ja={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},ka=[ia];n={kind:"ScalarField",alias:null,name:"url",args:n,storageKey:'url(site:"www")'};var q={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},s=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}],la={kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},ma={kind:"ScalarField",alias:null,name:"group_id",args:null,storageKey:null},na={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null},oa={kind:"ScalarField",alias:null,name:"is_author_banned_by_content_owner",args:null,storageKey:null},pa={kind:"LinkedField",alias:null,name:"viewer_acts_as_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:c},t={kind:"ScalarField",alias:null,name:"translation_type",args:null,storageKey:null},qa={kind:"ScalarField",alias:null,name:"time_index",args:null,storageKey:null},ra={kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[f,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},b]},q,r]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[f,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,n,b,{kind:"InlineFragment",type:"ExternalUrl",selections:[{kind:"ScalarField",alias:null,name:"can_skip_redirect",args:null,storageKey:null}]},{kind:"InlineFragment",type:"VideoTimeIndex",selections:[qa,{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:c}]}]},la,q,r]}]},sa={kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:s,concreteType:null,plural:!1,selections:[f,t,ra]},u={kind:"Variable",name:"feed_location",variableName:"feedLocation"},v=[u],w={kind:"ScalarField",alias:null,name:"badge_asset",args:null,storageKey:null},ta={kind:"ScalarField",alias:null,name:"badge_color",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"identity_badge_type",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"multiple_badge_asset",args:null,storageKey:null},ua={kind:"ScalarField",alias:null,name:"multiple_badge_asset_colored",args:null,storageKey:null},va={kind:"ScalarField",alias:null,name:"serialized",args:null,storageKey:null},wa={kind:"ScalarField",alias:null,name:"badge_color_variant",args:null,storageKey:null},xa={kind:"ScalarField",alias:null,name:"subscription_target_id",args:null,storageKey:null},z={kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:[ja]},ya={kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null},za={kind:"LinkedField",alias:null,name:"page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:c},Aa={kind:"ScalarField",alias:null,name:"permalink",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"can_viewer_react",args:e,storageKey:null},C={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null};C={kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,p,{kind:"InlineFragment",type:"User",selections:[C,{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null}]},{kind:"InlineFragment",type:"Page",selections:[C]}]};var D={kind:"ScalarField",alias:null,name:"is_author_weak_reference",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"can_see_constituent_badge_upsell",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"tag_type",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"member_id",args:null,storageKey:null},I={kind:"LinkedField",alias:null,name:"small_icon",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:m},J={kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"LinkedField",alias:"legacy_author_member_badges",name:"author_member_badges",storageKey:null,args:[u,{kind:"Literal",name:"is_comet",value:!1}],concreteType:"RenderableGroupMemberTag",plural:!0,selections:[G,H,ma,{kind:"ScalarField",alias:null,name:"argb_background_color",args:null,storageKey:null},p,{kind:"ScalarField",alias:null,name:"dialog_url",args:null,storageKey:null},I]}]},K={kind:"ScalarField",alias:null,name:"has_constituent_badge",args:null,storageKey:null},Ba={kind:"LinkedField",alias:"sub_reply_parent_preview_context",name:"sub_reply_parent_context",storageKey:'sub_reply_parent_context(type:"REPLY_PREVIEW_CONTEXT")',args:[{kind:"Literal",name:"type",value:"REPLY_PREVIEW_CONTEXT"}],concreteType:null,plural:!1,selections:[f]},Ca={kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:j},L={kind:"Literal",name:"height",value:396},M={kind:"Literal",name:"width",value:396},N={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},P=[N,l,O],Q={kind:"ScalarField",alias:null,name:"animated_image_attribution",args:null,storageKey:null},R={kind:"LinkedField",alias:null,name:"objectionable_content_info",storageKey:null,args:null,concreteType:"ObjectionableContentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"categories",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"strings",storageKey:null,args:null,concreteType:"ObjectionableContentWarningScreenText",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"blur_subtitle",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"blur_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"cover_media_link",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"learn_more_desc",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"learn_more_uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"show_media_desc",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uncover_media_link",args:null,storageKey:null}]}]},S=[l,O,N];L={kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,{kind:"LinkedField",alias:"gifAnimatedImage_396",name:"animated_image",storageKey:null,args:[L,{kind:"Literal",name:"media_type",value:"image/gif"},k,M],concreteType:"Image",plural:!1,selections:P},{kind:"LinkedField",alias:"image_396",name:"image",storageKey:null,args:[L,k,{kind:"Literal",name:"sizing",value:"contain-fit"},M],concreteType:"Image",plural:!1,selections:P},{kind:"LinkedField",alias:"webPAnimatedImage_396",name:"animated_image",storageKey:null,args:[L,{kind:"Literal",name:"media_type",value:"image/webp"},k,M],concreteType:"Image",plural:!1,selections:P},b,{kind:"LinkedField",alias:"fallback_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:98},k,{kind:"Literal",name:"width",value:98}],concreteType:"Image",plural:!1,selections:P},{kind:"ScalarField",alias:null,name:"is_playable",args:null,storageKey:null},{kind:"InlineFragment",type:"Video",selections:[Q,R,O,N,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:m},{kind:"ScalarField",alias:null,name:"original_height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"original_width",args:null,storageKey:null},{kind:"Condition",passingValue:!0,condition:"isComet",selections:[{kind:"ScalarField",alias:null,name:"playable_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"broadcaster_origin",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_looping",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"loop_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permalink_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"captions_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"dash_prefetch_experimental",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_use_oz",args:null,storageKey:null},{kind:"ScalarField",alias:"playable_url_dash",name:"playable_url",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{kind:"ScalarField",alias:null,name:"dash_manifest",args:null,storageKey:null},{kind:"ScalarField",alias:"playable_url_quality_hd",name:"playable_url",args:[{kind:"Literal",name:"quality",value:"HD"}],storageKey:'playable_url(quality:"HD")'},{kind:"ScalarField",alias:null,name:"autoplay_gating_result",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_autoplay_setting",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_autoplay",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"drm_info",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"captions_settings",storageKey:null,args:null,concreteType:"CaptionsSettings",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"always_show_captions",args:null,storageKey:null},b]}]}]},{kind:"InlineFragment",type:"GenericAttachmentMedia",selections:[Q]},{kind:"InlineFragment",type:"Photo",selections:[R,{kind:"ScalarField",alias:null,name:"accessibility_caption",args:null,storageKey:null},{kind:"LinkedField",alias:"massive_image",name:"image",storageKey:null,args:[k],concreteType:"Image",plural:!1,selections:[O,N]},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:210},k,{kind:"Literal",name:"width",value:260}],concreteType:"Image",plural:!1,selections:S}]}]};M=[{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},b,h,{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"overall_rating",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"price_range_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__height:60,size__width:60)",args:[{kind:"Literal",name:"size__height",value:60},{kind:"Literal",name:"size__width",value:60}],concreteType:"Image",plural:!1,selections:m},{kind:"ScalarField",alias:null,name:"top_category_name",args:null,storageKey:null},p];P={kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,b,{kind:"InlineFragment",type:"CommentPlaceInfo",selections:[{kind:"ScalarField",alias:null,name:"can_viewer_add_to_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_remove_from_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_suggested_to_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_remove_suggested_from_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_curate_attachment",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pending_places_for_attachment",storageKey:null,args:null,concreteType:"Page",plural:!0,selections:M},{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"recommendation_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:M},b]}]}]},{kind:"InlineFragment",type:"ExternalUrl",selections:[p]}]};Q={kind:"LinkedField",alias:null,name:"style_infos",storageKey:null,args:null,concreteType:null,plural:!0,selections:[f,{kind:"InlineFragment",type:"FundraiserForStoryDonationAttachmentStyleInfo",selections:[{kind:"LinkedField",alias:null,name:"donation_comment_text",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,p,b]},q,r]},i]}]}]};R={kind:"LinkedField",alias:null,name:"title_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:j};M={kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[f,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null}]}]};var Da={kind:"ScalarField",alias:null,name:"tracking",args:null,storageKey:null},Ea={kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},T=[h,b],U=[{kind:"Literal",name:"height",value:80},k,{kind:"Literal",name:"width",value:80}];m={kind:"LinkedField",alias:"sticker",name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,b,{kind:"InlineFragment",type:"Sticker",selections:[{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},Ea,{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:T},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:U,concreteType:"Image",plural:!1,selections:m},{kind:"LinkedField",alias:"sticker_image",name:"image",storageKey:null,args:U,concreteType:"Image",plural:!1,selections:S},{kind:"LinkedField",alias:"larger_sticker_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:120},k,{kind:"Literal",name:"width",value:120}],concreteType:"Image",plural:!1,selections:S},{kind:"ScalarField",alias:null,name:"sticker_type",args:null,storageKey:null}]}]};U={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[p,Ca,L,P,Q,R,M,Da,m,{kind:"LinkedField",alias:"style_type_renderer_blue",name:"style_type_renderer",storageKey:'style_type_renderer(supported:["StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentChatCommandStyleRenderer"])',args:[{kind:"Literal",name:"supported",value:["StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentChatCommandStyleRenderer"]}],concreteType:null,plural:!1,selections:[f,{kind:"InlineFragment",type:"StoryAttachmentTipJarPaymentStyleRenderer",selections:[{kind:"ModuleImport",documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentChatCommandStyleRenderer",selections:[{kind:"ModuleImport",documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]}]}]};k={kind:"LinkedField",alias:null,name:"parent_post_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:c};S={kind:"ScalarField",alias:null,name:"chat_to_buy",args:null,storageKey:null};var V={kind:"LinkedField",alias:null,name:"edit_history",storageKey:null,args:null,concreteType:"EditHistoryConnection",plural:!1,selections:ka},W={kind:"LinkedField",alias:null,name:"page_admin_actor_info",storageKey:null,args:null,concreteType:"PageAdminActorInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"creator_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creator_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creator_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"page_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profile_uri",args:null,storageKey:null}]},Fa={kind:"ScalarField",alias:null,name:"can_viewer_ban_user",args:null,storageKey:null},Ga={kind:"LinkedField",alias:null,name:"parent_feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[Fa]},Ha={kind:"LinkedField",alias:null,name:"private_reply_context",storageKey:null,args:null,concreteType:"PrivateReplyContext",plural:!1,selections:[za,A]},X={kind:"LinkedField",alias:null,name:"translatability_for_viewer",storageKey:null,args:null,concreteType:"PostTranslatability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"source_dialect_name",args:null,storageKey:null}]},Y={kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null};u={kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"author_member_badges",storageKey:null,args:[u,{kind:"Literal",name:"is_comet",value:!0}],concreteType:"RenderableGroupMemberTag",plural:!0,selections:[G,H,ma,I]},{kind:"ModuleImport",documentName:"CometUFICommentActorLink_comment",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo"}]};G={kind:"ScalarField",alias:null,name:"share_fbid",args:null,storageKey:null};H={kind:"LinkedField",alias:null,name:"political_figure_data",storageKey:null,args:null,concreteType:"PoliticalFigureData",plural:!1,selections:[h,{kind:"LinkedField",alias:null,name:"political_office",storageKey:null,args:null,concreteType:"PoliticalOffice",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"generic_title",args:null,storageKey:null},b]},{kind:"LinkedField",alias:null,name:"best_profile",storageKey:null,args:null,concreteType:null,plural:!1,selections:g},b]};I=[G,H];var Ia={kind:"Condition",passingValue:!0,condition:"isComet",selections:[u,{kind:"LinkedField",alias:null,name:"parent_feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:I}]};T={kind:"Condition",passingValue:!0,condition:"containerIsWorkplace",selections:[{kind:"ScalarField",alias:null,name:"is_author_non_coworker",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_author_bot",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_author_original_poster",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"synced_intern_qa_answer",storageKey:null,args:null,concreteType:"InternQASyncedAnswerData",plural:!1,selections:[A,{kind:"ScalarField",alias:null,name:"activity_uri",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"last_editor",storageKey:null,args:null,concreteType:"User",plural:!1,selections:T}]}]};var Ja={kind:"ScalarField",alias:null,name:"is_created_from_subscription",args:null,storageKey:null},Ka={kind:"ScalarField",alias:null,name:"is_locally_composed",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"optimistic_error",args:null,storageKey:null},$={kind:"ScalarField",alias:null,name:"optimistic_action",args:null,storageKey:null},La={kind:"ScalarField",alias:null,name:"optimistic_error_code",args:null,storageKey:null},Ma={kind:"ClientExtension",selections:[Ja,Ka,Z,$,La]},Na={kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[z,d,B]},Oa={kind:"ScalarField",alias:null,name:"written_while_video_was_live",args:null,storageKey:null},Pa={kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,h,b,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"first_name",args:null,storageKey:null}]}]}]},Qa=[{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[ya]}],Ra={kind:"ClientExtension",selections:[Ja]},Sa={kind:"LinkedField",alias:null,name:"associated_group",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:c},Ta={kind:"Condition",passingValue:!0,condition:"containerIsFeedStory",selections:I},Ua={kind:"Condition",passingValue:!0,condition:"containerIsLiveStory",selections:I};I={kind:"Condition",passingValue:!0,condition:"containerIsTahoe",selections:I};var Va=[Sa,Ta,Ua,I];return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomReplayStreamingCommentListrQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:aa,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"LivingRoomReplayStreamingCommentList_feedback",args:[{kind:"Variable",name:"contentItemID",variableName:"contentItemID"},{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Variable",name:"startTimeOffset",variableName:"startTimeOffset"}]}]}]},operation:{kind:"Operation",name:"LivingRoomReplayStreamingCommentListrQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:aa,concreteType:"Feedback",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"viewer_actor",storageKey:null,args:e,concreteType:null,plural:!1,selections:g},b,{kind:"LinkedField",alias:null,name:"living_room_replay_timestamped_comments",storageKey:null,args:ba,concreteType:"FeedbackLivingRoomReplayTimestampedCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FeedbackLivingRoomReplayTimestampedCommentsEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room_content_item",storageKey:null,args:null,concreteType:"LivingRoomContentItem",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[h,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:j},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,h,b]},b]}]},{kind:"ScalarField",alias:null,name:"timestamp_in_video",args:null,storageKey:null},b,{kind:"ScalarField",alias:null,name:"can_viewer_disable_preview",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:g},{kind:"ScalarField",alias:null,name:"spam_display_mode",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:c}]},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,b,h,ca,da,ea,fa,ga,ha,o]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[ia,{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:e,concreteType:"FeedbackReactionInfo",plural:!1,selections:[ja,b]},{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[ja,b,{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:null,name:"viewer_actor",storageKey:null,args:e,concreteType:null,plural:!1,selections:[f,b,h,p,ca,da,ea,fa,ga,ha,o]},{kind:"ScalarField",alias:null,name:"constituent_badge_banner_link",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_muted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"have_comments_been_disabled",args:null,storageKey:null},{kind:"LinkedField",alias:"display_comments_count",name:"display_comments",storageKey:null,args:null,concreteType:"DisplayCommentsConnection",plural:!1,selections:ka},{kind:"LinkedField",alias:null,name:"comments_disabled_notice",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,n,b]},q,r]},i]},{kind:"ScalarField",alias:null,name:"comment_composer_placeholder",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:s,concreteType:null,plural:!1,selections:[f,{kind:"InlineFragment",type:"TextWithEntities",selections:j}]},{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[f,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:g},la,q,r]}]},{kind:"ScalarField",alias:null,name:"is_markdown_enabled",args:null,storageKey:null},f,{kind:"Condition",passingValue:!1,condition:"isComet",selections:[{kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_author_muted",args:null,storageKey:null},ma,{kind:"ScalarField",alias:null,name:"can_viewer_report_comment_to_admin_with_tags",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_block_author",args:null,storageKey:null}]},na,{kind:"ScalarField",alias:null,name:"comment_menu_tooltip",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"comment_menu_items",storageKey:null,args:null,concreteType:null,plural:!0,selections:[f,{kind:"InlineFragment",type:"CommentMenuItemDeleteAndRemoveMember",selections:[{kind:"ScalarField",alias:null,name:"show_remove_content_options",args:null,storageKey:null}]}]},oa,{kind:"LinkedField",alias:null,name:"parent_feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[b,pa]},{kind:"ScalarField",alias:null,name:"create_detailed_report_uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"us_structured_reporting_enabled",args:null,storageKey:null},{kind:"Condition",passingValue:!0,condition:"containerIsFeedStory",selections:[sa,{kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:v,concreteType:"IdentityBadge",plural:!0,selections:[w,ta,x,y,ua,i,va,wa,{kind:"ModuleImport",documentName:"FeedStoryUFICommentBody_comment",fragmentName:"UFI2CommentIdentityBadges_identityBadge",fragmentPropName:"identityBadge"}]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[xa,z,d,{kind:"LinkedField",alias:null,name:"page_private_reply",storageKey:null,args:null,concreteType:"PrivateReplyContext",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"activity",storageKey:null,args:null,concreteType:"PageReplyableActivity",plural:!1,selections:[b,ya]},A,za,Aa,{kind:"ScalarField",alias:null,name:"has_reply_permission",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"should_show_private_reply_nux",args:null,storageKey:null}]},B]},C,D,E,F,J,K,Ba,U,k,{kind:"ScalarField",alias:null,name:"can_viewer_share",args:null,storageKey:null},S,V,W,Ga,Ha,X,Y,p,Ia,T,Ma]},{kind:"Condition",passingValue:!0,condition:"containerIsWorkplace",selections:[{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:s,concreteType:null,plural:!1,selections:[f,t,{kind:"InlineFragment",type:"FBMarkdownCommentBody",selections:[{kind:"ScalarField",alias:null,name:"fb_workplace_commonmark_ast_serialized",args:null,storageKey:null}]},ra]},C,D,F,J,K,E,{kind:"ScalarField",alias:null,name:"insights_data_point",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"file_marker",storageKey:null,args:null,concreteType:"FileMarker",plural:!1,selections:[Ea,{kind:"ScalarField",alias:null,name:"page_number",args:null,storageKey:null}]},Ba,V,Na,X,Y,p,Ia,T,{kind:"ClientExtension",selections:[Ja,Ka,Z,{kind:"ScalarField",alias:null,name:"used_writing_help_to_compose",args:null,storageKey:null},$,La]}]},{kind:"Condition",passingValue:!0,condition:"containerIsLiveStory",selections:[Oa,sa,Pa,{kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:v,concreteType:"IdentityBadge",plural:!0,selections:[w,ta,x,y,ua,i,va,wa,{kind:"ModuleImport",documentName:"LiveFeedStoryUFICommentBody_comment",fragmentName:"UFI2CommentIdentityBadges_identityBadge",fragmentPropName:"identityBadge"}]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[xa,z,d,B]},C,D,F,J,K,E,S,V,W,Ga,X,Y,p,Ia,T,Ma]},{kind:"Condition",passingValue:!0,condition:"containerIsTahoe",selections:[S,E,V,Na,W,Ga,{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:s,concreteType:null,plural:!1,selections:[f,t]},X,Y,p,{kind:"ClientExtension",selections:[$,La,Z]}]}]},{kind:"Condition",passingValue:!0,condition:"isComet",selections:[{kind:"ScalarField",alias:null,name:"should_show_comment_menu",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:s,concreteType:null,plural:!1,selections:[f,t,{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"LinkedField",alias:null,name:"image_ranges",storageKey:null,args:null,concreteType:"ImageAtRange",plural:!0,selections:[q,r,{kind:"LinkedField",alias:null,name:"entity_with_image",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[N,{kind:"ScalarField",alias:null,name:"scale",args:null,storageKey:null},l,O]},b]}]},{kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:[q,r,{kind:"ScalarField",alias:null,name:"inline_style",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"aggregated_ranges",storageKey:null,args:null,concreteType:"AggregatedEntitiesAtRange",plural:!0,selections:[q,r,{kind:"LinkedField",alias:null,name:"all_entities",storageKey:null,args:null,concreteType:"AllEntitiesFromAggregatedRangeConnection",plural:!1,selections:ka},{kind:"LinkedField",alias:null,name:"sample_entities",storageKey:null,args:null,concreteType:null,plural:!0,selections:[f,b,{kind:"InlineFragment",type:"User",selections:[h]}]}]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,b,n,{kind:"InlineFragment",type:"ExternalUrl",selections:[{kind:"ScalarField",alias:null,name:"external_url",args:null,storageKey:null}]},{kind:"InlineFragment",type:"VideoTimeIndex",selections:[qa]},{kind:"InlineFragment",type:"User",selections:Qa},{kind:"InlineFragment",type:"Group",selections:Qa}]},q,r]}]}]},Pa,D,Oa,C,u,K,F,na,{kind:"LinkedField",alias:null,name:"parent_feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[G,H,b,Fa,pa]},{kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:v,concreteType:"IdentityBadge",plural:!0,selections:[w,y,i,{kind:"ScalarField",alias:null,name:"information_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"information_asset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"information_description",args:null,storageKey:null},x]},{kind:"ScalarField",alias:null,name:"can_show_multiple_identity_badges",args:v,storageKey:null},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"LinkedField",alias:"style_type_renderer_comet",name:"style_type_renderer",storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentGroupInviteNonMemberMentionedStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer"])',args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentGroupInviteNonMemberMentionedStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer"]}],concreteType:null,plural:!1,selections:[f,{kind:"InlineFragment",type:"StoryAttachmentAnimatedImageShareStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentDonationStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentFallbackStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentPhotoStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentStickerStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentVideoAutoplayStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentVideoStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentTipJarPaymentStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentGroupInviteNonMemberMentionedStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentGroupInviteNonMemberMentionedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentCommentPlaceInfoStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]}]}]},oa,S,E,V,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[z,d,{kind:"LinkedField",alias:null,name:"page_private_reply",storageKey:null,args:null,concreteType:"PrivateReplyContext",plural:!1,selections:[A,Aa,za]},B]},W,Ha,X,Y,p,{kind:"ClientExtension",selections:[$,Z,La]}]},{kind:"Condition",passingValue:!0,condition:"containerIsTahoe",selections:[Oa,{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:s,concreteType:null,plural:!1,selections:[f,ra]},Pa,{kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:v,concreteType:"IdentityBadge",plural:!0,selections:[w,ta,x,y,ua,i,va,wa,{kind:"ModuleImport",documentName:"TahoeUFICommentBody_comment",fragmentName:"UFI2CommentIdentityBadges_identityBadge",fragmentPropName:"identityBadge"}]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[xa]},C,D,E,F,na,J,K,U,k,T,{kind:"ClientExtension",selections:[Ja,Ka,Z]}]},{kind:"Condition",passingValue:!0,condition:"containerIsLiveStory",selections:[U,k,Ra]},{kind:"Condition",passingValue:!0,condition:"containerIsWorkplace",selections:[{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[p,Ca,L,P,Q,R,M,Da,m]},k,Ra]},{kind:"ClientExtension",selections:[{kind:"ScalarField",alias:null,name:"client_id",args:null,storageKey:null},$,Z]}]}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"living_room_replay_timestamped_comments",args:ba,handle:"connection",key:"LivingRoomReplayStreamingCommentList_living_room_replay_timestamped_comments",filters:["living_room_content_item_id","start_time_offset"]},{kind:"Condition",passingValue:!1,condition:"isComet",selections:[{kind:"Condition",passingValue:!0,condition:"containerIsFeedStory",selections:Va},{kind:"Condition",passingValue:!0,condition:"containerIsWorkplace",selections:[{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_marker",args:null,storageKey:null},Sa,Ta,Ua,I]},{kind:"Condition",passingValue:!0,condition:"containerIsLiveStory",selections:Va}]},{kind:"Condition",passingValue:!0,condition:"containerIsTahoe",selections:Va}]}]},params:{operationKind:"query",name:"LivingRoomReplayStreamingCommentListrQuery",id:"2885212264842442",text:null,metadata:{}}}}();d.exports=a}),null);
__d("LivingRoomReplayStreamingReactionsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"feedback_id",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"living_room_content_item_id",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"after_timestamp",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"feedback_id"}],c=[{kind:"Variable",name:"after_time",variableName:"after_timestamp"},{kind:"Variable",name:"living_room_content_item_id",variableName:"living_room_content_item_id"},{kind:"Literal",name:"within_time",value:3}],d={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomReplayStreamingReactionsQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"reaction_time_slices",storageKey:null,args:c,concreteType:"ReactionTimeSlice",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"reactions",storageKey:null,args:null,concreteType:"StreamingReaction",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[d]}]}]}]}]},operation:{kind:"Operation",name:"LivingRoomReplayStreamingReactionsQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"reaction_time_slices",storageKey:null,args:c,concreteType:"ReactionTimeSlice",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"reactions",storageKey:null,args:null,concreteType:"StreamingReaction",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[d,e]}]}]},e]}]},params:{operationKind:"query",name:"LivingRoomReplayStreamingReactionsQuery",id:"2454611324585964",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomReplayUFIRendererQuery.graphql",[],(function(a,aa,b,c,d,e){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"feedbackID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"useDefaultActor",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth0",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth1",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"containerIsFeedStory",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"containerIsWorkplace",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"containerIsLiveStory",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"containerIsTahoe",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"feedLocation",type:"FBFeedLocation",defaultValue:null},{kind:"LocalArgument",name:"isComet",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"contentItemID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"startTimeOffset",type:"Int",defaultValue:null}],aa=[{kind:"Variable",name:"id",variableName:"feedbackID"}],b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],d={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},g={kind:"Variable",name:"scale",variableName:"scale"},h={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},i=[h],j={kind:"LinkedField",alias:"profile_picture_depth_0",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth0"},g,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth0"}],concreteType:"Image",plural:!1,selections:i},k={kind:"LinkedField",alias:"profile_picture_depth_1",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth1"},g,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth1"}],concreteType:"Image",plural:!1,selections:i},l=[{kind:"Literal",name:"site",value:"www"}],m=[{kind:"ScalarField",alias:"www_url",name:"url",args:l,storageKey:'url(site:"www")'}],n={kind:"InlineFragment",type:"Application",selections:m},o={kind:"InlineFragment",type:"Event",selections:m},p={kind:"InlineFragment",type:"Group",selections:m},q={kind:"InlineFragment",type:"Page",selections:m};m={kind:"InlineFragment",type:"User",selections:m};var ba={kind:"LinkedField",alias:null,name:"viewer_actor",storageKey:null,args:c,concreteType:null,plural:!1,selections:[d,b,e,f,j,k,n,o,p,q,m]},ca={kind:"ScalarField",alias:null,name:"comment_composer_placeholder",args:null,storageKey:null},r=[b],da={kind:"LinkedField",alias:null,name:"associated_video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:r},ea=[d,b],fa={kind:"Variable",name:"living_room_content_item_id",variableName:"contentItemID"},ga={kind:"Variable",name:"start_time_offset",variableName:"startTimeOffset"},ha=[{kind:"Literal",name:"first",value:15},fa,ga],ia={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},t=[s],ja={kind:"LinkedField",alias:null,name:"living_room_content_item",storageKey:null,args:null,concreteType:"LivingRoomContentItem",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e,b]},b]}]},ka={kind:"ScalarField",alias:null,name:"timestamp_in_video",args:null,storageKey:null},la={kind:"ScalarField",alias:null,name:"can_viewer_disable_preview",args:null,storageKey:null},ma={kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null},na={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null}]},oa={kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:ea},pa={kind:"ScalarField",alias:null,name:"spam_display_mode",args:null,storageKey:null},qa={kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:r}]};j={kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,b,e,j,k,n,o,p,q,m]};k={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null};n={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null};o=[k];p={kind:"ScalarField",alias:null,name:"url",args:l,storageKey:'url(site:"www")'};q={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null};m={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null};l={kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[k,{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:c,concreteType:"FeedbackReactionInfo",plural:!1,selections:[n,b]},{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[n,b,{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null}]}]}]},ba,{kind:"ScalarField",alias:null,name:"constituent_badge_banner_link",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_muted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"have_comments_been_disabled",args:null,storageKey:null},{kind:"LinkedField",alias:"display_comments_count",name:"display_comments",storageKey:null,args:null,concreteType:"DisplayCommentsConnection",plural:!1,selections:o},{kind:"LinkedField",alias:null,name:"comments_disabled_notice",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,p,b]},q,m]},s]},ca]};k=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}];var ra={kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:k,concreteType:null,plural:!1,selections:[d,{kind:"InlineFragment",type:"TextWithEntities",selections:t}]},u={kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},sa={kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[s,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[d,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:ea},u,q,m]}]},ta={kind:"ScalarField",alias:null,name:"is_markdown_enabled",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"group_id",args:null,storageKey:null},ua={kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_author_muted",args:null,storageKey:null},v,{kind:"ScalarField",alias:null,name:"can_viewer_report_comment_to_admin_with_tags",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_block_author",args:null,storageKey:null}]},w={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null},va={kind:"ScalarField",alias:null,name:"comment_menu_tooltip",args:null,storageKey:null},wa={kind:"LinkedField",alias:null,name:"comment_menu_items",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,{kind:"InlineFragment",type:"CommentMenuItemDeleteAndRemoveMember",selections:[{kind:"ScalarField",alias:null,name:"show_remove_content_options",args:null,storageKey:null}]}]},xa={kind:"ScalarField",alias:null,name:"is_author_banned_by_content_owner",args:null,storageKey:null},ya={kind:"LinkedField",alias:null,name:"viewer_acts_as_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:r},za={kind:"LinkedField",alias:null,name:"parent_feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[b,ya]},Aa={kind:"ScalarField",alias:null,name:"create_detailed_report_uri",args:null,storageKey:null},Ba={kind:"ScalarField",alias:null,name:"us_structured_reporting_enabled",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"translation_type",args:null,storageKey:null},Ca={kind:"ScalarField",alias:null,name:"time_index",args:null,storageKey:null};u={kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[d,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},b]},q,m]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[d,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,p,b,{kind:"InlineFragment",type:"ExternalUrl",selections:[{kind:"ScalarField",alias:null,name:"can_skip_redirect",args:null,storageKey:null}]},{kind:"InlineFragment",type:"VideoTimeIndex",selections:[Ca,{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:r}]}]},u,q,m]}]};var Da={kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:k,concreteType:null,plural:!1,selections:[d,x,u]},y={kind:"Variable",name:"feed_location",variableName:"feedLocation"},Ea=[y],Fa={kind:"ScalarField",alias:null,name:"badge_asset",args:null,storageKey:null},Ga={kind:"ScalarField",alias:null,name:"badge_color",args:null,storageKey:null},Ha={kind:"ScalarField",alias:null,name:"identity_badge_type",args:null,storageKey:null},Ia={kind:"ScalarField",alias:null,name:"multiple_badge_asset",args:null,storageKey:null},Ja={kind:"ScalarField",alias:null,name:"multiple_badge_asset_colored",args:null,storageKey:null},Ka={kind:"ScalarField",alias:null,name:"serialized",args:null,storageKey:null},La={kind:"ScalarField",alias:null,name:"badge_color_variant",args:null,storageKey:null},Ma={kind:"ScalarField",alias:null,name:"subscription_target_id",args:null,storageKey:null};n={kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:[n]};var z={kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null},B={kind:"LinkedField",alias:null,name:"page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:r},Na={kind:"ScalarField",alias:null,name:"permalink",args:null,storageKey:null};c={kind:"ScalarField",alias:null,name:"can_viewer_react",args:c,storageKey:null};var C={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null};C={kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,f,{kind:"InlineFragment",type:"User",selections:[C,{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null}]},{kind:"InlineFragment",type:"Page",selections:[C]}]};var D={kind:"ScalarField",alias:null,name:"is_author_weak_reference",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"can_see_constituent_badge_upsell",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"tag_type",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"member_id",args:null,storageKey:null},I={kind:"LinkedField",alias:null,name:"small_icon",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i},J={kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"LinkedField",alias:"legacy_author_member_badges",name:"author_member_badges",storageKey:null,args:[y,{kind:"Literal",name:"is_comet",value:!1}],concreteType:"RenderableGroupMemberTag",plural:!0,selections:[G,H,v,{kind:"ScalarField",alias:null,name:"argb_background_color",args:null,storageKey:null},f,{kind:"ScalarField",alias:null,name:"dialog_url",args:null,storageKey:null},I]}]},K={kind:"ScalarField",alias:null,name:"has_constituent_badge",args:null,storageKey:null},L={kind:"LinkedField",alias:"sub_reply_parent_preview_context",name:"sub_reply_parent_context",storageKey:'sub_reply_parent_context(type:"REPLY_PREVIEW_CONTEXT")',args:[{kind:"Literal",name:"type",value:"REPLY_PREVIEW_CONTEXT"}],concreteType:null,plural:!1,selections:[d]},Oa={kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t},M={kind:"Literal",name:"height",value:396},N={kind:"Literal",name:"width",value:396},O={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},Q=[O,h,P],Pa={kind:"ScalarField",alias:null,name:"animated_image_attribution",args:null,storageKey:null},Qa={kind:"LinkedField",alias:null,name:"objectionable_content_info",storageKey:null,args:null,concreteType:"ObjectionableContentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"categories",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"strings",storageKey:null,args:null,concreteType:"ObjectionableContentWarningScreenText",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"blur_subtitle",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"blur_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"cover_media_link",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"learn_more_desc",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"learn_more_uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"show_media_desc",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uncover_media_link",args:null,storageKey:null}]}]},R=[h,P,O];M={kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"LinkedField",alias:"gifAnimatedImage_396",name:"animated_image",storageKey:null,args:[M,{kind:"Literal",name:"media_type",value:"image/gif"},g,N],concreteType:"Image",plural:!1,selections:Q},{kind:"LinkedField",alias:"image_396",name:"image",storageKey:null,args:[M,g,{kind:"Literal",name:"sizing",value:"contain-fit"},N],concreteType:"Image",plural:!1,selections:Q},{kind:"LinkedField",alias:"webPAnimatedImage_396",name:"animated_image",storageKey:null,args:[M,{kind:"Literal",name:"media_type",value:"image/webp"},g,N],concreteType:"Image",plural:!1,selections:Q},b,{kind:"LinkedField",alias:"fallback_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:98},g,{kind:"Literal",name:"width",value:98}],concreteType:"Image",plural:!1,selections:Q},{kind:"ScalarField",alias:null,name:"is_playable",args:null,storageKey:null},{kind:"InlineFragment",type:"Video",selections:[Pa,Qa,P,O,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i},{kind:"ScalarField",alias:null,name:"original_height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"original_width",args:null,storageKey:null},{kind:"Condition",passingValue:!0,condition:"isComet",selections:[{kind:"ScalarField",alias:null,name:"playable_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"broadcaster_origin",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_looping",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"loop_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permalink_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"captions_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"dash_prefetch_experimental",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_use_oz",args:null,storageKey:null},{kind:"ScalarField",alias:"playable_url_dash",name:"playable_url",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{kind:"ScalarField",alias:null,name:"dash_manifest",args:null,storageKey:null},{kind:"ScalarField",alias:"playable_url_quality_hd",name:"playable_url",args:[{kind:"Literal",name:"quality",value:"HD"}],storageKey:'playable_url(quality:"HD")'},{kind:"ScalarField",alias:null,name:"autoplay_gating_result",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_autoplay_setting",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_autoplay",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"drm_info",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"captions_settings",storageKey:null,args:null,concreteType:"CaptionsSettings",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"always_show_captions",args:null,storageKey:null},b]}]}]},{kind:"InlineFragment",type:"GenericAttachmentMedia",selections:[Pa]},{kind:"InlineFragment",type:"Photo",selections:[Qa,{kind:"ScalarField",alias:null,name:"accessibility_caption",args:null,storageKey:null},{kind:"LinkedField",alias:"massive_image",name:"image",storageKey:null,args:[g],concreteType:"Image",plural:!1,selections:[P,O]},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:210},g,{kind:"Literal",name:"width",value:260}],concreteType:"Image",plural:!1,selections:R}]}]};N=[{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},b,e,{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"overall_rating",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"price_range_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__height:60,size__width:60)",args:[{kind:"Literal",name:"size__height",value:60},{kind:"Literal",name:"size__width",value:60}],concreteType:"Image",plural:!1,selections:i},{kind:"ScalarField",alias:null,name:"top_category_name",args:null,storageKey:null},f];Q={kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,b,{kind:"InlineFragment",type:"CommentPlaceInfo",selections:[{kind:"ScalarField",alias:null,name:"can_viewer_add_to_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_remove_from_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_suggested_to_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_remove_suggested_from_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_curate_attachment",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pending_places_for_attachment",storageKey:null,args:null,concreteType:"Page",plural:!0,selections:N},{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"recommendation_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:N},b]}]}]},{kind:"InlineFragment",type:"ExternalUrl",selections:[f]}]};Pa={kind:"LinkedField",alias:null,name:"style_infos",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,{kind:"InlineFragment",type:"FundraiserForStoryDonationAttachmentStyleInfo",selections:[{kind:"LinkedField",alias:null,name:"donation_comment_text",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,f,b]},q,m]},s]}]}]};Qa={kind:"LinkedField",alias:null,name:"title_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t};N={kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null}]}]};t={kind:"ScalarField",alias:null,name:"tracking",args:null,storageKey:null};var Ra={kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},S=[e,b],T=[{kind:"Literal",name:"height",value:80},g,{kind:"Literal",name:"width",value:80}];i={kind:"LinkedField",alias:"sticker",name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,b,{kind:"InlineFragment",type:"Sticker",selections:[{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},Ra,{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:S},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:T,concreteType:"Image",plural:!1,selections:i},{kind:"LinkedField",alias:"sticker_image",name:"image",storageKey:null,args:T,concreteType:"Image",plural:!1,selections:R},{kind:"LinkedField",alias:"larger_sticker_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:120},g,{kind:"Literal",name:"width",value:120}],concreteType:"Image",plural:!1,selections:R},{kind:"ScalarField",alias:null,name:"sticker_type",args:null,storageKey:null}]}]};T={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[f,Oa,M,Q,Pa,Qa,N,t,i,{kind:"LinkedField",alias:"style_type_renderer_blue",name:"style_type_renderer",storageKey:'style_type_renderer(supported:["StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentChatCommandStyleRenderer"])',args:[{kind:"Literal",name:"supported",value:["StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentChatCommandStyleRenderer"]}],concreteType:null,plural:!1,selections:[d,{kind:"InlineFragment",type:"StoryAttachmentTipJarPaymentStyleRenderer",selections:[{kind:"ModuleImport",documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentChatCommandStyleRenderer",selections:[{kind:"ModuleImport",documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]}]}]};g={kind:"LinkedField",alias:null,name:"parent_post_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:r};R={kind:"ScalarField",alias:null,name:"chat_to_buy",args:null,storageKey:null};var U={kind:"LinkedField",alias:null,name:"edit_history",storageKey:null,args:null,concreteType:"EditHistoryConnection",plural:!1,selections:o},V={kind:"LinkedField",alias:null,name:"page_admin_actor_info",storageKey:null,args:null,concreteType:"PageAdminActorInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"creator_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creator_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creator_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"page_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profile_uri",args:null,storageKey:null}]},Sa={kind:"ScalarField",alias:null,name:"can_viewer_ban_user",args:null,storageKey:null},Ta={kind:"LinkedField",alias:null,name:"parent_feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[Sa]},Ua={kind:"LinkedField",alias:null,name:"private_reply_context",storageKey:null,args:null,concreteType:"PrivateReplyContext",plural:!1,selections:[B,A]},W={kind:"LinkedField",alias:null,name:"translatability_for_viewer",storageKey:null,args:null,concreteType:"PostTranslatability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"source_dialect_name",args:null,storageKey:null}]},X={kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null};y={kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"author_member_badges",storageKey:null,args:[y,{kind:"Literal",name:"is_comet",value:!0}],concreteType:"RenderableGroupMemberTag",plural:!0,selections:[G,H,v,I]},{kind:"ModuleImport",documentName:"CometUFICommentActorLink_comment",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo"}]};G={kind:"ScalarField",alias:null,name:"share_fbid",args:null,storageKey:null};H={kind:"LinkedField",alias:null,name:"political_figure_data",storageKey:null,args:null,concreteType:"PoliticalFigureData",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"political_office",storageKey:null,args:null,concreteType:"PoliticalOffice",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"generic_title",args:null,storageKey:null},b]},{kind:"LinkedField",alias:null,name:"best_profile",storageKey:null,args:null,concreteType:null,plural:!1,selections:ea},b]};v=[G,H];I={kind:"Condition",passingValue:!0,condition:"isComet",selections:[y,{kind:"LinkedField",alias:null,name:"parent_feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:v}]};S={kind:"Condition",passingValue:!0,condition:"containerIsWorkplace",selections:[{kind:"ScalarField",alias:null,name:"is_author_non_coworker",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_author_bot",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_author_original_poster",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"synced_intern_qa_answer",storageKey:null,args:null,concreteType:"InternQASyncedAnswerData",plural:!1,selections:[A,{kind:"ScalarField",alias:null,name:"activity_uri",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"last_editor",storageKey:null,args:null,concreteType:"User",plural:!1,selections:S}]}]};var Va={kind:"ScalarField",alias:null,name:"is_created_from_subscription",args:null,storageKey:null},Wa={kind:"ScalarField",alias:null,name:"is_locally_composed",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"optimistic_error",args:null,storageKey:null},Xa={kind:"ScalarField",alias:null,name:"optimistic_action",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"optimistic_error_code",args:null,storageKey:null},Ya={kind:"ClientExtension",selections:[Va,Wa,Y,Xa,Z]},Za={kind:"Condition",passingValue:!0,condition:"containerIsFeedStory",selections:[Da,{kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:Ea,concreteType:"IdentityBadge",plural:!0,selections:[Fa,Ga,Ha,Ia,Ja,s,Ka,La,{kind:"ModuleImport",documentName:"FeedStoryUFICommentBody_comment",fragmentName:"UFI2CommentIdentityBadges_identityBadge",fragmentPropName:"identityBadge"}]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[Ma,n,da,{kind:"LinkedField",alias:null,name:"page_private_reply",storageKey:null,args:null,concreteType:"PrivateReplyContext",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"activity",storageKey:null,args:null,concreteType:"PageReplyableActivity",plural:!1,selections:[b,z]},A,B,Na,{kind:"ScalarField",alias:null,name:"has_reply_permission",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"should_show_private_reply_nux",args:null,storageKey:null}]},c]},C,D,E,F,J,K,L,T,g,{kind:"ScalarField",alias:null,name:"can_viewer_share",args:null,storageKey:null},R,U,V,Ta,Ua,W,X,f,I,S,Ya]},$a={kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[n,da,c]};Ra={kind:"Condition",passingValue:!0,condition:"containerIsWorkplace",selections:[{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:k,concreteType:null,plural:!1,selections:[d,x,{kind:"InlineFragment",type:"FBMarkdownCommentBody",selections:[{kind:"ScalarField",alias:null,name:"fb_workplace_commonmark_ast_serialized",args:null,storageKey:null}]},u]},C,D,F,J,K,E,{kind:"ScalarField",alias:null,name:"insights_data_point",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"file_marker",storageKey:null,args:null,concreteType:"FileMarker",plural:!1,selections:[Ra,{kind:"ScalarField",alias:null,name:"page_number",args:null,storageKey:null}]},L,U,$a,W,X,f,I,S,{kind:"ClientExtension",selections:[Va,Wa,Y,{kind:"ScalarField",alias:null,name:"used_writing_help_to_compose",args:null,storageKey:null},Xa,Z]}]};L={kind:"ScalarField",alias:null,name:"written_while_video_was_live",args:null,storageKey:null};var $={kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e,b,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"first_name",args:null,storageKey:null}]}]}]},ab={kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:Ea,concreteType:"IdentityBadge",plural:!0,selections:[Fa,Ga,Ha,Ia,Ja,s,Ka,La,{kind:"ModuleImport",documentName:"LiveFeedStoryUFICommentBody_comment",fragmentName:"UFI2CommentIdentityBadges_identityBadge",fragmentPropName:"identityBadge"}]},bb={kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[Ma,n,da,c]};$a={kind:"Condition",passingValue:!0,condition:"containerIsTahoe",selections:[R,E,U,$a,V,Ta,{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:k,concreteType:null,plural:!1,selections:[d,x]},W,X,f,{kind:"ClientExtension",selections:[Xa,Z,Y]}]};var cb={kind:"ScalarField",alias:null,name:"should_show_comment_menu",args:null,storageKey:null};z=[{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[z]}];x={kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:k,concreteType:null,plural:!1,selections:[d,x,{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"LinkedField",alias:null,name:"image_ranges",storageKey:null,args:null,concreteType:"ImageAtRange",plural:!0,selections:[q,m,{kind:"LinkedField",alias:null,name:"entity_with_image",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[O,{kind:"ScalarField",alias:null,name:"scale",args:null,storageKey:null},h,P]},b]}]},{kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:[q,m,{kind:"ScalarField",alias:null,name:"inline_style",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"aggregated_ranges",storageKey:null,args:null,concreteType:"AggregatedEntitiesAtRange",plural:!0,selections:[q,m,{kind:"LinkedField",alias:null,name:"all_entities",storageKey:null,args:null,concreteType:"AllEntitiesFromAggregatedRangeConnection",plural:!1,selections:o},{kind:"LinkedField",alias:null,name:"sample_entities",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,b,{kind:"InlineFragment",type:"User",selections:[e]}]}]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,b,p,{kind:"InlineFragment",type:"ExternalUrl",selections:[{kind:"ScalarField",alias:null,name:"external_url",args:null,storageKey:null}]},{kind:"InlineFragment",type:"VideoTimeIndex",selections:[Ca]},{kind:"InlineFragment",type:"User",selections:z},{kind:"InlineFragment",type:"Group",selections:z}]},q,m]}]}]};O={kind:"LinkedField",alias:null,name:"parent_feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[G,H,b,Sa,ya]};h={kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:Ea,concreteType:"IdentityBadge",plural:!0,selections:[Fa,Ia,s,{kind:"ScalarField",alias:null,name:"information_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"information_asset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"information_description",args:null,storageKey:null},Ha]};P={kind:"ScalarField",alias:null,name:"can_show_multiple_identity_badges",args:Ea,storageKey:null};o={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"LinkedField",alias:"style_type_renderer_comet",name:"style_type_renderer",storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentGroupInviteNonMemberMentionedStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer"])',args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentGroupInviteNonMemberMentionedStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer"]}],concreteType:null,plural:!1,selections:[d,{kind:"InlineFragment",type:"StoryAttachmentAnimatedImageShareStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentDonationStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentFallbackStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentPhotoStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentStickerStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentVideoAutoplayStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentVideoStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentTipJarPaymentStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentGroupInviteNonMemberMentionedStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentGroupInviteNonMemberMentionedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]},{kind:"InlineFragment",type:"StoryAttachmentCommentPlaceInfoStyleRenderer",selections:[{kind:"ModuleImport",documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer"}]}]}]};e={kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[n,da,{kind:"LinkedField",alias:null,name:"page_private_reply",storageKey:null,args:null,concreteType:"PrivateReplyContext",plural:!1,selections:[A,Na,B]},c]};p={kind:"ClientExtension",selections:[Xa,Y,Z]};Ca={kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation_type:"ORIGINAL")',args:k,concreteType:null,plural:!1,selections:[d,u]};z={kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:Ea,concreteType:"IdentityBadge",plural:!0,selections:[Fa,Ga,Ha,Ia,Ja,s,Ka,La,{kind:"ModuleImport",documentName:"TahoeUFICommentBody_comment",fragmentName:"UFI2CommentIdentityBadges_identityBadge",fragmentPropName:"identityBadge"}]};q={kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[Ma]};m={kind:"ClientExtension",selections:[Va,Wa,Y]};G={kind:"ClientExtension",selections:[Va]};H={kind:"Condition",passingValue:!0,condition:"containerIsLiveStory",selections:[T,g,G]};Sa={kind:"Condition",passingValue:!0,condition:"containerIsWorkplace",selections:[{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[f,Oa,M,Q,Pa,Qa,N,t,i]},g,G]};ya={kind:"ClientExtension",selections:[{kind:"ScalarField",alias:null,name:"client_id",args:null,storageKey:null},Xa,Y]};n=["living_room_content_item_id","start_time_offset"];A=[{kind:"Literal",name:"last",value:10},fa,ga];Na={kind:"LinkedField",alias:null,name:"associated_group",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:r};B={kind:"Condition",passingValue:!0,condition:"containerIsFeedStory",selections:v};c={kind:"Condition",passingValue:!0,condition:"containerIsLiveStory",selections:v};Z={kind:"Condition",passingValue:!0,condition:"containerIsTahoe",selections:v};k=[Na,B,c,Z];return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomReplayUFIRendererQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:aa,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"LivingRoomReplayUFIRenderer_feedback",args:[{kind:"Variable",name:"contentItemID",variableName:"contentItemID"},{kind:"Variable",name:"startTimeOffset",variableName:"startTimeOffset"},{kind:"Variable",name:"useDefaultActor",variableName:"useDefaultActor"}]}]}]},operation:{kind:"Operation",name:"LivingRoomReplayUFIRendererQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:aa,concreteType:"Feedback",plural:!1,selections:[b,ba,{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_gif",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_sticker",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"mentions_datasource_js_constructor_args_json",args:null,storageKey:null},ca,{kind:"ScalarField",alias:null,name:"composer_tip",args:null,storageKey:null},da,{kind:"LinkedField",alias:null,name:"owning_profile",storageKey:null,args:null,concreteType:null,plural:!1,selections:ea},{kind:"LinkedField",alias:null,name:"living_room_replay_timestamped_comments",storageKey:null,args:ha,concreteType:"FeedbackLivingRoomReplayTimestampedCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FeedbackLivingRoomReplayTimestampedCommentsEdge",plural:!0,selections:[ia,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[ja,ka,b,la,ma,na,oa,pa,qa,j,l,ra,sa,ta,d,{kind:"Condition",passingValue:!1,condition:"isComet",selections:[ua,w,va,wa,xa,za,Aa,Ba,Za,Ra,{kind:"Condition",passingValue:!0,condition:"containerIsLiveStory",selections:[L,Da,$,ab,bb,C,D,F,J,K,E,R,U,V,Ta,W,X,f,I,S,Ya]},$a]},{kind:"Condition",passingValue:!0,condition:"isComet",selections:[cb,x,$,D,L,C,y,K,F,w,O,h,P,o,xa,R,E,U,e,V,Ua,W,X,f,p]},{kind:"Condition",passingValue:!0,condition:"containerIsTahoe",selections:[L,Ca,$,z,q,C,D,E,F,w,J,K,T,g,S,m]},H,Sa,ya]}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"living_room_replay_timestamped_comments",args:ha,handle:"connection",key:"LivingRoomReplayStreamingCommentList_living_room_replay_timestamped_comments",filters:n},{kind:"LinkedField",alias:"backfill",name:"living_room_replay_timestamped_comments",storageKey:null,args:A,concreteType:"FeedbackLivingRoomReplayTimestampedCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FeedbackLivingRoomReplayTimestampedCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[ja,b,la,ma,na,oa,pa,qa,j,l,ra,sa,ta,d,{kind:"Condition",passingValue:!1,condition:"isComet",selections:[ua,w,va,wa,xa,za,Aa,Ba,Za,Ra,{kind:"Condition",passingValue:!0,condition:"containerIsLiveStory",selections:[L,ka,Da,$,ab,bb,C,D,F,J,K,E,R,U,V,Ta,W,X,f,I,S,Ya]},$a]},{kind:"Condition",passingValue:!0,condition:"isComet",selections:[cb,x,$,D,ka,L,C,y,K,F,w,O,h,P,o,xa,R,E,U,e,V,Ua,W,X,f,p]},{kind:"Condition",passingValue:!0,condition:"containerIsTahoe",selections:[L,ka,Ca,$,z,q,C,D,E,F,w,J,K,T,g,S,m]},H,Sa,ya]},ia]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_previous_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_cursor",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:"backfill",name:"living_room_replay_timestamped_comments",args:A,handle:"connection",key:"LivingRoomReplayBackfillCommentList_backfill",filters:n},{kind:"Condition",passingValue:!1,condition:"isComet",selections:[{kind:"Condition",passingValue:!0,condition:"containerIsFeedStory",selections:k},{kind:"Condition",passingValue:!0,condition:"containerIsLiveStory",selections:k},{kind:"Condition",passingValue:!0,condition:"containerIsWorkplace",selections:[{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_marker",args:null,storageKey:null},Na,B,c,Z]}]},{kind:"Condition",passingValue:!0,condition:"containerIsTahoe",selections:k}]}]},params:{operationKind:"query",name:"LivingRoomReplayUFIRendererQuery",id:"2623791241041898",text:null,metadata:{}}}}();d.exports=a}),null);
__d("LivingRoomReplayVideoItem_videoData.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},c=[{kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null}];return{kind:"Fragment",name:"LivingRoomReplayVideoItem_videoData",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:50,width:50)",args:[{kind:"Literal",name:"height",value:50},{kind:"Literal",name:"width",value:50}],concreteType:"Image",plural:!1,selections:[b]},{kind:"InlineFragment",type:"Page",selections:c},{kind:"InlineFragment",type:"User",selections:c}]},{kind:"LinkedField",alias:null,name:"sotto_content",storageKey:null,args:null,concreteType:"SottoVideoContent",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:250,width:375)",args:[{kind:"Literal",name:"height",value:250},{kind:"Literal",name:"width",value:375}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},b]}]},{kind:"LinkedField",alias:null,name:"video_view_model",storageKey:null,args:null,concreteType:"VideoViewModel",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"series",storageKey:null,args:null,concreteType:"VideoListShow",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null}]}]}]}}();e.exports=a}),null);
__d("LivingRoomSidePaneButtons_livingRoom.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"LivingRoomSidePaneButtons_livingRoom",type:"LivingRoom",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"is_active",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"live_commentating_videos",storageKey:null,args:null,concreteType:"LiveCommentatingVideo",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},a,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]}]}]}]}}();e.exports=a}),null);
__d("LivingRoomSidePane_livingRoom.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"LivingRoomSidePane_livingRoom",type:"LivingRoom",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"badge_text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_active",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_pending_group_admin_approval",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"living_room_style",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Group",selections:[{kind:"ScalarField",alias:"groupID",name:"id",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"share_uri",args:null,storageKey:null},{kind:"FragmentSpread",name:"LivingRoomAddVideoDialogContainer_livingRoom",args:null},{kind:"FragmentSpread",name:"LivingRoomInviteArea_livingRoom",args:null},{kind:"FragmentSpread",name:"LivingRoomSidePaneButtons_livingRoom",args:null},{kind:"FragmentSpread",name:"LivingRoomNowPlayingPaneCard_livingRoom",args:null},{kind:"FragmentSpread",name:"LivingRoomContentQueuePane_livingRoom",args:null},{kind:"FragmentSpread",name:"LivingRoomPendingPostPreview_livingRoom",args:null}]};e.exports=a}),null);
__d("LivingRoomSottoVideoListResultsListQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoListID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoListID"}],c={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e=[{kind:"Literal",name:"first",value:2}],f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},i=[h];h=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},h];var j={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:h},k=[d];return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomSottoVideoListResultsListQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video_list_view",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"VideoListShow",selections:[{kind:"FragmentSpread",name:"LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainer_videoList",args:[{kind:"Literal",name:"count",value:5}]}]}]}]},operation:{kind:"Operation",name:"LivingRoomSottoVideoListResultsListQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"video_list_view",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c,{kind:"InlineFragment",type:"VideoListShow",selections:[d,{kind:"LinkedField",alias:null,name:"video_list_videos",storageKey:"video_list_videos(first:2)",args:e,concreteType:"VideoListVideosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"VideoListVideosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[d,f,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,d,f,{kind:"InlineFragment",type:"Page",selections:[g,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i}]},{kind:"InlineFragment",type:"User",selections:[g]}]},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null},j,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[j,d]},{kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null},{kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:h},c]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"video_list_videos",args:e,handle:"connection",key:"LivingRoomAddVideoSubscriptionsDialogNetworkVideos_video_list_videos",filters:null}]},{kind:"InlineFragment",type:"VideoListMovie",selections:k},{kind:"InlineFragment",type:"VideoListPlaylist",selections:k}]}]},params:{operationKind:"query",name:"LivingRoomSottoVideoListResultsListQuery",id:"2539388616123707",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomVideoCollectionItem_collection.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},e=[d];d=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},d];var f={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:d};return{kind:"Fragment",name:"LivingRoomVideoCollectionItem_collection",type:"LivingRoomVideoCollection",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"videos",storageKey:null,args:null,concreteType:"Video",plural:!0,selections:[a,b,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a,b,{kind:"InlineFragment",type:"Page",selections:[c,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:e},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:e}]},{kind:"InlineFragment",type:"User",selections:[c]}]},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null},f,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[f]},{kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null},{kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:d}]}]}}();e.exports=a}),null);
__d("LivingRoomVideoListItemAddCollectionUpsellQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"queuedVideos",type:"[ID!]",defaultValue:null},{kind:"LocalArgument",name:"creationSource",type:"LivingRoomCreationSource!",defaultValue:null}],b=[{kind:"Variable",name:"creation_source",variableName:"creationSource"},{kind:"Variable",name:"video_ids",variableName:"queuedVideos"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},f={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},h=[g];h={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c,d,{kind:"InlineFragment",type:"Page",selections:[f,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:h},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:h}]},{kind:"InlineFragment",type:"User",selections:[f]}]};f={kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null};var i={kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null};g=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},g];var n={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:g},o={kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},p={kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null};g={kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:g};return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomVideoListItemAddCollectionUpsellQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_video_collection",storageKey:null,args:b,concreteType:"LivingRoomVideoCollection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"videos",storageKey:null,args:null,concreteType:"Video",plural:!0,selections:[c,d,e,h,f,i,j,k,l,m,n,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[n]},o,p,g]}]}]},operation:{kind:"Operation",name:"LivingRoomVideoListItemAddCollectionUpsellQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_video_collection",storageKey:null,args:b,concreteType:"LivingRoomVideoCollection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"videos",storageKey:null,args:null,concreteType:"Video",plural:!0,selections:[c,d,e,h,f,i,j,k,l,m,n,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[n,c]},o,p,g]}]}]},params:{operationKind:"query",name:"LivingRoomVideoListItemAddCollectionUpsellQuery",id:"2380006545421257",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomVideoPlayer_livingRoom.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"LivingRoomVideoPlayer_livingRoom",type:"LivingRoom",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"experiments",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_active",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_waiting",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_pending_group_admin_approval",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"living_room_creation_source",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"LivingRoomEndScreen_livingRoom",args:null}]};e.exports=a}),null);
__d("LivingRoomVideoSearchNullStateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"video_ids",type:"[ID]",defaultValue:null},{kind:"LocalArgument",name:"living_room_id",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"target_id",type:"ID",defaultValue:null}],b={kind:"Variable",name:"id",variableName:"id"},c=[b],d={kind:"Variable",name:"living_room_id",variableName:"living_room_id"},e={kind:"Variable",name:"target_id",variableName:"target_id"},f={kind:"Variable",name:"video_ids",variableName:"video_ids"},g=[{kind:"Literal",name:"first",value:10},d,e,f],h={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},m=[l];l=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},l];var n={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:l};return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomVideoSearchNullStateQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:c,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"LivingRoomVideoSearchNullStateResults_user",args:[b,d,e,f]}]}]},operation:{kind:"Operation",name:"LivingRoomVideoSearchNullStateQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:c,concreteType:"User",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room_suggested_videos_watch",storageKey:null,args:g,concreteType:"LivingRoomUserToSuggestedVideosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomUserToSuggestedVideosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[h,i,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[j,h,i,{kind:"InlineFragment",type:"Page",selections:[k,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:m},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:m}]},{kind:"InlineFragment",type:"User",selections:[k]}]},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null},n,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[n,h]},{kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null},{kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:l},j]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"living_room_suggested_videos_watch",args:g,handle:"connection",key:"LivingRoomAddVideoSavedList_living_room_suggested_videos_watch",filters:["living_room_id","target_id","video_ids"]},h]}]},params:{operationKind:"query",name:"LivingRoomVideoSearchNullStateQuery",id:"2428318040547036",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomVideoSearchNullStateResultsPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"living_room_id",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"target_id",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"video_ids",type:"[ID]",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={kind:"Variable",name:"living_room_id",variableName:"living_room_id"},d={kind:"Variable",name:"target_id",variableName:"target_id"},e={kind:"Variable",name:"video_ids",variableName:"video_ids"},f=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},c,d,e],g={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},l=[k];k=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},k];var m={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:k};return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomVideoSearchNullStateResultsPaginationQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"LivingRoomVideoSearchNullStateResults_user",args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},c,d,e]}]}]},operation:{kind:"Operation",name:"LivingRoomVideoSearchNullStateResultsPaginationQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room_suggested_videos_watch",storageKey:null,args:f,concreteType:"LivingRoomUserToSuggestedVideosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomUserToSuggestedVideosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[g,h,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,g,h,{kind:"InlineFragment",type:"Page",selections:[j,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:l},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:l}]},{kind:"InlineFragment",type:"User",selections:[j]}]},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null},m,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[m,g]},{kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null},{kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:k},i]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"living_room_suggested_videos_watch",args:f,handle:"connection",key:"LivingRoomAddVideoSavedList_living_room_suggested_videos_watch",filters:["living_room_id","target_id","video_ids"]},g]}]},params:{operationKind:"query",name:"LivingRoomVideoSearchNullStateResultsPaginationQuery",id:"2354917611288708",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomVideoSearchNullStateResults_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},f=[e];e=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},e];var g={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:e};return{kind:"Fragment",name:"LivingRoomVideoSearchNullStateResults_user",type:"User",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["living_room_suggested_videos_watch"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:10},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"living_room_id",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"target_id",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"video_ids",type:"[ID]",defaultValue:null}],selections:[{kind:"LinkedField",alias:"living_room_suggested_videos_watch",name:"__LivingRoomAddVideoSavedList_living_room_suggested_videos_watch_connection",storageKey:null,args:[{kind:"Variable",name:"living_room_id",variableName:"living_room_id"},{kind:"Variable",name:"target_id",variableName:"target_id"},{kind:"Variable",name:"video_ids",variableName:"video_ids"}],concreteType:"LivingRoomUserToSuggestedVideosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomUserToSuggestedVideosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[a,b,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,a,b,{kind:"InlineFragment",type:"Page",selections:[d,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:f},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:f}]},{kind:"InlineFragment",type:"User",selections:[d]}]},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null},g,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[g]},{kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null},{kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:e},c]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]}]}}();e.exports=a}),null);
__d("LivingRoomVideoSearchResultsListQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"search_query",type:"GraphSearchQueryArguments!",defaultValue:null}],b=[{kind:"Variable",name:"query_arguments",variableName:"search_query"}],c=[{kind:"Literal",name:"first",value:10}],d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},i=[h];h=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},h];var j={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:h};return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomVideoSearchResultsListQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"search_query",storageKey:null,args:b,concreteType:"GraphSearchQuery",plural:!1,selections:[{kind:"FragmentSpread",name:"LivingRoomVideoSearchResults_search_query",args:b}]}]},operation:{kind:"Operation",name:"LivingRoomVideoSearchResultsListQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"search_query",storageKey:null,args:b,concreteType:"GraphSearchQuery",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"results",storageKey:"results(first:10)",args:c,concreteType:"GraphSearchResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"GraphSearchResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e,{kind:"InlineFragment",type:"Video",selections:[f,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,d,f,{kind:"InlineFragment",type:"Page",selections:[g,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i}]},{kind:"InlineFragment",type:"User",selections:[g]}]},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null},j,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[j,d]},{kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null},{kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:h}]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_previous_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"results",args:c,handle:"connection",key:"LivingRoomVideoSearchResults_results",filters:null},d]}]},params:{operationKind:"query",name:"LivingRoomVideoSearchResultsListQuery",id:"2856745467733499",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomVideoSearchResultsPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"query_arguments",type:"GraphSearchQueryArguments!",defaultValue:null}],b=[{kind:"Variable",name:"query_arguments",variableName:"query_arguments"}],c=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},i=[h];h=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},h];var j={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:h};return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomVideoSearchResultsPaginationQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"search_query",storageKey:null,args:b,concreteType:"GraphSearchQuery",plural:!1,selections:[{kind:"FragmentSpread",name:"LivingRoomVideoSearchResults_search_query",args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}]}]}]},operation:{kind:"Operation",name:"LivingRoomVideoSearchResultsPaginationQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"search_query",storageKey:null,args:b,concreteType:"GraphSearchQuery",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"results",storageKey:null,args:c,concreteType:"GraphSearchResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"GraphSearchResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e,{kind:"InlineFragment",type:"Video",selections:[f,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,d,f,{kind:"InlineFragment",type:"Page",selections:[g,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i}]},{kind:"InlineFragment",type:"User",selections:[g]}]},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null},j,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[j,d]},{kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null},{kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:h}]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_previous_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"results",args:c,handle:"connection",key:"LivingRoomVideoSearchResults_results",filters:null},d]}]},params:{operationKind:"query",name:"LivingRoomVideoSearchResultsPaginationQuery",id:"2049577108480316",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomVideoSearchResultsRecommendedGamingVideosQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},f={kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomVideoSearchResultsRecommendedGamingVideosQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"group",storageKey:null,args:b,concreteType:"Group",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room_recommended_gaming_videos",storageKey:null,args:null,concreteType:"Video",plural:!0,selections:[c,d,e,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]},{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[f]}]}]}]},operation:{kind:"Operation",name:"LivingRoomVideoSearchResultsRecommendedGamingVideosQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"group",storageKey:null,args:b,concreteType:"Group",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room_recommended_gaming_videos",storageKey:null,args:null,concreteType:"Video",plural:!0,selections:[c,d,e,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d,c]},{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[f,c]}]},c]}]},params:{operationKind:"query",name:"LivingRoomVideoSearchResultsRecommendedGamingVideosQuery",id:"1812954768740354",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomVideoSearchResultsRecommendedQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"living_room_recommended_shows",storageKey:null,args:null,concreteType:"Page",plural:!0,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:150,width:150)",args:[{kind:"Literal",name:"height",value:150},{kind:"Literal",name:"width",value:150}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]};return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomVideoSearchResultsRecommendedQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[d]}]},operation:{kind:"Operation",name:"LivingRoomVideoSearchResultsRecommendedQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[d,c]}]},params:{operationKind:"query",name:"LivingRoomVideoSearchResultsRecommendedQuery",id:"1830236253709745",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomVideoSearchResults_search_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},f=[e];e=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},e];var g={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:e};return{kind:"Fragment",name:"LivingRoomVideoSearchResults_search_query",type:"GraphSearchQuery",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["results"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:10},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null}],selections:[{kind:"LinkedField",alias:"results",name:"__LivingRoomVideoSearchResults_results_connection",storageKey:null,args:null,concreteType:"GraphSearchResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"GraphSearchResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"InlineFragment",type:"Video",selections:[b,c,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,b,c,{kind:"InlineFragment",type:"Page",selections:[d,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:f},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:f}]},{kind:"InlineFragment",type:"User",selections:[d]}]},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null},g,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[g]},{kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null},{kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:e}]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_previous_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]}]}}();e.exports=a}),null);
__d("LivingRoomWelcomeCardContainer_livingRoom.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"LivingRoomWelcomeCardContainer_livingRoom",type:"LivingRoom",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"is_active",args:null,storageKey:null}]};e.exports=a}),null);
__d("LivingRoomCallUtilsSetIsRtcCallOngoingMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomSetIsRtcCallOngoingData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"living_room_set_is_rtc_call_ongoing",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"LivingRoomSetIsRtcCallOngoingResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_rtc_call_ongoing",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomCallUtilsSetIsRtcCallOngoingMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"LivingRoomCallUtilsSetIsRtcCallOngoingMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"LivingRoomCallUtilsSetIsRtcCallOngoingMutation",id:"1880237368699014",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomPresencePollingUtilsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"livingRoomID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"livingRoomID"}],c={kind:"LinkedField",alias:null,name:"recap",storageKey:null,args:null,concreteType:"LivingRoomRecap",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"comment_count",args:null,storageKey:null}]},d=[{kind:"Literal",name:"first",value:30}],e={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"presence_badge",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},j=[f,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,h,i]}],k={kind:"ScalarField",alias:null,name:"is_viewer_present",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};f=[f,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,g,h,i]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomPresencePollingUtilsQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"active_viewers",storageKey:"active_viewers(first:30)",args:d,concreteType:"LivingRoomToActiveViewersConnection",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomToActiveViewersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!1,selections:j}]}]},{kind:"LinkedField",alias:null,name:"feed_presence_users",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!0,selections:j},k]}]},operation:{kind:"Operation",name:"LivingRoomPresencePollingUtilsQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:b,concreteType:null,plural:!1,selections:[l,c,{kind:"LinkedField",alias:null,name:"active_viewers",storageKey:"active_viewers(first:30)",args:d,concreteType:"LivingRoomToActiveViewersConnection",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomToActiveViewersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!1,selections:f}]}]},{kind:"LinkedField",alias:null,name:"feed_presence_users",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!0,selections:f},k,g]}]},params:{operationKind:"query",name:"LivingRoomPresencePollingUtilsQuery",id:"2166544790077130",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomReplayUFIRenderer_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b=[{kind:"Variable",name:"contentItemID",variableName:"contentItemID"},{kind:"Variable",name:"startTimeOffset",variableName:"startTimeOffset"}];return{kind:"Fragment",name:"LivingRoomReplayUFIRenderer_feedback",type:"Feedback",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"contentItemID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"startTimeOffset",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"useDefaultActor",type:"Boolean",defaultValue:null}],selections:[a,{kind:"LinkedField",alias:null,name:"viewer_actor",storageKey:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,plural:!1,selections:[a,{kind:"FragmentSpread",name:"UFI2Composer_actor",args:null}]},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_gif",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment_with_sticker",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"mentions_datasource_js_constructor_args_json",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"composer_tip",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owning_profile",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]},{kind:"FragmentSpread",name:"UFI2Comment_feedback",args:null},{kind:"FragmentSpread",name:"UFI2CommentEditor_feedback",args:null},{kind:"FragmentSpread",name:"UFI2Composer_feedback",args:null},{kind:"FragmentSpread",name:"LiveFeedStoryComment_feedback",args:null},{kind:"FragmentSpread",name:"LivingRoomReplayStreamingCommentList_feedback",args:b},{kind:"FragmentSpread",name:"LivingRoomReplayBackfillCommentList_feedback",args:b}]}}();e.exports=a}),null);
__d("UFILivingRoomAutoTranslateToggle.react",["cx","fbt","Link.react","LivingRoomTypedLogger","React","UFIInstanceAction","UFISharedDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return!a.showToggle?null:b("React").jsx("div",{className:"_81yp",children:b("React").jsx("span",{children:b("React").jsx(b("Link.react"),{onClick:function(b,c){return i(a.contextArgs,a.shouldTranslateAllVisibleComments)},className:"_81yq",children:a.shouldTranslateAllVisibleComments?h._("Turn off Automatic Translation"):h._("Turn on Automatic Translation")})})})}var i=function(a,c){new(b("LivingRoomTypedLogger"))().setLivingRoomAction(c?"automatic_translations_disabled":"automatic_translations_enabled").setLivingRoomID(a.livingRoomID).log(),b("UFISharedDispatcher").dispatch(b("UFIInstanceAction").toggleAutoTranslateCommments(a))};e.exports=a}),null);
__d("FBRTCAdminMessage",["FBRTCCallConstants","FBRTCConstants","FBRTCLogger","FBRTCUtils","RTWebUserActionLogger","XVideoCallAdminMessageController","emptyFunction","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g;a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b,this.$3=Date.now(),this.$4=null,this.$5=null}var c=a.prototype;c.getPeerID=function(){return this.$1};c.getCallID=function(){return this.$2};c.getStartTimestamp=function(){return this.$3};c.getConnectedTime=function(){return this.$4};c.getEndTime=function(){return this.$5};c.onCallConnected=function(){this.$4||(this.$4=(g||(g=b("performanceNow")))())};c.onCallEnded=function(){this.$5||(this.$5=(g||(g=b("performanceNow")))())};c.submit=function(a,c,d){this.$5||this.onCallEnded();var e=0,f=b("FBRTCCallConstants").FBRTCCallConnectionType.MISSED_CALL;this.$4&&this.$5&&(e=Math.ceil(this.$5-this.$4),f=b("FBRTCCallConstants").FBRTCCallConnectionType.CONNECTED_CALL);c=f===b("FBRTCCallConstants").FBRTCCallConnectionType.CONNECTED_CALL||c===b("FBRTCConstants").CallEndReason.IGNORE_CALL;b("RTWebUserActionLogger").logCheckpoint({checkpoint:"admin_message_"+f});this.$6({peer_id:this.$1,call_id:this.$2,start_time:this.$3,call_duration:e,message_type:f,call_category:a,call_acknowledged:c,conference_name:d})};c.$6=function(a){var c=b("XVideoCallAdminMessageController").getURIBuilder().getURI();b("FBRTCUtils").sendServerRequest(c,b("emptyFunction"),this.$7.bind(this,a.peer_id,a.call_id),!1,void 0,a)};c.$7=function(a,c,d){d?d="Fail to log admin message, error "+d.error:d="Server timed out on logging admin message";b("FBRTCLogger").getInstance().logError(a,c,d)};return a}();e.exports=a}),null);
__d("FBRTCIceCache",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=new Map()}var b=a.prototype;b.getCache=function(){__p&&__p();var a={};for(var b=this.$1,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];a[f]={};for(var e=e,g=Array.isArray(e),h=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];a[f][j]=i}}return a};b.reset=function(a,b){var c=this.$1.get(a);c||(c=new Map(),this.$1.set(a,c));c.set(b,[])};b.cacheCandidate=function(a,b,c){var d=this.$1.get(a);d||(d=new Map(),this.$1.set(a,d));a=d.get(b);a||(a=[],d.set(b,a));a.unshift(c)};b.drainCandidates=function(a,b,c){a=this.$1.get(a);if(a){a=a.get(b)||[];while(a.length>0){b=a.pop();c(b)}}};return a}();e.exports=a}),null);
__d("FBRTCSdpUtils",["FBLogger","RTWebClientFeatureGating","UserAgent"],(function(a,b,c,d,e,f){__p&&__p();var g="a=x-fb-feature:",h="\r\n",i="m=video 0";f=["audio","video"].map(function(a){return new RegExp("m="+a+"\\s+\\d+\\s+(\\w+\\/?)+(\\s+\\d+)+")});var j=f[0],k=f[1],l=["http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","urn:3gpp:video-orientation","urn:ietf:params:rtp-hdrext:ssrc-audio-level","urn:ietf:params:rtp-hdrext:toffset"],m=function(a){return a.match(/^a=rtpmap:(\d+)\s/)[1]},n=function(a,b,c){var d=m(a[b]);o(a,c,[d]);a.splice(b,1)},o=function(a,b,c){var d=a[b].split("RTP/SAVPF"),e=d[1].split(/\s+/);for(var f=0;f<c.length;f++){var g=e.indexOf(c[f]);g>=0&&e.splice(g,1)}d[1]=e.join(" ");a[b]=d.join("RTP/SAVPF")},p=function(a,b,c){__p&&__p();var d=m(a[b]);n(a,b,c);var e=new RegExp("^a=(rtcp-fb|fmtp):"+d+" ");a=a.filter(function(a,b){return!(e.test(a)&&b>=c)});var f=new RegExp("^a=fmtp:(\\d+)\\s+apt="+d+"($|;)");b=a.reduce(function(a,b,c){c=b.match(f);return c?[].concat(a,[c[1]]):a},[]);d=b.join("|");o(a,c,b);var g=new RegExp("^a=rtpmap:("+d+")\\s+rtx/|^a=fmtp:("+d+")\\s+apt=");return a.filter(function(a){return!g.test(a)})};f={RX_SDP_MEDIA_AUDIO:j,RX_SDP_MEDIA_VIDEO:k,replaceRTPSAVPFProfile:function(a){var b="UDP/TLS/RTP/SAVPF",c="RTP/SAVPF";while(a.indexOf(b)>=0)a=a.replace(b,c);return a},addIceOptionToSdp:function(a,b){"use strict";__p&&__p();var c="a=ice-options:",d=a.indexOf(c);if(d>=0)return a.split(h).map(function(a){return a.startsWith(c)?a+" "+b:a}).join(h);d=c+b;var e=a.split(h),f=!1,g=-1;for(var i=0;i<e.length;i++){var j=e[i].slice(0,2);if(j=="s="){f=!0;continue}if(f&&j=="a="){g=i;break}}if(g>=0){e.splice(g,0,d);return e.join(h)}return[a,d,h].join("")},preferIsac:function(a){__p&&__p();a=a.split(h);var b=-1,c=-1,d=-1;for(var e=0;e<a.length;e++){var f=a[e];f.match(j)&&(b=e);d===-1&&b>-1&&f.match(/^a=rtpmap:/)&&(d=e);f.match(/^a=rtpmap:\d+\s+ISAC\/16000/)&&(c=e)}if(b===-1||c===-1||d===-1||a[b].indexOf("RTP/SAVPF")===-1)return a.join(h);f=a[c];n(a,c,b);a.splice(d,0,f);a[b]=a[b].replace("RTP/SAVPF","RTP/SAVPF "+m(f));return a.join(h)},preferCodec:function(a,b,c){__p&&__p();a=a.split(h);var d=c?k:j,e=a.findIndex(function(a){return d.test(a)});if(e!==-1&&a[e].indexOf("RTP/SAVPF")!==-1){var f=new RegExp("^a=rtpmap:\\d+\\s+"+b);c=a.findIndex(function(a){return f.test(a)});var g=/^a=rtpmap:/;b=a.findIndex(function(a,b){return b>e&&g.test(a)});if(c!==-1&&b!==-1){var i=a[c];n(a,c,e);a.splice(b,0,i);a[e]=a[e].replace("RTP/SAVPF","RTP/SAVPF "+m(i))}}return a.join(h)},disableVideo:function(a){var c=/m=video\s+\S+/;a=a.replace(c,i);b("UserAgent").isBrowser("Firefox <= 37")&&(a=this._makeDisabledVideoReceiveOnly(a));return a},_makeDisabledVideoReceiveOnly:function(a){if(a.indexOf(i)>-1){var b=a.split(i);b[1]=b[1].replace(/send(recv|only)/,"recvonly");a=b.join(i)}return a},fixMobileIceSdp:function(a){__p&&__p();a=a.replace(/^a=/,"");a=a.split(/\s+username\s+.+password.+/)[0];var b=a.match(/\s+relay\s+|\s+srflx\s+/),c=a.match(/raddr.+rport.+/);if(b&&!c){b=b[0];c=a.split(b);var d=c[1].match(/^(\d+\.\d+\.\d+\.\d+)\s+(\d+)\s+/),e,f;d?(e=d[1],f=d[2],c[1]=c[1].replace(d[0],"")):(d=c[0].split(/\s+/),e=d[4],f=d[5]);a=""+c[0]+b+"raddr "+e+" rport "+f+" "+c[1]}return a},addAudioNack:function(a){var b=this,c=[];a=a.split(h).map(function(a){var d="";c.length>0&&(/^a=rtpmap:(\d+)/.test(a)||/^a=ssrc/.test(a)||/^m=/.test(a))&&(d+=b._getrtcpFeedbackLinesFromAudioFMTs(c)+h,c=[]);/^m=audio/.test(a)&&(c=a.match(/^m=audio\s+[\d\/]+\s+[\w\/]+([\s+\d+]+)/)[1].trim().split(" "));return d+a}).join(h);c.length>0&&(a+=h+this._getrtcpFeedbackLinesFromAudioFMTs(c));return a},addSetup:function(a){if(a.indexOf("a=setup:")>=0)return a;a=a.split(h);var b=a.findIndex(function(a){return a.startsWith("s=")}),c=a.findIndex(function(a,c){return c>b&&a.startsWith("a=")});a.splice(c,0,"a=setup:actpass");return a.join(h)},_replaceFmtp:function(a,b,c,d){a=a==b?[]:a.substr(b.length).split(";");var e=a.findIndex(function(a){return a.startsWith(c+"=")});d=c+"="+d;e<0?a.push(d):a[e]=d;return""+b+a.join(";")},_addFmtpToMediaSection:function(a,b,c,d){__p&&__p();var e=new RegExp("^a=rtpmap:(\\d+)\\s"+b);b=a.findIndex(function(a){return a.match(e)});if(b<0)return a;var f=a[b].match(e);f=f[1];var g="a=fmtp:"+f+" ";f=a.findIndex(function(a){return a.startsWith(g)});f===-1&&(f=b+1,a.splice(f,0,g));a[f]=this._replaceFmtp(a[f],g,c,d);return a},addFmtp:function(a,b,c,d){__p&&__p();a=a.split(h);var e=-1;for(var f=0;f<=a.length;f++)if(f===a.length||a[f].startsWith("m=")){if(e!==-1){var g=a.splice(e,f-e);g=this._addFmtpToMediaSection(g,b,c,d);a.splice.apply(a,[e,0].concat(g));f=e+1+g.length}e=f}return a.join(h)},_getrtcpFeedbackLinesFromAudioFMTs:function(a){return a.map(function(a){return"a=rtcp-fb:"+a+" nack"}).join(h)},_removeCodec:function(a,b){__p&&__p();var c=a;a=function(){var a=c.split(h),d=new RegExp("^a=rtpmap:\\d+\\s+"+b+"\\/"),e=a.findIndex(function(a){return d.test(a)}),f=a.findIndex(function(a){return/^m=video/.test(a)});if(e==-1||f==-1)return"break";c=p(a,e,f).join(h)};do{var d=a();if(d==="break")break}while(!0);return c},removeRED:function(a){return this._removeCodec(a,"red")},removeH264:function(a){return this._removeCodec(a,"H264")},removeVP9:function(a){return this._removeCodec(a,"VP9")},removeUnknownRtpHeaderExtensions:function(a){a=a.split(h);a=a.filter(function(a){return!a.match(/^a=extmap:/)||l.some(function(b){return a.includes(b)})});return a.join(h)},isVideoSupported:function(a){return!!a&&a.indexOf("m=video")!==-1&&a.indexOf(i)===-1},setDtlsRole:function(a,b){if(!a.match(/setup:(active|passive|actpass)/))return a.replace(/(a=fingerprint:.+)/g,"$1"+h+"a=setup:"+b);else return a.replace(/setup:actpass/g,"setup:"+b)},setVideoBitrateConstraint:function(a){var c=b("UserAgent").isBrowser("Firefox"),d=c?"TIAS":"AS";c=c?72e4:720;var e=new RegExp("^b="+d+":","m");if(a.match(e))return a;a=a.replace(/^a=mid:video\r\n/m,"a=mid:video"+h+"b="+d+":"+c+h);return a},removeSdparta:function(a){__p&&__p();if(b("RTWebClientFeatureGating").shouldApplySdpMidTranslation())return a;a=a.split(h);var c="audio",d=!1,e=-1;for(var f=0;f<a.length;f++){var g=a[f];g.indexOf("m=audio")===0&&(c="audio");g.indexOf("m=video")===0&&(d=!0,c="video");g.indexOf("a=mid:sdparta_")===0&&(a[f]="a=mid:"+c);g.indexOf("a=group:BUNDLE sdparta_")===0&&(e=f);g.indexOf("a=group:BUNDLE audio sdparta_")===0&&(e=f);g.indexOf("a=group:BUNDLE audio video sdparta_")===0&&b("FBLogger")("rtc_www").mustfix("content_name rewriting will not work anymore, fix sdparta_# in Firefox.")}e>-1&&(d?a[e]="a=group:BUNDLE audio video":a[e]="a=group:BUNDLE audio");return a.join(h)},constructMidMap:function(a){if(!b("RTWebClientFeatureGating").shouldApplySdpMidTranslation())return{answerSdpMap:null,offerSdpMap:null};a=a.split(h);var c={},d={},e=null;a.forEach(function(b){b.startsWith("m=audio")?e="audio":b.startsWith("m=video")?e="video":b.startsWith("m=")?e=null:b.startsWith("a=mid:")&&e&&(a=b.split("a=mid:")[1],a!==e&&(c[a]=e,d[e]||(d[e]=a)))});return{offerSdpMap:Object.keys(c).length?c:null,answerSdpMap:Object.keys(d).length?d:null}},transformSdpMids:function(a,c){__p&&__p();if(c==null||!b("RTWebClientFeatureGating").shouldApplySdpMidTranslation())return a;var d=c,e=a.split(h);c=-1;e.forEach(function(b,f){if(b.startsWith("a=group:BUNDLE"))c=f;else if(b.startsWith("a=mid:")){a=b.split("a=mid:")[1];b=d[a]||a;e[f]="a=mid:"+b}});if(c>-1){var f=e[c].split("a=group:BUNDLE ")[1].split(" ");f=f.map(function(a){return d[a]||a});e[c]="a=group:BUNDLE "+f.join(" ")}return e.join(h)},useDTLSOverCrypto:function(a){if(!(b("UserAgent").isBrowser("Chrome >= 57")||b("UserAgent").isBrowser("Opera >= 44")))return a;return!/^a=fingerprint:/m.test(a)?a:a.split(h).filter(function(a){return a.indexOf("a=crypto:")!==0}).join(h)},validateOfferSdp:function(a,b){__p&&__p();if(a.split(":")[0]==="LIVE"){a=/^m=/;var c=/^m=audio/,d=/^m=video/,e=/^a=ssrc:/;b=b.split(h);var f=[];for(var g=b.length-1;g>=0;g--)a.test(b[g])&&f.push(b.splice(g));var i=!1,j=!1;f.forEach(function(a){c.test(a[0])&&!i?i=a.some(function(a){return e.test(a)}):d.test(a[0])&&!j&&(j=a.some(function(a){return e.test(a)}))});return i&&j}return!0},_removeCodecID:function(a,b){var c=a.findIndex(function(a){a=a.match(/^a=rtpmap:(\S+)\s/);return a&&a[1]===b?!0:!1}),d=a.findIndex(function(a){return/^m=video/.test(a)});return c===-1||d===-1?a:p(a,c,d)},_getAllCodecIds:function(a,b){__p&&__p();var c=a.findIndex(function(a){return/^m=video/.test(a)});if(c===-1)return[];var d=new RegExp("^a=rtpmap:\\S+\\s+"+b+"\\/"),e=[];a.forEach(function(b,f){if(d.test(b)){b=m(a[f]);a[c].indexOf(b)>0&&e.push(b)}});return e},_getCodecIDMatchingH264Profile:function(a,b){var c=b.levelAsymmetryAllowed?"1":"0",d=b.packetizationMode?"1":"0";c=new RegExp("^a=fmtp:(\\S+)\\s+level-asymmetry-allowed="+c+";packetization-mode="+d+";profile-level-id="+b.profileLevelId);for(var d=0;d<a.length;d++){b=a[d].match(c);if(b)return b[1]}return null},pickSpecificH264ProfileIfExists:function(a,b){var c=this,d=a.split(h),e=this._getCodecIDMatchingH264Profile(d,b);if(!e)return a;b=this._getAllCodecIds(d,"H264");return b.reduce(function(a,b){return b!==e?c._removeCodecID(a,b):a},d).join(h)},clearFirefoxInactiveDataChannelBlock:function(a){__p&&__p();if(!b("UserAgent").isBrowser("Firefox")||b("RTWebClientFeatureGating").preserveFirefoxInactiveDataChannelBlock())return a;var c=a.split(h),d=c.findIndex(function(a){return a.startsWith("m=application")});if(d===-1)return a;var e=c.slice(d),f=e.findIndex(function(a,b){return b>0&&a.startsWith("m=")});f!==-1&&(e=e.slice(0,f));if(e[0]!=null&&e[0].endsWith("0")&&e.some(function(a){return a.startsWith("a=inactive")})){f=e.findIndex(function(a){return a.startsWith("c=")});return[].concat(c.slice(0,d+1+(f!==-1?f:0)),c.slice(d+e.length),[""]).join(h)}return a},addFBFeatures:a,getFBFeatures:c,addSSRCContentType:d};function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(c.length<1)return a;var e=q(a),f=e[0],i=e[1],j=f.split(h),k=r(j),l=j.filter(function(a){return!a.startsWith(g)}),m=1+l.map(function(a){return a?a.substr(0,2):""}).lastIndexOf("a=")||l.length;return[].concat(l.slice(0),s([].concat(k,c)).map(function(a){return""+g+a}),l.slice(m),[i?[i.trim(),""].join(h):""]).join(h)}function c(a){a=q(a);a=a[0];return r(a.split(h))}function q(a){if(!a)return["",""];var b=a.trim().split(h),c=0;while(c<b.length){if(b[c].startsWith("m="))break;c++}return c===b.length?[a.trim(),""]:[b.slice(0,c).join(h).trim(),b.slice(c).join(h).trim()]}function r(a){return s(a.filter(function(a){return a.startsWith(g)}).map(function(a){return a.substr(g.length)}))}function s(a){__p&&__p();var b=Object.create(null);for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e&&(b[e]=!0)}return Object.keys(b).sort()}function d(a,b){__p&&__p();var c=a.split(h);b.forEach(function(a,b){__p&&__p();var d=new RegExp("^a=ssrc:\\d+ label:"+b);b=c.findIndex(function(a){return d.test(a)});if(b!==-1){var e=c[b].trim().split(" ")[0];if(/^a=ssrc:\d+$/.test(e)){e=e+" x-fb-content:"+a;c.splice(b+1,0,e)}}});return c.join(h)}e.exports=f}),null);
__d("FBRTCMessage",["FBRTCConstants","FBRTCExperiment","FBRTCSdpUtils","FBRTCSupport"],(function(a,b,c,d,e,f){__p&&__p();var g="mobile";a=function(){"use strict";__p&&__p();function a(a){__p&&__p();if(!this.$1(a))throw new Error("invalid webrtc message");this.originalMessageData=a;this.peerID=a.from;this.callID=parseInt(a.call_id,10);this.msg=JSON.parse(a.payload);this.msg.json_payload&&(this.escalationName=this.msg.sessionName,this.msg=this.msg.json_payload);this.msgType=this.msg.type;this.msgID=this.msg.msg_id;this.ackID=this.msg.ack_id;this.source=a.source;this.peerSupportsVideoInterop=!!this.msg.supports_video_interop;this.$2();this.$3();this.$4();this.$5()}var c=a.prototype;c.$1=function(a){return a.from&&a.call_id&&a.payload};c.$2=function(){if(this.peerSupportsVideoInterop)return;this.isFromMobile()&&this.disableVideo()};c.disableVideo=function(){this.msg.sdp&&(this.msg.sdp=b("FBRTCSdpUtils").disableVideo(this.msg.sdp)),(this.msgType===b("FBRTCConstants").PayloadType.SET_VIDEO||this.msgType===b("FBRTCConstants").PayloadType.OFFER||this.msgType===b("FBRTCConstants").PayloadType.ICERESTART_OFFER||this.msgType===b("FBRTCConstants").PayloadType.ANSWER||this.msgType===b("FBRTCConstants").PayloadType.ICERESTART_ANSWER)&&(this.msg.videoon=!1)};c.$3=function(){this.isFromMobile()&&this.msg.sdp&&this.msgType!==b("FBRTCConstants").PayloadType.ICE_CANDIDATE&&(this.msg.sdp=b("FBRTCSdpUtils").removeRED(this.msg.sdp))};c.$4=function(){if(this.isFromMobile()&&b("FBRTCSupport").isWebrtcSupported()&&this.msg.sdp&&this.msgType!==b("FBRTCConstants").PayloadType.ICE_CANDIDATE){var a=b("FBRTCExperiment").gen("rtc_browser_use_h264");a.getBool("allow_h264",!1)||(this.msg.sdp=b("FBRTCSdpUtils").removeH264(this.msg.sdp))}};c.$5=function(){if(this.isFromMobile()&&b("FBRTCSupport").isWebrtcSupported()&&this.msg.sdp&&this.msgType!==b("FBRTCConstants").PayloadType.ICE_CANDIDATE){var a=b("FBRTCExperiment").gen("rtc_browser_use_vp9");a.getBool("allow_vp9",!1)||(this.msg.sdp=b("FBRTCSdpUtils").removeVP9(this.msg.sdp))}};c.isOffer=function(){return this.msgType===b("FBRTCConstants").PayloadType.OFFER};c.isFromMobile=function(){return this.source===g};c.isRemoteVideoSupported=function(){return!this.msg.sdp||this.msgType===b("FBRTCConstants").PayloadType.ICE_CANDIDATE?!0:b("FBRTCSdpUtils").isVideoSupported(this.msg.sdp)};c.isRetry=function(){return!!this.msg.flag};c.isForCall=function(a,c){return this.escalationName&&(this.msgType===b("FBRTCConstants").PayloadType.HANGUP||this.msgType===b("FBRTCConstants").PayloadType.SWITCH_TO_MULTIWAY)?c===this.escalationName:!a||a===this.callID||this.msgType===b("FBRTCConstants").PayloadType.OFFER||this.msgType===b("FBRTCConstants").PayloadType.ICERESTART_OFFER||this.msgType===b("FBRTCConstants").PayloadType.PCRESTART_OFFER||this.msgType===b("FBRTCConstants").PayloadType.ICE_CANDIDATE};c.getSignalingExperiments=function(){if(this.isFromMobile()){if(!this.msg.experiments)return["sdp_update"];this.msg.experiments.includes("sdp_update")||this.msg.experiments.push("sdp_update")}return this.msg.experiments};return a}();e.exports=a}),null);
__d("FBRTCMessageDedup",[],(function(a,b,c,d,e,f){var g={};a={check:function(a,b,c){g[a]||(g[a]={});g[a][b]||(g[a][b]={});if(g[a][b][c])return!1;g[a][b][c]=!0;return!0}};e.exports=a}),null);
__d("RTCAppData",["FacebookAppIDs","RTWebClientFeatureGating","URI","VFDesktopHelper","WorkplaceChatHelper","gkx","isFacebookURI","isMessengerDotComURI","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={getAppID:function(){if(b("WorkplaceChatHelper").isDesktopChatApp())return this._getWorkplaceChatDesktopAppID();else if(b("VFDesktopHelper").isDesktopApp()&&b("gkx")("794738"))return Number(b("VFDesktopHelper").getAppID());return b("FacebookAppIDs").WWW},getChannelManagerAppName:function(){switch(h.getMWAppID()){case b("FacebookAppIDs").MESSENGERDOTCOM.toString():return"messenger_dot_com";case b("FacebookAppIDs").WWW.toString():return"www";case b("FacebookAppIDs").WORKPLACE_DESKTOP.toString():return"workplace";case b("FacebookAppIDs").MESSENGER_DESKTOP_ARCHON_MACOS.toString():return"desktop_video_chat";case b("FacebookAppIDs").MESSENGER_DESKTOP_ARCHON_WINDOWS.toString():return"desktop_video_chat_for_windows";default:return"desktop"}},_getWorkplaceChatDesktopAppID:function(){return b("WorkplaceChatHelper").getAppID()||b("FacebookAppIDs").WORKPLACE_DESKTOP},getMWAppID:function(){__p&&__p();var a;if(b("VFDesktopHelper").isDesktopApp()&&b("gkx")("794738"))return b("VFDesktopHelper").getAppID();var c=new(g||(g=b("URI")))(window.location.href);if((a=b("qex")._("1230329"))!=null?a:!1)return b("FacebookAppIDs").MQTT_WEB.toString();if(!b("RTWebClientFeatureGating").shouldUseRealMultiwayAppID())return b("FacebookAppIDs").CHATPROXY_WEB.toString();a=new g(window.location.href).getDomain();if(!a)return b("FacebookAppIDs").CHATPROXY_WEB.toString();if(b("WorkplaceChatHelper").isDesktopChatApp())return this._getWorkplaceChatDesktopAppID().toString();else if(b("isFacebookURI")(c)&&(a.startsWith("www")||a.startsWith("m")))return b("FacebookAppIDs").WWW.toString();else if(b("isMessengerDotComURI")(c))return b("FacebookAppIDs").MESSENGERDOTCOM.toString();else return b("FacebookAppIDs").CHATPROXY_WEB.toString()}};e.exports=h}),null);
__d("RTCAppDispatcher",["ExplicitRegistrationDispatcher","objectValues"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}var d=c.prototype;d.explicitlyRegisterStoresInMap=function(a){this.explicitlyRegisterStores(b("objectValues")(a))};return c}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("RTCOneVCStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({meetingID:null,meetingPassword:null,participants:[]}));e.exports=a}),null);
__d("RTCOneVCStore",["invariant","FBRTCConfig","FluxReduceStore","RTCAppDispatcher","RTCOneVCStoreState"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("RTCAppDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new(b("RTCOneVCStoreState"))()};d.reduce=function(a,b){switch(b.type){case"SET_MEETING_ID":return a.set("meetingID",b.meetingID);case"SET_MEETING_PASSWORD":return a.set("meetingPassword",b.meetingPassword);case"STORE_PARTICIPANTS":b=h(b.participants);return a.set("participants",b);default:return a}};d.getParticipantsSummary=function(){var a=this.getState().participants;return a.length===0?{audioParticipants:0,videoParticipants:0}:a.reduce(function(a,b){b=b.video_mute.some(function(a){return a!==!1});return b?{audioParticipants:a.audioParticipants+1,videoParticipants:a.videoParticipants}:{audioParticipants:a.audioParticipants,videoParticipants:a.videoParticipants+1}},{audioParticipants:0,videoParticipants:0})};d.getParticipants=function(){return this.getState().participants};return c}(b("FluxReduceStore"));a.__moduleID=e.id;function h(a){var c=b("FBRTCConfig").getMeetingID();c!=null||g(0,11961);var d="Facebook (Meeting ID: "+c+")";return a.filter(function(a){return!a.peer_name.includes(d)})}e.exports=new a()}),null);
__d("FBRTCVersionDetection",["UserAgent","UserAgentData"],(function(a,b,c,d,e,f){__p&&__p();a={isChrome:function(){return b("UserAgent").isBrowser("Chrome")},isFirefox:function(){return b("UserAgent").isBrowser("Firefox")},isChromium:function(){return!!navigator.webkitGetUserMedia},webrtcVersion:function(){if(this.isFirefox()||this.isChrome())return b("UserAgentData").browserVersion||0;if(this.isChromium()){var a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a!=null?parseInt(a[2],10):999}return 0}};e.exports=a}),null);
__d("RTCSignalingExperiments",["CurrentUser","FBRTCConfig","FBRTCExperiment","FBRTCScreenSharingUtils","FBRTCSupport","FBRTCVersionDetection","UserAgent","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(b){this.$2=new Set(),this.$1=new Set(a.getLocal()),b&&(this.$2=new Set(b))}var c=a.prototype;c.getLocal=function(){return Array.from(this.$1)};c.setRemote=function(b){return!b?this:new a(b)};c.getRemote=function(){return Array.from(this.$2)};c.support=function(a){return this.localSupport(a)&&this.remoteSupport(a)};c.localSupport=function(a){return this.$1.has(a)};c.remoteSupport=function(a){return this.$2.has(a)};a.getLocal=function(){var a=[];(b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")||b("UserAgent").isBrowser("Firefox >= 38"))&&a.push("sdp_update");g()&&a.push("multiple_streams_plan_b");b("FBRTCScreenSharingUtils").canUserReceiveScreenSharing()&&a.push("screen_sharing");h()&&a.push("multiple_streams_unified");b("FBRTCSupport").isMobileDevice()?a.push("mweb"):a.push("www");b("FBRTCSupport").videoEscalationByUnmuteWorkaround()&&a.push("video_escalation_by_unmute");return a};a.shouldCapMWBitrate=function(){return b("FBRTCExperiment").gen("rtc_www_mw_video_quality").getBool("cap_bitrate",!1)};a.shouldCapAudioBitrate=function(){return b("FBRTCConfig").isVCEndpointCall()||b("CurrentUser").isWorkUser()?!1:b("FBRTCExperiment").getMediaQualityExperiments().getBool("use_audio_bitrate_cap",!1)};a.shouldPreferIsac=function(){return b("FBRTCConfig").isVCEndpointCall()||b("CurrentUser").isWorkUser()?!0:b("FBRTCExperiment").getMediaQualityExperiments().getBool("prefer_isac",!0)};a.shouldAlwaysSetMWDescriptionsOnSMU=function(){return!Boolean(b("qex")._("897144"))};a.shouldEnableAudioNack=function(){return b("FBRTCConfig").isVCEndpointCall()||b("CurrentUser").isWorkUser()?!1:b("FBRTCExperiment").getMediaQualityExperiments().getBool("enable_audio_nack",!1)};return a}();function g(){return(b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera"))&&b("FBRTCVersionDetection").webrtcVersion()>=34}function h(){return b("UserAgent").isBrowser("Firefox")&&b("FBRTCVersionDetection").webrtcVersion()>=40}e.exports=a}),null);
__d("FBRTCMessageSender",["errorCode","CurrentUser","FBRTCConstants","FBRTCLocalUploadLogLevel","FBRTCLogger","FBRTCSupport","FBRTCUtils","PresenceProperties","RTCAppData","RTCOneVCStore","RTCSignalingExperiments","SiteData","XCollabCallSendMessageController","XVideoCallSendMessageController","generateRTCSignalingMessageID"],(function(a,b,c,d,e,f,g){__p&&__p();var h=0;a=function(){"use strict";__p&&__p();function a(){this.onSendFailure=null,this.$1=b("FBRTCLogger").getInstance()}var c=a.prototype;c.sendOffer=function(a,c,d,e,f,g){return this.$2(b("FBRTCConstants").PayloadType.OFFER,a,c,d,e,f,null,g)};c.sendAnswer=function(a,c,d,e,f,g){return this.$2(b("FBRTCConstants").PayloadType.ANSWER,a,c,d,e,f,g)};c.sendPCRestartOffer=function(a,c,d,e,f){return this.$2(b("FBRTCConstants").PayloadType.PCRESTART_OFFER,a,c,d,e,f)};c.sendSdpUpdate=function(a,c,d,e,f){return this.$2(b("FBRTCConstants").PayloadType.SDP_UPDATE,a,c,d,e,f)};c.resendSdpMessage=function(a,b){b.flag=1,this.$3(a,b)};c.resendPayload=function(a,b){b.flag=1,this.$4(a,b)};c.$2=function(a,c,d,e,f,g,h,i){__p&&__p();d=this.$5(d,a);d.sdp=e;a===b("FBRTCConstants").PayloadType.OFFER&&(d.browser_supports_escalation=b("FBRTCSupport").isGroupCallWebtrcSupported(),d.handlescollision=!0,d.pranswer=!1,i&&(d.call_trigger=i));a===b("FBRTCConstants").PayloadType.ANSWER&&h&&(d.escalation_conference_name=h.escalationConferenceName,d.negotiated_escalation_support=h.negotiatedEscalationSupport);(a===b("FBRTCConstants").PayloadType.OFFER||a===b("FBRTCConstants").PayloadType.ANSWER||a===b("FBRTCConstants").PayloadType.PCRESTART_OFFER)&&(d.icerestart=!1,d.experiments=b("RTCSignalingExperiments").getLocal());d.videoon=f;d.attributes=g;d.ull=b("FBRTCConstants").convertFromUploadLogLevel(b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel());this.$3(c,d);return d};c.sendIceCandidate=function(a,c,d){c=this.$5(c,b("FBRTCConstants").PayloadType.ICE_CANDIDATE);c.sdp_mid=d.sdpMid;c.label=d.sdpMLineIndex;c.sdp=d.candidate;this.$4(a,c)};c.sendHangup=function(a,c,d,e,f){c=this.$5(c,b("FBRTCConstants").PayloadType.HANGUP);c.reason=b("FBRTCConstants").callEndReasonString(d);c.subreason=f||"";this.$4(a,c,e,!0)};c.sendOtherDismiss=function(a){a=this.$5(a,b("FBRTCConstants").PayloadType.OTHER_DISMISS);this.$4(b("CurrentUser").getID(),a)};c.sendOfferAck=function(a,c,d,e){e===void 0&&(e=new Map()),this.$6(a,c,d,b("FBRTCConstants").PayloadType.OFFER_ACK,e)};c.sendOfferNack=function(a,c,d){this.$6(a,c,d,b("FBRTCConstants").PayloadType.OFFER_NACK,new Map([["error_code",1356043]]))};c.sendAnswerAck=function(a,c,d){this.$6(a,c,d,b("FBRTCConstants").PayloadType.ANSWER_ACK)};c.sendAck=function(a,c,d){this.$6(a,c,d,b("FBRTCConstants").PayloadType.ACK,new Map([["ack_type",d.type]]))};c.sendMuteStateUpdate=function(a,c,d){c=this.$5(c,b("FBRTCConstants").PayloadType.SET_VIDEO);c.videoon=d;this.$4(a,c)};c.sendClientReportedEvent=function(a,c,d){c=this.$5(c,b("FBRTCConstants").PayloadType.CLIENT_REPORTED_EVENT);c.event_type=d;this.$4(a,c)};c.sendVideoEscalationRequest=function(a,b,c){return this.sendVideoRequestResponse(a,b,0,c)};c.sendVideoRequestResponse=function(a,c,d,e){c=this.$5(c,b("FBRTCConstants").PayloadType.VIDEO_REQUEST);c.ack_id=d;c.videoon=e;c.capability=b("PresenceProperties").getProperties();this.$4(a,c);return c};c.sendMsgAck=function(){};c.sendOk=function(){};c.sendPranswer=function(){};c.sendIcerestartAnswer=function(){};c.$5=function(a,c){var d=b("generateRTCSignalingMessageID")();a={version:h,type:c,call_id:a,msg_id:d};this.$7(c)&&(a.supports_video_interop=!0);return a};c.$7=function(a){return a===b("FBRTCConstants").PayloadType.OFFER||a===b("FBRTCConstants").PayloadType.ANSWER||a===b("FBRTCConstants").PayloadType.PRANSWER||a===b("FBRTCConstants").PayloadType.ICERESTART_OFFER||a===b("FBRTCConstants").PayloadType.ICERESTART_ANSWER||a===b("FBRTCConstants").PayloadType.PCRESTART_OFFER||a===b("FBRTCConstants").PayloadType.PCRESTART_ANSWER||a===b("FBRTCConstants").PayloadType.SDP_UPDATE||a===b("FBRTCConstants").PayloadType.SET_VIDEO||a===b("FBRTCConstants").PayloadType.VIDEO_REQUEST};c.$3=function(a,b){this.$4(a,b,!1,!0,!0)};c.$6=function(a,c,d,e){var f=(arguments.length<=4?void 0:arguments[4])||new Map(),g=this.$5(c,e);g.ack_id=d.msg_id;d.flag===1&&(g.flag=1);g.ull=b("FBRTCConstants").convertFromUploadLogLevel(b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel());f.forEach(function(a,b,c){g[b]=a});this.$4(a,g)};c.$4=function(a,c,d,e,f){__p&&__p();var g=c.msg_id,h={peer_id:a,call_id:c.call_id,msg_id:g,msg_type:c.type},i=b("FBRTCUtils").isPeerVCEndpoint(a);if(i){var j=b("RTCOneVCStore").getState(),k=j.meetingID;j=j.meetingPassword;k!=null&&(c.meeting_id=k);j!=null&&(c.meeting_pass=j)}k=(i?b("XCollabCallSendMessageController"):b("XVideoCallSendMessageController")).getURIBuilder().setInt("recipient_id",a).setInt("msg_id",g).setString("message_info",JSON.stringify(c)).getURI();j=null;e&&(j=this.$4.bind(this,a,c,d,!1,f));i=this.$8.bind(this,h);g=this.$9.bind(this,h,j,f);b("FBRTCUtils").sendServerRequest(k,i,g,d);this.onMessageSent&&this.onMessageSent(a,c);this.$1.logSentMessage(a,c.call_id,c)};c.$8=function(a){this.$1.logSentMessageSuccess(a.peer_id,a.call_id,a.msg_type,a.msg_id)};c.$9=function(a,c,d,e){__p&&__p();var f="UNKNOWN_ERROR";e&&(f=e.getError?e.getError():e);this.$1.logSentMessageFailure(a.peer_id,a.call_id,a.msg_type,a.msg_id,f);e=null;f===1356001||f===1356049?e=b("FBRTCConstants").CallEndReason.NO_PERMISSION:f===1356046||f===1356045?e=b("FBRTCConstants").CallEndReason.CALLER_NOT_VISIBLE:(f===1356003||f===1356002||f===1356044)&&(e=b("FBRTCConstants").CallEndReason.OTHER_NOT_CAPABLE);if(!e&&c){c();return}d&&this.onSendFailure&&(e||(e=b("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED),this.onSendFailure(e,f,a.msg_type))};return a}();e.exports=a}),null);
__d("FBRTCPCConfig",["FBRTCConfig","FBRTCVersionDetection"],(function(a,b,c,d,e,f){__p&&__p();var g="stun:stun.fbsbx.com:3478";function h(a,c,d){if(b("FBRTCVersionDetection").isChrome()&&b("FBRTCVersionDetection").webrtcVersion()>=34){var e={urls:a};c!==void 0&&d!==void 0&&(e.username=c,e.credential=d);return[e]}e=[];for(var f=0;f<a.length;f++)c!==void 0&&d!==void 0?e.push({url:a[f],username:c,credential:d}):e.push({url:a[f]});return e}a=function(){"use strict";__p&&__p();function a(){this.sslPort="",this.tcpPort="",this.turnIP="",this.turnPassword="",this.turnUsername="",this.udpPort=""}var c=a.prototype;c.setTurnCredentials=function(a){this.turnIP=a.ip,this.udpPort=a.udp_port,this.tcpPort=a.tcp_port,this.sslPort=a.ssl_tcp_port,this.turnUsername=a.username,this.turnPassword=a.password};c.getConfig=function(){if(b("FBRTCConfig").isVCEndpointCall())return{iceServers:[]};var a=h([g]).concat(h(this.$1(),this.turnUsername,this.turnPassword));return{iceServers:a}};c.getConstraints=function(a){a===void 0&&(a=!1);var c=!0;b("FBRTCVersionDetection").isChromium()&&b("FBRTCVersionDetection").webrtcVersion()<57&&a&&(c=!1);return{mandatory:{},optional:[{DtlsSrtpKeyAgreement:c}]}};c.$2=function(a){__p&&__p();var b=this;a=function(a){switch(a){case"tcp":return{ip:b.turnIP,port:b.tcpPort,transport:a};case"udp":return{ip:b.turnIP,port:b.udpPort,transport:a};case"ssl":return{ip:b.turnIP,port:b.sslPort,transport:"tcp"};default:return{ip:b.turnIP,port:b.udpPort,transport:null}}}(a);var c=a.ip,d=a.port;a=a.transport;return!((c==null?void 0:c.length)&&(d==null?void 0:d.length))?null:a!=null&&a.length>0?"turn:"+c+":"+d+"?transport="+a:"turn:"+c+":"+d};c.$1=function(){if(b("FBRTCVersionDetection").isFirefox()&&b("FBRTCVersionDetection").webrtcVersion()<27)return[this.$2()].filter(Boolean);else return[this.$2("udp"),this.$2("tcp"),this.$2("ssl")].filter(Boolean)};return a}();e.exports=new a()}),null);
__d("FBRTCPeerConnectionHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={resetLocalStreams:function(a,b){var c=!1,d=a.getLocalStreams(),e=d.filter(function(a){return!b.includes(a)}),f=b.filter(function(a){return!d.includes(a)});(e.length>0||f.length>0)&&(c=!0);e.forEach(function(b){return a.removeStream(b)});f.forEach(function(b){return a.addStream(b)});return c},resetLocalStreamWithTrackAPI:function(a,b,c){__p&&__p();var d=!1,e=b.getVideoTracks().length>0?b.getVideoTracks()[0]:null,f=b.getAudioTracks().length>0?b.getAudioTracks()[0]:null,g=a.getSenders(),h=g.filter(function(a){return a.track&&a.track.kind==="video"}),i=g.filter(function(a){return a.track&&a.track.kind==="audio"});h=h.length===(e===null?0:1)&&i.length===(f===null?0:1);if(c||!h){g.filter(function(a){return a.track!==e&&a.track!==e}).forEach(function(b){d=!0,a.removeTrack(b)});f&&!g.some(function(a){return a.track===f})&&(d=!0,a.addTrack(f,b));e&&!g.some(function(a){return a.track===e})&&(d=!0,a.addTrack(e,b));return d}a.getSenders().forEach(function(a){a.track&&a.track.kind==="video"&&e!==a.track?a.replaceTrack(e):a.track&&a.track.kind==="audio"&&f!==a.track&&a.replaceTrack(f)});return d}};e.exports=a}),null);
__d("FBRTCRetriableMessage",["FBRTCConstants","clearTimeout","mixInEventEmitter","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g=1e4,h=7e3;a=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=g,this.$3=2,this.$6=null}var c=a.prototype;c.sendMessage=function(a,c,d,e){__p&&__p();var f=e.sdp,g=e.hasVideo,i=e.attributes,j=e.multiwayInfo;e=e.callTrigger;this.$4=c;switch(a){case b("FBRTCConstants").PayloadType.PCRESTART_OFFER:this.$5=this.$1.sendPCRestartOffer(c,d,f,g,i);break;case b("FBRTCConstants").PayloadType.OFFER:this.$5=this.$1.sendOffer(c,d,f,g,i,e);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$2=h;this.$5=this.$1.sendAnswer(c,d,f,g,i,j);break}this.$7()};c.isAckMsg=function(a){return this.$5&&this.$5.msg_id===a.ack_id};c.stopRetrying=function(){this.$6&&(b("clearTimeout")(this.$6),this.$4=null,this.$5=null,this.$6=null)};c.$7=function(){this.$6=b("setTimeout")(this.$8.bind(this),this.$2)};c.$8=function(){this.$3<1?this.emit("timeoutFailure"):(this.emit("sendingRetry"),this.$1.resendSdpMessage(this.$4,this.$5),this.$7(),this.$3-=1)};return a}();b("mixInEventEmitter")(a,{sendingRetry:!0,timeoutFailure:!0});e.exports=a}),null);
__d("FBRTCTurnDiscovery",["Promise","FBRTCLogger","FBRTCUtils","XVideoCallTurnDiscoveryController"],(function(a,b,c,d,e,f){__p&&__p();var g=3,h=null;a={requestTurnCreds:function(a,c,d){__p&&__p();d===void 0&&(d=g);if(h)return h;var e=1,f=b("XVideoCallTurnDiscoveryController").getURIBuilder().setInt("version",e).setString("call_id",a).getURI();h=new(b("Promise"))(function(e,g){h(d);function h(d){b("FBRTCUtils").sendServerRequest(f,function(a){a=a.payload;return e(a)},function(){d>0?(b("FBRTCLogger").getInstance().logError(c,a,"Failed turn; going to retry"),h(d-1)):g(new Error("failed"))})}});return h}};e.exports=a}),null);
__d("FBRTCUrlManager",["invariant","Promise","regeneratorRuntime","CurrentUser","FBRTCConfig","FBRTCLogger","FBRTCSupport","FBRTCUtils","RTWebUserActionLogger","URI","XGroupCallController","XGroupCallSigningController","XVideoCallController","XVideoCallSigningController","XWirelessScreenSharingController"],(function(a,b,c,d,e,f,g){__p&&__p();var h;function i(a){b("FBRTCLogger").getInstance().logCallAction(a,void 0,b("FBRTCLogger").CallAction.OLD_URI);return b("XVideoCallController").getURIBuilder().setFBID("peer_id",a).getURI()}function j(a){if(b("CurrentUser").isEmployee()){var c=a.setSubdomain(b("CurrentUser").hasWorkUser()||b("CurrentUser").isWorkUser()?"fb":"www"),d="/intern/";return(h||(h=b("URI"))).getRequestURI().getPath().substr(0,d.length)!==d?c:c.setDomain(c.getDomain().toString().replace(/\.(intern|internmc|cstools)\./,"."))}return a}function k(a,c,d,e,f,g,h){a=b("XVideoCallController").getURIBuilder().setFBID("peer_id",a).setInt("call_id",c).setBool("is_caller",d).setBool("audio_only",e).setString("nonce",f).setBool("initialize_video",g).getURI();return b("Promise").resolve(h?j(a):a)}function l(a){__p&&__p();var c,d,e,f,g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:c=a.callContext,d=a.callID,e=a.usersToRing,f=a.hasVideo,g=a.initializeVideo,h=a.multiwayCoreTier,i=a.multiwayWwwTier,j=a.nonce,k=a.serverInfoData;l=b("XGroupCallSigningController").getURIBuilder().setString("call_context",c).setInt("call_id",d).setFBIDSet("users_to_ring",e).setBool("has_video",f).setBool("initialize_video",g).setString("server_info_data",k).setString("nonce",j).setString("multiway_www_tier",i).setString("multiway_core_tier",h).getURI();return m.abrupt("return",new(b("Promise"))(function(a,c){b("FBRTCUtils").sendServerRequest(l,function(b){a(b.payload.uri)},function(a){c(a)})}));case 3:case"end":return m.stop()}},null,this)}var m=function(a){if(b("FBRTCConfig").disableURLManager())return;window.history.replaceState({},"",a)};function n(a){var c=b("XVideoCallController").getURIBuilder().setFBID("peer_id","0").getURI().getPath();return a.getPath()===c}function o(a,b){a&&(b&&g(0,11934))}a={onCallStarted:function(a){n(new(h||(h=b("URI")))(window.location))&&m(i(a))},getGroupCallUri:function(a,c,d,e,f,g,h,i,j){__p&&__p();var k;return b("regeneratorRuntime").async(function(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:o(!e,f),k=0;case 2:if(!(k<3)){m.next=15;break}m.prev=3;m.next=6;return b("regeneratorRuntime").awrap(l({callContext:a,callID:c,usersToRing:d,hasVideo:e,initializeVideo:f,multiwayCoreTier:g,multiwayWwwTier:h,nonce:i,serverInfoData:j}));case 6:return m.abrupt("return",m.sent);case 9:m.prev=9,m.t0=m["catch"](3),b("FBRTCLogger").getInstance().logToConsole(m.t0);case 12:k++;m.next=2;break;case 15:return m.abrupt("return",b("XGroupCallController").getURIBuilder().setString("call_context",a).setInt("call_id",c).setFBIDSet("users_to_ring",d).setBool("has_video",e).setBool("initialize_video",f).setString("server_info_data",j).setString("nonce",i).setString("multiway_www_tier",h).setString("multiway_core_tier",g).getURI());case 16:case"end":return m.stop()}},null,this,[[3,9]])},getP2PCallUriWithNonce:function(a,c,d,e,f,g,h){__p&&__p();var i,j;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:h===void 0&&(h="");o(e,g);i=b("FBRTCUtils").isPeerVCEndpoint(a)||b("FBRTCUtils").isCollabTrigger(h);if(!(!i&&d&&b("FBRTCSupport").isGroupCallWebtrcSupported())){l.next=8;break}j=b("XVideoCallSigningController").getURIBuilder().setFBID("peer_id",a).setInt("call_id",c).setBool("is_caller",d).setBool("audio_only",e).setString("nonce",f).setBool("initialize_video",g).getURI();return l.abrupt("return",new(b("Promise"))(function(h,l){b("FBRTCUtils").sendServerRequest(j,function(a){h(a.payload.uri)},function(j){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"signed_p2p_controller_rejected_response"}),h(k(a,c,d,e,f,g,i))})}));case 8:return l.abrupt("return",k(a,c,d,e,f,g,i));case 9:case"end":return l.stop()}},null,this)},getWirelessScreenSharingUri:function(a,c,d){c=b("XWirelessScreenSharingController").getURIBuilder().setFBID("peer_id",c).setInt("session_id",d).setString("nonce",a).getURI();return j(c)}};e.exports=a}),null);
__d("FBRTCUserSettings",["Promise","RTCMediaDevices","emptyFunction","mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={audioInput:"",audioOutput:"default",videoInput:"",remoteStream:null,_audioInputLabel:null,_videoInputLabel:null,isEnabled:function(){return Boolean(b("RTCMediaDevices").isSupported("enumerateDevices"))},selectAudioInputByLabel:function(a){this.audioInput||(this.audioInput=this._selectByLabel(a,this._audioInputLabel));return this.audioInput},selectVideoInputByLabel:function(a){this.videoInput||(this.videoInput=this._selectByLabel(a,this._videoInputLabel));return this.videoInput},_selectByLabel:function(a,b){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b&&b===e.label)return e.deviceId}return null},previewStart:function(){this.emit("previewStarted")},previewEnd:function(){this.emit("previewEnded")},save:function(a){var c=this,d=a.audioInput,e=a.audioOutput,f=a.videoInput;return new(b("Promise"))(function(a){var b=!!(d&&c.audioInput!==d||f&&c.videoInput!==f);c.audioInput=d;c.audioOutput=e;c.videoInput=f;c.emit("saved",b);a(b)})},updateForLocalStream:function(a){__p&&__p();if(a.videoMediaSourceId)this.videoInput=a.videoMediaSourceId;else{var b=a.getVideoTracks();b=b[0];b&&(this._videoInputLabel=b.label)}if(a.audioMediaSourceId)this.audioInput=a.audioMediaSourceId;else{b=a.getAudioTracks();a=b[0];a&&(this._audioInputLabel=a.label)}},updateForRemoteStream:function(a){this.remoteStream=a,this.emit("remoteStreamChanged")},addListener:function(){},emit:b("emptyFunction")};b("mixInEventEmitter")(a,{previewStarted:!0,previewEnded:!0,remoteStreamChanged:!0,saved:!0});e.exports=a}),null);
__d("FBRTCMultiwayMessage",["ChannelManager","CurrentUser","FBRTCMessageType","RTCAppData","RTCUtils"],(function(a,b,c,d,e,f){__p&&__p();b("ChannelManager").startChannelManager();a=function(){"use strict";__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.isRequest=function(){return this.$1.jsonPayload.header.responseStatusCode==null};c.isType=function(a){return this.type()==a};c.transactionId=function(){return this.$1.jsonPayload.header.transactionId};c.conferenceName=function(){return this.$1.jsonPayload.header.conferenceName};c.serverInfoData=function(){return this.$1.jsonPayload.header.serverInfoData};c.message=function(){return this.$1};c.type=function(){return this.header().type};c.endpoint=function(){return this.$1.endpoint};c.header=function(){return this.$1.jsonPayload.header};c.body=function(){return this.$1.jsonPayload.body};c.incrementRetryCount=function(){this.$1.jsonPayload.header.retryCount++};c.ringRequest=function(){return this.isRequest()&&this.isType(b("FBRTCMessageType").RING)?this.body().ringRequest:null};c.dismissRequest=function(){return this.isRequest()&&this.isType(b("FBRTCMessageType").DISMISS)?this.body().dismissRequest:null};c.serverMediaUpdateRequest=function(){return this.isRequest()&&this.isType(b("FBRTCMessageType").SERVER_MEDIA_UPDATE)?this.body().serverMediaUpdateRequest:null};c.conferenceStateRequest=function(){return this.isRequest()&&this.isType(b("FBRTCMessageType").CONFERENCE_STATE)?this.body().conferenceStateRequest:null};c.createResponse=function(c,d){var e=d.body;d=d.callID;c={endpoint:{appId:b("RTCAppData").getMWAppID(),deviceId:b("ChannelManager").getCompleteConfig().sessionID,userId:b("CurrentUser").getID()},jsonPayload:{header:b("RTCUtils").createResponseHeader(this.header(),c,d?d:""),body:e||{}}};return new a(c)};return a}();e.exports=a}),null);
__d("RTCMessageSender",["Promise","AsyncRequest","XGroupCallSendMessageController"],(function(a,b,c,d,e,f){__p&&__p();var g=6e3;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.send=function(a){__p&&__p();return new(b("Promise"))(function(c,d){a.jsonPayload.header.conferenceName;var e=b("XGroupCallSendMessageController").getURIBuilder().getURI();e=new(b("AsyncRequest"))(e).setMethod("POST").setData({message:JSON.stringify(a)}).setAllowCrossPageTransition(!0).setHandler(function(a){c(a)}).setErrorHandler(function(a){a=a.getErrorDescription();a=Error(a!=null?a.toString():"AsyncRequest error");d(a)}).setTimeoutHandler(g,function(){d("Timeout")});e.send()})};return a}();e.exports=a}),null);
__d("FBRTCTransactions",["Promise","FBRTCConsoleLogger","RTCMessageSender","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=6e4,h=Object.freeze({INIT:0,PROCESSING:1,COMPLETED:2,TERMINATED:3});a=function(){__p&&__p();function a(){this.$1=new Map()}var b=a.prototype;b.findTransaction=function(a){return this.$1.get(a)};b.addTransaction=function(a){this.$1.set(a.id,a)};b.removeTransaction=function(a){this.$1["delete"](a.id)};b.getTransaction=function(a){return this.findTransaction(a.transactionId())||new i(this,a)};return a}();var i=function(){__p&&__p();function a(a,c){this.id=c.transactionId(),this.$1=h.INIT,this.$2=c,this.$3=null,this.$4=a,this.$5=new Error("Unknown"),this.$6=null,this.$7=new(b("RTCMessageSender"))(),this.$8(),this.$4.addTransaction(this)}var c=a.prototype;c.start=function(){__p&&__p();if(this.$1==h.INIT){this.$9(h.PROCESSING);return b("Promise").resolve(this.$2)}else if(this.$1==h.PROCESSING)return b("Promise").resolve(null);else if(this.$1==h.COMPLETED){this.$10();return b("Promise").resolve(null)}return b("Promise").reject(this.$5)};c.sendResponse=function(a){var b=this;this.$3=a;this.$9(h.COMPLETED);return this.$7.send(a.message()).then(function(a){},function(a){b.$5=a,b.$9(h.TERMINATED)})};c.$10=function(){if(this.$3!=null){var a=this.$3;a.incrementRetryCount();this.sendResponse(a)}};c.$9=function(a){a!=this.$1&&(this.$1=a,this.$1!=h.TERMINATED&&this.$8(),this.$1==h.TERMINATED&&(this.$5=new Error("Terminated"),this.$4.removeTransaction(this)))};c.$8=function(){var a=this;this.$6&&(b("clearTimeout")(this.$6),this.$6=null);this.$6=b("setTimeout")(function(){a.$9(h.TERMINATED)},g)};return a}();e.exports={FBRTCTransactionOwner:a,FBRTCServerTransaction:i}}),null);
__d("MultiwayRequests",["Promise","AsyncRequest","FBRTCCapability","FBRTCMessageType","RTCUtils","XGroupCallSendRequestController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=15e3;a=function(){__p&&__p();function a(){}var c=a.prototype;c.sendJoinRequest=function(a,c,d,e,f,g,h,i){__p&&__p();var j=h.callID,k=h.numParticipants;h=h.callTrigger;var l=i.userToEscalate,m=i.isEscalator;i=i.escP2PCallID;c=b("RTCUtils").createRequestHeader(b("FBRTCMessageType").JOIN,c,d,j,i);d={offer:{sdpString:e.toSdp()},deviceCapabilities:[b("FBRTCCapability").SUPPORT_AUDIO_DEPRECATED,b("FBRTCCapability").SUPPORT_VIDEO_DEPRECATED]};j=b("RTCUtils").createClientContextMessage(k,h?h:"");d.appMessages=[j];f&&f.length>0&&!l&&(d.usersToCall=f);l&&m&&(d.userToEscalate=l);g&&(d.mediaStatus=g);i={joinRequest:d};e=this.$1(a,c,i);return this.$2(e)};c.sendHangupRequest=function(a,c,d,e,f,g){c=b("RTCUtils").createRequestHeader(b("FBRTCMessageType").HANGUP,c,d,g);d={reason:e,detailedReasonString:f};g={hangupRequest:d};e=this.$1(a,c,g);return this.$2(e)};c.sendAddParticipantsRequest=function(a,c,d,e,f){c=b("RTCUtils").createRequestHeader(b("FBRTCMessageType").ADD_PARTICIPANTS,c,d,f);d={usersToInvite:e};f={addParticipantsRequest:d};e=this.$1(a,c,f);return this.$2(e)};c.sendRemoveParticipantsRequest=function(a,c,d,e,f){c=b("RTCUtils").createRequestHeader(b("FBRTCMessageType").REMOVE_PARTICIPANTS,c,d,f);d={usersToRemove:e};f={removeParticipantsRequest:d};e=this.$1(a,c,f);return this.$2(e)};c.sendSubscriptionRequest=function(a,c,d,e,f){c=b("RTCUtils").createRequestHeader(b("FBRTCMessageType").SUBSCRIPTION,c,d,f);d={subscriptions:e};f={subscriptionRequest:d};e=this.$1(a,c,f);return this.$2(e)};c.sendClientMediaUpdateRequest=function(a,c,d,e,f,g,h){c=b("RTCUtils").createRequestHeader(b("FBRTCMessageType").CLIENT_MEDIA_UPDATE,c,d,h);d={fromVersion:e,toVersion:f,mediaUpdates:g};h={clientMediaUpdateRequest:d};e=this.$1(a,c,h);return this.$2(e)};c.$2=function(a){return new(b("Promise"))(function(c,d){var e=b("XGroupCallSendRequestController").getURIBuilder().getURI();e=new(b("AsyncRequest"))(e).setMethod("POST").setData({request:JSON.stringify(a)}).setAllowCrossPageTransition(!0).setHandler(function(a){c(a.payload)}).setErrorHandler(function(a){a=a.getErrorDescription();a=Error(a!=null?a.toString():"AsyncRequest error");d(a)}).setTimeoutHandler(g,function(){d("Timeout")});e.send()})};c.$1=function(a,b,c){return{endpoint:a,jsonPayload:{header:b,body:c}}};return a}();e.exports=new a()}),null);
__d("RTCCallType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({AUDIO_ONLY:"AUDIO_ONLY",VIDEO_ONLY:"VIDEO_ONLY",AUDIO_VIDEO:"AUDIO_VIDEO",NO_AUDIO_VIDEO:"NO_AUDIO_VIDEO"});e.exports=a}),null);
__d("RTCGroupCallAddUserWarningDialog.react",["fbt","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerDialogHeaderReact.re").make,i=b("MessengerDialogTitleReact.re").make;a=function(a){var c=a.handleRing,d=a.onToggle,e=a.unMountParent;return(a=b("React")).jsxs(b("MessengerDialog.react"),{onToggle:d,children:[a.jsx(h,{children:a.jsx(i,{children:g._("Ring Members Warning")})}),a.jsx(b("MessengerDialogBody.react"),{children:g._("You are trying to ring blocked users.")}),a.jsxs(b("MessengerDialogFooter.react"),{children:[a.jsx(b("MessengerDialogCancelButton.react"),{}),a.jsx(b("MessengerDialogButton.react"),{label:g._("Ring"),onClick:function(){d(),e(),c()},type:"primary",use:"default"})]})]})};e.exports=a}),null);
__d("RTCGroupCallAdminModelErrorDialogController",["cx","fbt","DOM","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogFooter.react","React","ReactDOM"],(function(a,b,c,d,e,f,g,h){"use strict";var i=300;a={_container:b("DOM").create("div"),showAdminModelErrorDialog:function(){var a=this,c;b("ReactDOM").render((c=b("React")).jsxs(b("MessengerDialog.react"),{onToggle:function(){return a._onUnmount()},type:"default",width:i,children:[c.jsx(b("MessengerDialogBody.react"),{className:"_233q",children:h._("Only the admin can add people to the call who are not in this group")}),c.jsx(b("MessengerDialogFooter.react"),{children:c.jsx(b("MessengerDialogButton.react"),{className:"_30vt _233r",label:h._("Ok"),onClick:function(){return a._onUnmount()},type:"primary",use:"default"})})]}),this._container)},_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._container)}};e.exports=a}),null);
__d("RTCGroupCallIncomingBlockedUserWarningDialog.react",["fbt","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerDialogHeaderReact.re").make,i=b("MessengerDialogTitleReact.re").make;a=function(a){var c=a.leaveCall,d=a.onAddStream,e=a.onToggle;return(a=b("React")).jsxs(b("MessengerDialog.react"),{onToggle:e,children:[a.jsx(h,{children:a.jsx(i,{children:g._("Incoming Blocked User Warning")})}),a.jsx(b("MessengerDialogBody.react"),{children:g._("Blocked member is entering the call. Do you want to leave?")}),a.jsxs(b("MessengerDialogFooter.react"),{children:[a.jsx(b("MessengerDialogButton.react"),{label:g._("Leave Call"),onClick:function(){e(),c()},type:"primary",use:"default"}),a.jsx(b("MessengerDialogButton.react"),{label:g._("Stay"),onClick:function(){e(),d()},type:"primary",use:"default"})]})]})};e.exports=a}),null);
__d("RTCMeetupLockStatus.react",["React","RelayFBLiveEnvironment","RelayModern","RTCMeetupLockStatusQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){var c=a.linkURL,d=a.render;return b("React").jsx(h,{environment:b("RelayFBLiveEnvironment"),query:g!==void 0?g:g=b("RTCMeetupLockStatusQuery.graphql"),render:function(a){a=a.props;return d(a==null?void 0:(a=a.link)==null?void 0:a.lock_status)},variables:{room_link:c}})};e.exports=a}),null);
__d("RTCGroupCallDialogController",["DOM","FBRTCGroupCallVideoEscalationDialog.react","React","ReactDOM","RTCGroupCallAddMembersDialog.react","RTCGroupCallAddUserWarningDialog.react","RTCGroupCallIncomingBlockedUserWarningDialog.react","RTCGroupCallRemoveGuestDialogContainer.react","RTCGroupCallRosterDialog.react","RTCMeetupLockStatus.react","RTCVideoChatLinkDialog.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={_container:b("DOM").create("div"),_blockedContainer:b("DOM").create("div"),showVideoChatLinkDialog:function(){b("ReactDOM").render(b("React").jsx(b("RTCVideoChatLinkDialog.react"),{}),this._container)},showAddGroupMembersDialog:function(a,c,d,e,f){var g=this;b("ReactDOM").render(b("React").jsx(b("RTCGroupCallAddMembersDialog.react"),{isP2P:f,onUnmount:function(){return g._onUnmount()},participantStates:c,participants:a,thread:d,viewerID:e}),this._container)},showVideoEscalationDialog:function(a,c){var d=this;b("ReactDOM").render(b("React").jsx(b("FBRTCGroupCallVideoEscalationDialog.react"),{onToggle:function(){d._onUnmount(),c()},userName:a}),this._container)},showBlockedUserWarningDialog:function(a,c){var d=this;b("ReactDOM").render(b("React").jsx(b("RTCGroupCallAddUserWarningDialog.react"),{handleRing:a,onToggle:function(){d._onBlockedDialogUnmount()},unMountParent:c}),this._blockedContainer)},showIncomingBlockedUserWarningDialog:function(a,c,d,e){var f=this;b("ReactDOM").render(b("React").jsx(b("RTCGroupCallIncomingBlockedUserWarningDialog.react"),{leaveCall:a,onAddStream:function(){c(d,e)},onToggle:function(){f._onUnmount()}}),this._container)},showParticipantsRoster:function(a){var c=this;b("ReactDOM").render(b("React").jsx(b("RTCMeetupLockStatus.react"),{linkURL:a,render:function(a){return b("React").jsx(b("RTCGroupCallRosterDialog.react"),{lockStatus:a,onToggle:function(){c._onUnmount()}})}}),this._container)},showRemoveGuestDialog:function(a){var c=this;b("ReactDOM").render(b("React").jsx(b("RTCGroupCallRemoveGuestDialogContainer.react"),{onUnmount:function(){c._onUnmount()},user:a}),this._container)},_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._container)},_onBlockedDialogUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._blockedContainer)}};e.exports=a}),null);
__d("RTCRosterContactItem.react",["cx","FBRTCParticipantCallState","MessengerContactImage.react","React","RTWebStrings"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=a.isMessengerUser,d=a.imageSrc,e=a.name;a=a.connectedState;return b("React").jsxs("div",{className:"_4nvn",children:[b("React").jsx(b("MessengerContactImage.react"),{className:"_4nvr",isMessengerUser:c,size:32,src:d}),b("React").jsx("div",{className:"_4nvt",children:e}),a!==null?b("React").jsx("div",{className:"_1j79",children:h(a)}):null]})}function h(a){switch(a){case b("FBRTCParticipantCallState").CONTACTING:return b("RTWebStrings").contacting;case b("FBRTCParticipantCallState").RINGING:return b("RTWebStrings").ringing;case b("FBRTCParticipantCallState").IN_ANOTHER_CALL:return b("RTWebStrings").busy;case b("FBRTCParticipantCallState").NO_ANSWER:return b("RTWebStrings").noAnswer;default:return null}}e.exports=a}),null);
__d("RevokeMessengerCallInviteLinksForThreadMutation",["Promise","RelayFBEnvironment","RelayModern","VideoChatLinksUserActionsTypedLogger","RevokeMessengerCallInviteLinksForThreadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("RevokeMessengerCallInviteLinksForThreadMutation.graphql");function a(a){return new(b("Promise"))(function(c,d){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a}},optimisticUpdater:null,onCompleted:function(a){},onError:function(a){j(a.message)}})})}function j(a){new(b("VideoChatLinksUserActionsTypedLogger"))().setSurface("www_incall").setEvent("error").setErrorType("RevokeLinkMutationError").setErrorDetails(a).log()}e.exports=a}),null);
__d("RTCGroupCallRemoveGuestDialog.react",["cx","fbt","FBRTCGroupCallStore","FBRTCGuestUtils","Image.react","Link.react","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","React","RevokeMessengerCallInviteLinksForThreadMutation","RTCCallStore","RTCMWProtocolHandler","RTCRosterContactItem.react","UserAgent","VideoChatLinksUserActionsTypedLogger","XUIText.react","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerDialogHeaderReact.re").make,j=b("MessengerDialogTitleReact.re").make;a=b("React").PureComponent;var k=460,l=300,m=b("UserAgent").isPlatform("Android")||b("UserAgent").isPlatform("iOS");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogState:"DEFAULT"},c.updateDialog=function(a){var b=a==="REMOVE_ONE_GUEST"?"remove_single_guest_sheet_shown":a==="REMOVE_ALL_GUESTS"?"remove_all_guests_sheet_shown":"remove_guest_sheet_shown";c.getVideoChatLinkLogger().setEvent(b).log();c.setState({dialogState:a})},c.onDismiss=function(){var a=c.props.onUnmount,b=c.state.dialogState;b=b==="REMOVE_ONE_GUEST"?"remove_single_guest_sheet_dismissed":b==="REMOVE_ALL_GUESTS"?"remove_all_guests_sheet_dismissed":"remove_guest_sheet_dismissed";c.getVideoChatLinkLogger().setEvent(b).log();a()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getVideoChatLinkLogger=function(){return new(b("VideoChatLinksUserActionsTypedLogger"))().setSurface("www_incall").setVideoCallLinkHashRaw(this.props.linkHash)};d.componentDidMount=function(){this.getVideoChatLinkLogger().setEvent("remove_guest_sheet_shown").log()};d.componentDidUpdate=function(){};d.render=function(){switch(this.state.dialogState){case"REMOVE_ONE_GUEST":return b("React").jsx(q,{linkHash:this.props.linkHash,logger:this.getVideoChatLinkLogger(),onAction:this.updateDialog,onUnmount:this.onDismiss,user:this.props.user});case"REMOVE_ALL_GUESTS":return b("React").jsx(p,{linkHash:this.props.linkHash,logger:this.getVideoChatLinkLogger(),onAction:this.updateDialog,onUnmount:this.onDismiss,user:this.props.user});case"DEFAULT":return b("React").jsx(o,{linkHash:this.props.linkHash,linkOwner:this.props.linkOwner,onAction:this.updateDialog,onUnmount:this.onDismiss,user:this.props.user})}};return c}(a);function n(a,c,d){var e=b("RTCCallStore").getState().callInfo,f=e.conferenceName;e=e.serverInfoData;b("promiseDone")(b("RTCMWProtocolHandler").removeParticipants(f,e,a));a=(e=(f=c)!=null?f.thread_fbid:f)!=null?e:"";b("RevokeMessengerCallInviteLinksForThreadMutation")(a);d()}var o=function(a){var c=a.linkOwner,d=a.onAction,e=a.onUnmount;a=a.user;var f=!!a.profilePictureUrl;return b("React").jsxs(b("MessengerDialog.react"),{onToggle:e,type:"default",width:m?l:k,children:[b("React").jsx(i,{children:b("React").jsx(j,{children:h._("Remove Guest")})}),b("React").jsxs(b("MessengerDialogBody.react"),{children:[b("React").jsx("div",{className:"_7gh9",children:b("React").jsx(b("Image.react"),{className:(f?"_1z3u":"")+(f?"":" _1z3t"),src:a.profilePictureUrl})}),b("React").jsx("div",{className:"_7gha",children:b("React").jsx(j,{children:h._("Remove \"{name of user to be removed}\"",[h._param("name of user to be removed",a.userShortName)])})}),b("React").jsx("div",{className:(m?"_8gx7":"")+" _7ghb"+(m?"":" _7i63"),children:c!==null?h._("\"{name of user to be removed}\" joined from {Possessive,name of user who invited this guest}'s invite. Members of this chat will be notified that \"{name of guest user to be removed}\" was removed.",[h._param("name of user to be removed",a.userShortName),h._param("Possessive,name of user who invited this guest",c),h._param("name of guest user to be removed",a.userShortName)]):h._("\"{name of user to be removed}\" will be removed from the video chat and the link to this chat will be revoked. Members of this chat will be alerted that \"{name of guest user to be removed}\" was removed.",[h._param("name of user to be removed",a.userShortName),h._param("name of guest user to be removed",a.userShortName)])})]}),b("React").jsx(b("Link.react"),{onClick:function(){d("REMOVE_ONE_GUEST")},children:b("React").jsx(b("XUIText.react"),{className:"_7ghc",display:"block",children:h._("Remove \"{name of user to be removed}\"",[h._param("name of user to be removed",a.userShortName)])})}),b("React").jsx(b("Link.react"),{onClick:function(){d("REMOVE_ALL_GUESTS")},children:b("React").jsx(b("XUIText.react"),{className:"_7ghc",display:"block",children:h._("Remove All Guests")})}),b("React").jsx(b("Link.react"),{onClick:e,children:b("React").jsx(b("XUIText.react"),{className:"_7ghc",display:"block",children:h._("Cancel")})})]})},p=function(a){__p&&__p();var c=a.logger,d=a.onUnmount;a.user;a=b("FBRTCGroupCallStore").getState();var e=a.participants,f=a.thread;a=b("FBRTCGuestUtils").fetchGuestParticipantsInCall(f,e);return b("React").jsxs(b("MessengerDialog.react"),{onToggle:d,type:"default",width:m?l:k,children:[b("React").jsxs(i,{children:[b("React").jsx(b("MessengerDialogCancelButton.react"),{autoFocus:!1}),b("React").jsx(j,{children:h._("Remove all guests")}),b("React").jsx(b("MessengerDialogButton.react"),{disabled:!1,label:h._("Remove"),onClick:function(){c.setEvent("remove_all_guests_selected").log();var a=b("FBRTCGuestUtils").fetchGuestFBIDsInCall(f,e);n(a,f,d)},type:"primary",use:"default"})]}),b("React").jsxs(b("MessengerDialogBody.react"),{children:[b("React").jsx("div",{className:"_7i64",children:b("React").jsx(j,{children:h._({"*":"Are you sure you want to remove {number} guests?","_1":"Are you sure you want to remove 1 guest?"},[h._plural(a.size,"number")])})}),b("React").jsx("div",{className:(m?"_8gx7":"")+" _7ghb"+(m?"":" _7i65"),children:h._("Guests who are not part of the Messenger group will be removed. This will also revoke the link for this chat and people with this link won't be able to join.")}),b("React").jsx("div",{className:"_788l",children:h._("Will be removed")}),Array.from(a.values()).map(function(a){return b("React").jsx(b("RTCRosterContactItem.react"),{connectedState:null,imageSrc:a.image_src,isMessengerUser:a.is_messenger_user,name:a.name},a.fbid)})]})]})},q=function(a){var c=a.logger,d=a.onUnmount,e=a.user;a=b("FBRTCGroupCallStore").getState();var f=a.thread;return b("React").jsxs(b("MessengerDialog.react"),{onToggle:d,type:"default",width:m?l:k,children:[b("React").jsxs(i,{children:[m?b("React").jsx(b("MessengerDialogButton.react"),{action:"cancel",disabled:!1,label:"X",onClick:d,type:"secondary",use:"default"}):b("React").jsx(b("MessengerDialogCancelButton.react"),{autoFocus:!1,onClick:d}),b("React").jsx(j,{children:h._("Remove Guest")}),b("React").jsx(b("MessengerDialogButton.react"),{disabled:!1,label:m?h._("Yes"):h._("Remove"),onClick:function(){c.setEvent("remove_single_guest_selected").log(),n([e.FBID],f,d)},type:"primary",use:"default"})]}),b("React").jsxs(b("MessengerDialogBody.react"),{children:[b("React").jsx("div",{className:"_7i64",children:b("React").jsx(j,{children:h._("Are you sure you want to remove \"{name of user to be removed}\"?",[h._param("name of user to be removed",e.userShortName)])})}),b("React").jsx("div",{className:(m?"_8gx7":"")+" _7ghb"+(m?"":" _7i66"),children:h._("This will also revoke the link for this chat and people with this link won't be able to join.")})]})]})};e.exports=c}),null);
__d("RTCGroupCallRemoveGuestDialogContainer.react",["FBRTCGroupCallStore","React","RelayFBEnvironment","RelayModern","RTCCallStore","RTCGroupCallRemoveGuestDialog.react","RTCGroupCallRemoveGuestDialogContainerFetchLinkCreatorNameForGuestQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var i=g!==void 0?g:g=b("RTCGroupCallRemoveGuestDialogContainerFetchLinkCreatorNameForGuestQuery.graphql");a=function(a){__p&&__p();var c=b("RTCCallStore").getState().callInfo.serverInfoData,d=b("FBRTCGroupCallStore").getState(),e=d.linkHash;d=a.user.FBID;return b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:i,render:function(c){__p&&__p();c.error;c=c.props;if(c==null)return null;var d=null;c=(c=c)!=null?(c=c.messenger_call_query)!=null?(c=c.connected_participants)!=null?c.edges:c:c:c;if(c!=null&&c.length>0){d=(c=c[0])!=null?(c=c.joining_context)!=null?(c=c.link_owner)!=null?c.short_name:c:c:c}return b("React").jsx(b("RTCGroupCallRemoveGuestDialog.react"),{linkHash:e,linkOwner:d,onUnmount:a.onUnmount,user:a.user})},variables:{server_session_id:c!=null?c:"",guest_id:d}})};e.exports=a}),null);
__d("RTCMobileRosterSorter",["FBRTCParticipantCallState","immutable","memoizeLastByArgs","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e={};for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;e[h.get("FBID")]=h}h=[];g=null;for(var f=a,c=Array.isArray(f),a=0,f=c?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(c){if(a>=f.length)break;i=f[a++]}else{a=f.next();if(a.done)break;i=a.value}i=i;i[0];i=i[1];var j=b("nullthrows")(i.fbid),k=e[j];k=k?k.get("participantState"):null;k={payload:i,participantState:(i=k==null?void 0:k.state)!=null?i:b("FBRTCParticipantCallState").UNKNOWN};j===d?g=k:k.participantState===b("FBRTCParticipantCallState").CONNECTED&&h.push(k)}return{activeParticipants:h,localUser:b("nullthrows")(g)}}e.exports={sort:b("memoizeLastByArgs")(a)}}),null);
__d("RTCGroupCallRosterDialog.react",["cx","fbt","FBRTCGroupCallStore","FluxContainer","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","React","RTCCallStore","RTCMobileRosterSorter","RTCRosterContactItem.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerDialogHeaderReact.re").make,j=b("MessengerDialogTitleReact.re").make;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("FBRTCGroupCallStore"),b("RTCCallStore")]};c.calculateState=function(){var a=b("FBRTCGroupCallStore").getState();a=a.participants;var c=b("RTCCallStore").getState(),d=c.callInfo.conferenceState,e=c.localUser;c=c.remoteUsers;return{conferenceState:d,roster:b("RTCMobileRosterSorter").sort(a,c,e.get("FBID"))}};var d=c.prototype;d.componentDidUpdate=function(){this.state.conferenceState==="TERMINATED"&&this.props.onToggle()};d.render=function(){var a,c=this.state.roster,d=c.activeParticipants;c=c.localUser;var e=h._("Call Roster");return(a=b("React")).jsx(b("MessengerDialog.react"),{onToggle:this.props.onToggle,type:"default",children:a.jsxs("div",{className:"_788k",children:[a.jsxs(i,{children:[a.jsx(j,{children:this.props.lockStatus!=null?b("React").jsxs("div",{className:"_8trw",children:[e,b("React").jsx("br",{}),b("React").jsx("div",{className:"_8trx",children:this.props.lockStatus==="OPEN"?h._("Anyone with the link can join"):h._("No one else can join")})]}):e}),b("React").jsx(b("MessengerDialogButton.react"),{disabled:!1,label:h._("Close"),onClick:this.props.onToggle,type:"primary",use:"default"})]}),b("React").jsx("div",{className:"_788l",children:h._("In this chat")}),b("React").jsxs("div",{className:"_7dyr",children:[b("React").jsx(b("RTCRosterContactItem.react"),{connectedState:null,imageSrc:c.payload.image_src,isMessengerUser:c.payload.is_messenger_user,name:h._("You")},c.payload.fbid),d.map(function(a){return b("React").jsx(b("RTCRosterContactItem.react"),{connectedState:null,imageSrc:a.payload.image_src,isMessengerUser:a.payload.is_messenger_user,name:a.payload.name},a.payload.fbid)})]})]})})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCGroupCallActions",["RTCAppDispatcher","RTCUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={setLayout:function(a){b("RTCAppDispatcher").dispatch({type:"SET_LAYOUT",layout:a})},setLinkHash:function(a){b("RTCAppDispatcher").dispatch({type:"SET_LINKHASH",linkHash:a})},setDominantSpeaker:function(a){b("RTCAppDispatcher").dispatch({type:"SET_DOMINANT_SPEAKER",dominantSpeakerFBID:a})},setPinnedSpeaker:function(a){b("RTCAppDispatcher").dispatch({type:"SET_PINNED_SPEAKER",pinnedSpeakerFBID:a})},initThread:function(a,c){b("RTCAppDispatcher").dispatch({type:"INIT_THREAD",thread:a,participants:c})},onParticipantLeft:function(a){b("RTCAppDispatcher").dispatch({type:"ON_PARTICIPANT_LEFT",participantFBID:a})},onParticipantsAdded:function(a,c){b("RTCAppDispatcher").dispatch({type:"ON_PARTICIPANTS_ADDED",participants:a,images:c})},addParticipantsToRing:function(a){b("RTCAppDispatcher").dispatch({type:"ADD_PARTICIPANTS_TO_RING",participantFBIDs:a})},toggleRemoteStream:function(a){b("RTCAppDispatcher").dispatch({type:"TOGGLE_REMOTE_STREAM",mediaStatus:a})},handleDismissRequest:function(a,c){b("RTCAppDispatcher").dispatch({type:"DISMISS",transaction:a,request:c,endCallReason:b("RTCUtils").endCallReasonFromDismissRequest(c.dismissRequest()),endCallSubreason:b("RTCUtils").endCallSubreasonFromDismissRequest(c.dismissRequest())})},handleConferenceStateRequest:function(a,c,d,e){b("RTCAppDispatcher").dispatch({type:"ON_CONFERENCE_STATE",transaction:a,request:c,conferenceStateVersion:d,resolve:e})},onJoinRequestSent:function(){b("RTCAppDispatcher").dispatch({type:"ON_JOIN_REQUEST_SENT"})},onReceivedJoinResponse:function(){b("RTCAppDispatcher").dispatch({type:"ON_RECEIVED_JOIN_RESPONSE"})},onJoinResponse:function(a){b("RTCAppDispatcher").dispatch({type:"ON_JOIN_RESPONSE",serverInfoData:a})},onProcessedJoinResponse:function(){b("RTCAppDispatcher").dispatch({type:"ON_PROCESSED_JOIN_RESPONSE"})},onServerMediaUpdateSuccess:function(){b("RTCAppDispatcher").dispatch({type:"ON_SERVER_MEDIA_UPDATE_SUCCESS"})},setLocalClientVersion:function(a){b("RTCAppDispatcher").dispatch({type:"SET_LOCAL_CLIENT_VERSION",version:a})},onClientMediaUpdateResponse:function(a,c){b("RTCAppDispatcher").dispatch({type:"ON_CLIENT_MEDIA_UPDATE_RESPONSE",responseStatusCode:a,currentVersion:c})}};e.exports=a}),null);
__d("RTCMWSessionDescription",["Promise","FBRTCConsoleLogger","FBRTCConstants","RTCCallStore","RTCGroupCallActions","RTCSignalingExperiments"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").SignalingProtocol;a={_videoEnabled:{},serverMediaUpdate:function(a,c){__p&&__p();var d=a.fromVersion,e=a.toVersion,f=a.mediaUpdates,h=b("RTCCallStore").getConnection(g.MULTIWAY);if(!h)return;a=h.getLocalDescription();var i=h.getRemoteDescriptionForSMU(),j=i.sessionDescription.getVersion();if(j!==d){c(j);return}d=i.toSdp();f.forEach(function(a){i.processServerMediaUpdate(a)});var k=b("Promise").resolve(),l=b("RTCSignalingExperiments").shouldAlwaysSetMWDescriptionsOnSMU();(l||i.toSdp()!==d)&&(i.sessionDescription.setVersion(e),k=b("Promise").all([h.setLocalDescription(a),h.setRemoteDescription(i)]));k.then(function(){__p&&__p();var a;b("RTCGroupCallActions").toggleRemoteStream((a=[]).concat.apply(a,f.map(function(a){a=a.media;return a})).reduce(function(a,b){var c=b.id;b=b.enabled;c=h.getWebrtcTrackIdFromMWTrackId(c);a[c]=b;return a},{}));c(e)},function(){return c(j)})["catch"](function(a){})}};e.exports=a}),null);
__d("RTCMWThreadDeltaHandler",["Arbiter","ChannelConstants","CurrentUser","MercuryIDs","MercurySyncDeltaTypes","MessengerParticipants.bs","RTCCallInitUtils","RTCGroupCallActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initHandler:function(a){__p&&__p();b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("delta"),function(c,d){__p&&__p();c=d&&d.obj&&d.obj.queue;if(c&&c.toString()!==b("CurrentUser").getID())return;d=(c=d)!=null?(c=c.obj)!=null?c.delta:c:c;c=(c=d)!=null?(c=c.messageMetadata)!=null?(c=c.threadKey)!=null?c.threadFbId:c:c:c;if(!d||c!==a)return;switch(d["class"]){case b("MercurySyncDeltaTypes").ParticipantLeftGroupThread:b("RTCGroupCallActions").onParticipantLeft(d.leftParticipantFbId);break;case b("MercurySyncDeltaTypes").ParticipantsAddedToGroupThread:b("MessengerParticipants.bs").getMulti(d.addedParticipants.map(function(a){a=a.userFbId;return b("MercuryIDs").getParticipantIDFromUserID(a)}),b("RTCGroupCallActions").onParticipantsAdded);break}})},processThreadUpdateFromSignaling:function(a){__p&&__p();var c=null;a=a.appMessages;a&&a.forEach(function(a){__p&&__p();var b;b=(b=a)!=null?(b=b.body)!=null?(b=b.genericMessage)!=null?b.topic:b:b:b;a=(a=a)!=null?(a=a.body)!=null?(a=a.genericMessage)!=null?a.data:a:a:a;if(b==="thread_id_payload"&&a!=null){b=JSON.parse(a);if(b.thread_id!==null){c=b.thread_id;return}}});c&&b("RTCCallInitUtils").initializeThreadFromCollisionContext({groupThreadID:String(c),peerID:null})}};e.exports=a}),null);
__d("RTCProxyUserActions",["RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setProxyUsers:function(a,c){b("RTCAppDispatcher").dispatch({type:"SET_PROXY_USER_MAP",proxyUserID:a,proxyingAsUserID:c})}};e.exports=a}),null);
__d("RTCProxyUserReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"SET_PROXY_USER_MAP":var c=b.proxyUserID;b=b.proxyingAsUserID;if(!a.proxyUserToProxyingAs.has(c))return a.set("proxyingAsToProxyUser",a.proxyingAsToProxyUser.set(b,c)).set("proxyUserToProxyingAs",a.proxyUserToProxyingAs.set(c,b))}return a}e.exports={setProxyUsers:a}}),null);
__d("RTCProxyUserStoreState",["immutable"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({proxyingAsToProxyUser:b("immutable").Map(),proxyUserToProxyingAs:b("immutable").Map()}));e.exports=a}),null);
__d("RTCProxyUserStore",["FluxReduceStore","RTCAppDispatcher","RTCProxyUserReducer","RTCProxyUserStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("RTCProxyUserReducer").setProxyUsers];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("RTCProxyUserStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("RTCProxyUserUtils",["ImmutableObject","MercuryIDs","RTCProxyUserActions","RTCProxyUserStore","RTWebUserActionLogger","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={setProxyingAsUsersFromMessage:function(a){__p&&__p();a=a.appMessages;if(a){var c=new Map();a.forEach(function(a){__p&&__p();var d;d=(d=a)!=null?(d=d.body)!=null?(d=d.genericMessage)!=null?d.topic:d:d:d;a=(a=a)!=null?(a=a.body)!=null?(a=a.genericMessage)!=null?a.data:a:a:a;if(d==="aloha_proxying_as_users"&&a!=null){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"Initializing_AlohaProxyingAsUsers"});d=JSON.parse(a);for(var e in d){a=d[e][0].id.toString();a&&(b("RTCProxyUserActions").setProxyUsers(e,a),c.set(e,a))}}});return c}return null},transformProxyUserParticipantsToProxyingAs:function(a,c){__p&&__p();for(var d in a){var e=a[d].fbid;if(c.has(e)){var f=a[d];e=c.get(e);var g=b("MercuryIDs").getParticipantIDFromUserID(e);f=b("ImmutableObject").setProperty(f,"fbid",e);f=b("ImmutableObject").setProperty(f,"id",g);a[g]=f}}return a},getUserIDToFetch:function(a){var c=b("RTCProxyUserStore").getState();c=c.proxyUserToProxyingAs;return c.has(a)?c.get(a):a}};e.exports=a}),null);
__d("MultiwayParticipantFetcher",["Promise","regeneratorRuntime","ImmutableObject","MercuryIDs","MercuryParticipantsConstants","MessengerParticipants.bs","RTCProxyUserUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").Map;b("immutable").Set;function g(a,c){var d=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});return new(b("Promise"))(function(a,e){try{b("MessengerParticipants.bs").getBigImageMultiWithSize(d.toArray(),function(c){a(b("immutable").fromJS(c))},c)}catch(a){e(a)}})}function h(a,c){var d=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});return new(b("Promise"))(function(a,e){try{b("MessengerParticipants.bs").getMulti(d.toArray(),function(d){c&&c.proxyingAsToProxyUser!=null&&c.proxyingAsToProxyUser!==void 0&&c.proxyingAsToProxyUser.size>0&&(d=b("RTCProxyUserUtils").transformProxyUserParticipantsToProxyingAs(d,c.proxyingAsToProxyUser)),a(b("immutable").fromJS(d))})}catch(a){e(a)}})}function i(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(h(a,c));case 2:d=f.sent;if(!c.profileImageSize){f.next=8;break}f.next=6;return b("regeneratorRuntime").awrap(g(a,c.profileImageSize));case 6:e=f.sent;return f.abrupt("return",d.withMutations(function(a){e.forEach(function(c,d){var e=a.get(d);if(e){e=b("ImmutableObject").setProperty(e,"big_image_src",c);a.set(d,e)}})}));case 8:return f.abrupt("return",d);case 9:case"end":return f.stop()}},null,this)}function j(a){__p&&__p();var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=b("immutable").Set([a]);d=b("MercuryIDs").getParticipantIDFromUserID(a);f.next=4;return b("regeneratorRuntime").awrap(i(c,{profileImageSize:b("MercuryParticipantsConstants").WWW_INCALL_THUMBNAIL_SIZE}));case 4:e=f.sent;return f.abrupt("return",e.get(d));case 6:case"end":return f.stop()}},null,this)}a={fetchParticipant:function(a,c){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(j(c));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},null,this)},fetchAllParticipants:function(a,c,d){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:d===void 0&&(d={});a.next=3;return b("regeneratorRuntime").awrap(i(c,d));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},null,this)}};e.exports=a}),null);
__d("RTCCallActions",["invariant","RTCAppDispatcher","RTCUtils","RTWebUserActionLogger","emptyFunction","mixInEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={addListener:b("emptyFunction"),emit:b("emptyFunction"),initialize:function(a){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCCallActions_initialize",callID:String(a.callID),conferenceName:a.conferenceName,callType:a.protocol==="p2p"?"p2p":"mw"}),b("RTCAppDispatcher").dispatch(babelHelpers["extends"]({type:"INIT"},a))},reset:function(){b("RTCAppDispatcher").dispatch({type:"RESET"})},resetForRedial:function(a,c){b("RTCAppDispatcher").dispatch({type:"RESET_FOR_REDIAL",conferenceName:a,callID:c})},callCollision:function(a,c){b("RTCAppDispatcher").dispatch({type:"CALL_COLLISION",conferenceName:a,peerID:c})},setCallSummary:function(a){b("RTCAppDispatcher").dispatch({type:"SET_CALL_SUMMARY",callSummary:a})},call:function(a,c){b("RTCAppDispatcher").dispatch({type:"CALL",usersToRing:a,peerConnection:c})},callSuccess:function(a){a===void 0&&(a=!1),b("RTCAppDispatcher").dispatch({type:"CALL_SUCCESS",connected:a})},incomingCallSuccess:function(){b("RTCAppDispatcher").dispatch({type:"INCOMING_CALL_SUCCESS"})},callError:function(a){b("RTCAppDispatcher").dispatch({type:"CALL_ERROR",endCallReason:b("RTCUtils").endCallReasonFromResponseStatusCode(a),endCallSubreason:"Call error: "+(a||0)})},completeTransitionToMultiway:function(){b("RTCAppDispatcher").dispatch({type:"GROUP_ESCALATION_CLEAR_P2P_CONNECTION"})},hangupSuccess:function(){b("RTCAppDispatcher").dispatch({type:"HANGUP_SUCCESS"})},hangupError:function(){b("RTCAppDispatcher").dispatch({type:"HANGUP_ERROR"})},join:function(a){h.call([],a)},hangup:function(a,c){b("RTCAppDispatcher").dispatch({type:"HANGUP",hangupReason:a,detailedReasonString:c,endCallReason:a})},initLocalUser:function(a){b("RTCAppDispatcher").dispatch({type:"INIT_LOCAL_USER",localUser:a})},initRemoteUsers:function(a){b("RTCAppDispatcher").dispatch({type:"INIT_REMOTE_USERS",remoteUsers:a})},updateRemoteUsers:function(a){b("RTCAppDispatcher").dispatch({type:"UPDATE_REMOTE_USERS",remoteUsers:a})},addLocalStream:function(a){a!=null||g(0,11208),b("RTCAppDispatcher").dispatch({type:"ADD_LOCAL_STREAM",stream:a})},removeLocalStream:function(a){b("RTCAppDispatcher").dispatch({type:"REMOVE_LOCAL_STREAM",stream:a})},replaceLocalStream:function(a,c){b("RTCAppDispatcher").dispatch({type:"REPLACE_LOCAL_STREAM",oldStream:a,newStream:c})},removeAllLocalStreams:function(a){a===void 0&&(a=!1),b("RTCAppDispatcher").dispatch({type:"REMOVE_ALL_LOCAL_STREAMS",stopStreams:a})},removeAllLocalScreenStreams:function(a){a===void 0&&(a=!1),b("RTCAppDispatcher").dispatch({type:"REMOVE_ALL_LOCAL_SCREEN_STREAMS",stopStreams:a})},addRemoteStream:function(a,c){b("RTCAppDispatcher").dispatch({type:"ADD_REMOTE_STREAM",stream:a,userID:c})},removeRemoteStream:function(a,c){b("RTCAppDispatcher").dispatch({type:"REMOVE_REMOTE_STREAM",stream:a,userID:c})},removeAllRemoteStreams:function(a){b("RTCAppDispatcher").dispatch({type:"REMOVE_ALL_REMOTE_STREAMS",userID:a})},addRemoteTrack:function(a,c){b("RTCAppDispatcher").dispatch({type:"ADD_REMOTE_TRACK",stream:a,track:c})},removeRemoteTrack:function(a,c){b("RTCAppDispatcher").dispatch({type:"REMOVE_REMOTE_TRACK",stream:a,track:c})},addLocalScreenStream:function(a){b("RTCAppDispatcher").dispatch({type:"ADD_LOCAL_SCREEN_STREAM",stream:a})},removeLocalScreenStream:function(a){b("RTCAppDispatcher").dispatch({type:"REMOVE_LOCAL_SCREEN_STREAM",stream:a})},replaceLocalScreenStream:function(a,c){b("RTCAppDispatcher").dispatch({type:"REPLACE_LOCAL_SCREEN_STREAM",oldStream:a,newStream:c})},addRemoteScreenStream:function(a,c){b("RTCAppDispatcher").dispatch({type:"ADD_REMOTE_SCREEN_STREAM",stream:a,userID:c})},removeRemoteScreenStream:function(a,c){b("RTCAppDispatcher").dispatch({type:"REMOVE_REMOTE_SCREEN_STREAM",stream:a,userID:c})},endCall:function(a,c){b("RTCAppDispatcher").dispatch({type:"END_CALL",endCallReason:a,endCallSubreason:c})},waitForUserInput:function(){b("RTCAppDispatcher").dispatch({type:"WAIT_FOR_USER_INPUT"})},toggleMuteAudio:function(a){b("RTCAppDispatcher").dispatch({type:a?"AUDIO_UNMUTED":"AUDIO_MUTED"})},toggleMuteVideo:function(a){b("RTCAppDispatcher").dispatch({type:a?"VIDEO_UNMUTED":"VIDEO_MUTED"})},stopLocalVideo:function(){b("RTCAppDispatcher").dispatch({type:"STOP_LOCAL_STREAM"})},toggleMuteRemoteAudio:function(a,c){b("RTCAppDispatcher").dispatch({type:a?"REMOTE_AUDIO_MUTED":"REMOTE_AUDIO_UNMUTED",userID:c})},toggleMuteRemoteVideo:function(a,c){b("RTCAppDispatcher").dispatch({type:a?"REMOTE_VIDEO_MUTED":"REMOTE_VIDEO_UNMUTED",userID:c})},toggleSelfView:function(a){b("RTCAppDispatcher").dispatch({type:a?"SELF_VIEW_COLLAPSED":"SELF_VIEW_UNCOLLAPSED"})},submitRating:function(a){b("RTCAppDispatcher").dispatch({type:"SUBMIT_RATING",rating:a})},submitFeedback:function(a){b("RTCAppDispatcher").dispatch({type:"SUBMIT_FEEDBACK",feedback:a})},submitFeedbackOptions:function(a){b("RTCAppDispatcher").dispatch({type:"SUBMIT_FEEDBACK_OPTIONS",feedbackOptions:a})},submitSurveyChoice:function(a){b("RTCAppDispatcher").dispatch({type:"SUBMIT_SURVEY_CHOICE",surveyChoice:a})},ratingShown:function(){b("RTCAppDispatcher").dispatch({type:"RATING_SHOWN"})},feedbackShown:function(){b("RTCAppDispatcher").dispatch({type:"FEEDBACK_SHOWN"})},setEndCallReason:function(a){b("RTCAppDispatcher").dispatch({type:"SET_END_CALL_REASON",endCallReason:a})},setConferenceState:function(a){b("RTCAppDispatcher").dispatch({type:"SET_CONFERENCE_STATE",conferenceState:a})},setFloorStatus:function(a){b("RTCAppDispatcher").dispatch({type:"FLOOR_STATUS",status:a})}};b("mixInEventEmitter")(h,{onIceConnectionStateChange:!0});e.exports=h}),null);
__d("RTCMultiwayMessageHandler",["Arbiter","ChannelConstants","CurrentUser","FBMqttChannel","FBRTCCapability","FBRTCDeviceStatus","FBRTCExperiment","FBRTCHangupReason","FBRTCLogger","FBRTCMultiwayMessage","FBRTCRtcResponseStatusCode","FBRTCTransactions","MultiwayParticipantFetcher","RTCCallActions","RTCCallStore","RTCGroupCallActions","RTCMWProtocolHandler","RTCMWSessionDescription","RTCMWThreadDeltaHandler","RTCP2PCallStore","RTCProxyUserStore","RTCProxyUserUtils","URI","generateRTCCallID","immutable","isGroupCallUri","promiseDone","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCTransactions").FBRTCServerTransaction,h=b("FBRTCTransactions").FBRTCTransactionOwner;a=function(){__p&&__p();function a(){this.$3=-1,this.$7()}var c=a.prototype;c.initialize=function(a,b,c,d){this.$1=a,this.$2=b,this.$4=c,this.$5=d};a.initHandler=function(b,c,d,e){d===void 0&&(d=!1),e===void 0&&(e=!1),new a().initialize(b,c,d,e)};a.close=function(){while(a.$6.length>0){var c=a.$6.shift();b("Arbiter").unsubscribe(c)}((c=b("qex")._("1230329"))!=null?c:!1)&&b("FBMqttChannel").unsubscribeAll("/rtc_multi")};c.$7=function(){var c=this,d;((d=b("qex")._("1230329"))!=null?d:!1)?b("FBMqttChannel").subscribe("/rtc_multi",function(a){a=JSON.parse(a);c.$8(a)}):(a.$6.push(b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("rtc_live_json"),function(a,b){c.$8(b.obj)})),a.$6.push(b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("rtc_multi_json"),function(a,b){c.$8(b.obj)})))};c.$8=function(a){__p&&__p();var c=this,d=new(b("FBRTCMultiwayMessage"))(a);a=b("RTCCallStore").getState().callID;b("FBRTCLogger").getInstance().logMultiwayMessageReceived(d,a);if(!d.isRequest())return;if(this.$1===d.conferenceName())this.$9(d);else if(d.ringRequest()&&!this.$4){var e=new g(new h(),d);b("promiseDone")(e.start(),function(a){var f=b("generateRTCCallID")();b("promiseDone")(e.sendResponse(c.$10(a,f)),function(){return b("RTCMWProtocolHandler").otherUserInAnotherCall(d.conferenceName(),d.serverInfoData(),b("FBRTCHangupReason").IN_ANOTHER_CALL,f.toString(),"InAnotherCall")})})}};c.$10=function(a,c){var d=a.ringRequest(),e=a.serverInfoData();if(d==null||e==null)return a.createResponse(b("FBRTCRtcResponseStatusCode").BAD_REQUEST,{});d={deviceCapabilities:[b("FBRTCCapability").SUPPORT_AUDIO_DEPRECATED,b("FBRTCCapability").SUPPORT_VIDEO_DEPRECATED],deviceStatus:b("FBRTCDeviceStatus").OK};return a.createResponse(b("FBRTCRtcResponseStatusCode").OK,{body:{ringResponse:d},callID:c.toString()})};c.$9=function(c){__p&&__p();var d=this,e=new g(new h(),c);b("promiseDone")(e.start().then(function(c){__p&&__p();if(c!=null){var f=b("RTCCallStore").getState(),g=f.callInfo;if(c.dismissRequest()!=null)c.serverInfoData()===g.serverInfoData&&(b("RTCGroupCallActions").handleDismissRequest(e,c),a.close(),f.connections.forEach(function(a){return a.close()}),d.$5||b("RTCCallActions").removeAllLocalStreams(!0));else if(c.serverMediaUpdateRequest()!=null)b("RTCProxyUserUtils").setProxyingAsUsersFromMessage(c.serverMediaUpdateRequest()),b("RTCMWSessionDescription").serverMediaUpdate(c.serverMediaUpdateRequest(),function(a){b("RTCGroupCallActions").onServerMediaUpdateSuccess(),e.sendResponse(c.createResponse(b("FBRTCRtcResponseStatusCode").OK,{body:{serverMediaUpdateResponse:{currentVersion:a}},callID:g.callID}))});else if(c.conferenceStateRequest()!=null){f=c.conferenceStateRequest();var h=b("RTCCallStore").getState();h=h.remoteUsers;var i=h.map(function(a){return a.FBID});h=Object.keys(f.participantStates);h=h.filter(function(a){return a!==b("CurrentUser").getID()&&!i.has(a)});if(h.length>0){var j=b("RTCP2PCallStore").getState();j=j.escalationConferenceName;j==null&&b("RTCMWThreadDeltaHandler").processThreadUpdateFromSignaling(f);j=b("RTCProxyUserUtils").setProxyingAsUsersFromMessage(f);var k=new Set(h);j!=null&&j.forEach(function(a,b){k["delete"](b),a!==null&&!k.has(a)&&k.add(a)});f=b("RTCProxyUserStore").getState();h=f.proxyingAsToProxyUser;b("promiseDone")(b("MultiwayParticipantFetcher").fetchAllParticipants(d.$1,b("immutable").Set(k),{profileImageSize:100,proxyingAsToProxyUser:h}),function(a){b("RTCGroupCallActions").onParticipantsAdded(a.toJS()),b("RTCGroupCallActions").handleConferenceStateRequest(e,c,d.$3,function(a){d.$3=a})})}else b("RTCGroupCallActions").handleConferenceStateRequest(e,c,d.$3,function(a){d.$3=a})}}}))};return a}();a.$6=[];e.exports=a}),null);
__d("RTCP2PCallWindowHandler",["RTCCallStore","RTCP2PCallStore","RTWebUserActionLogger","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={init:function(a){this._isWindowOpened()&&this.close(),g=a,this.updateCallInProgressIndicator(),this._monitorOpenerForChanges()},updateCallInProgressIndicator:function(a){if(!this._isWindowOpened())return;var c=b("RTCCallStore").getState();c=c.remoteUsers;a=a?a:b("RTCP2PCallStore").getState().connectionStatus;!c.count()||a==="DISCONNECTED"?g.rtcCallInProgessWith=null:g.rtcCallInProgessWith=c.first().FBID.toString()},reload:function(){this._isWindowOpened()&&g.location.reload()},close:function(){this._isWindowOpened()&&g.close()},_monitorOpenerForChanges:function(){var a=this;if(g.opener)try{g.opener.addEventListener("unload",function(b){a._passWindowToOpener()})}catch(a){}},_passWindowToOpener:function(a){__p&&__p();var c=this;a===void 0&&(a=10);b("setTimeout")(function(){if(!c._isWindowOpened()||a<=1)return;try{if(g.opener&&!g.opener.closed){g.opener.rtcCallChildWindow=g;return}}catch(a){b("RTWebUserActionLogger").logErrorOnceforDomain("RTCP2PCallWindowHandler__passWindowToOpener",a)}c._passWindowToOpener(a-1)},1e3)},_isWindowOpened:function(){return!!(g&&!g.closed)}};e.exports=a}),null);
__d("RTCScreenSharingWindowHandler",["RTCP2PCallActions","RTCUtils","XScreenSharingController","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=540,h=960,i;a={open:function(a,c,d){var e=this;i=window.open("about:blank","Screen Sharing",this._getWindowFeatures());window.callInfo=d;b("promiseDone")(b("RTCUtils").getStreamVideoResolution(c)["catch"](function(b){e._setupScreenSharingWindow(a,c,null)}),function(b){e._setupScreenSharingWindow(a,c,b)})},_setupScreenSharingWindow:function(a,b,c){__p&&__p();var d=this;window.getRemoteMediaStream=function(){return b};window.closeScreenSharingWindow=this._onUnload;if(c){c=this._getConstrainedSize(c.width,c.height);var e=c.width,f=c.height;i.resizeTo(e,f);window.setTimeout(function(){d._adjustScreenSize({width:e,height:f})},200)}i.location=this._getUnsignedUri(a);window.focus&&this.isWindowOpened()&&i.focus()},_adjustScreenSize:function(a){if(!i)return;i.resizeTo(a.width,a.height+(a.height-i.innerHeight))},close:function(){if(i){var a=null;i.opener&&!i.opener.closed&&(a=i.opener);i.close();i=null;a&&a.postMessage({recipient:"SC_CONTENT_SCRIPT",type:"SC_RESET_PORT",text:"reset comm port"},"*")}},isWindowOpened:function(){return!!(i&&!i.closed)},_onUnload:function(){b("RTCP2PCallActions").togglePopOutScreenContent()},_getWindowFeatures:function(){var a=screen.availLeft,b=screen.availTop,c=this._getConstrainedSize(Math.min(h,screen.width-a),Math.min(g,screen.height-b)),d=c.width;c=c.height;c={height:"height="+c.toString(),width:"width="+d.toString(),top:"top="+b.toString(),left:"left="+a.toString()};return["menubar=no","location=no","scrollbars=no","status=no","personalbar=no",c.height,c.width,c.top,c.left].join(",")},_getConstrainedSize:function(a,b){var c;a>h&&(c=h/a,b*=c,a*=c);b>g&&(c=g/b,a*=c,b*=c);return{width:a,height:b}},_getUnsignedUri:function(a){return b("XScreenSharingController").getURIBuilder().setFBID("peer_id",a).setInt("version",2).getURI()}};e.exports=a}),null);
__d("RTCP2PCallActions",["RTCAppDispatcher","RTCP2PCallWindowHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reload:function(){b("RTCP2PCallWindowHandler").reload()},setCallType:function(a){b("RTCAppDispatcher").dispatch({type:"SET_CALL_TYPE",callType:a})},setConnectionStatus:function(a){b("RTCAppDispatcher").dispatch({type:"SET_CONNECTION_STATUS",connectionStatus:a})},setMultiwayEscalationSupport:function(a,c){b("RTCAppDispatcher").dispatch({type:"SET_MULTIWAY_ESCALATION_SUPPORT",offerEscalationSupport:a,escalationConferenceName:c})},setRemoteSignalingExperiments:function(a){b("RTCAppDispatcher").dispatch({type:"SET_REMOTE_SIGNALING_EXPERIMENTS",remoteSignalingExperiments:a})},togglePopOutScreenContent:function(a){b("RTCAppDispatcher").dispatch({type:a?"POP_OUT_SCREEN_CONTENT":"POP_IN_SCREEN_CONTENT",stream:a})},processMessage:function(a){b("RTCAppDispatcher").dispatch({type:"P2P_PROCESS_MESSAGE",message:a})},setIsCaller:function(a){b("RTCAppDispatcher").dispatch({type:"P2P_SET_IS_CALLER",isCaller:a})},togglePoorNetworkQualityIndicator:function(a){b("RTCAppDispatcher").dispatch({type:a?"SHOW_POOR_NETWORK_QUALITY":"DISMISS_POOR_NETWORK_QUALITY"})},starRatingDone:function(a){a===void 0&&(a=!0),b("RTCAppDispatcher").dispatch({type:"P2P_STAR_RATING_DONE",done:a})}};e.exports=a}),null);
__d("FBRTCCallSummaryReducer",["FBRTCCallSummaryStore","FBRTCLogger","FBRTCMediaMetricParser","RTCCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCLogger").Key;a={setCallSummary:function(a,b){switch(b.type){case"SET_CALL_SUMMARY":return a.set("callSummary",b.callSummary)}return a},onCallStarted:function(a,c){switch(c.type){case"INCOMING_CALL_SUCCESS":case"CALL_SUCCESS":c=function c(){var d=b("RTCCallStore").getState().callInfo,e=d.conferenceState;d=d.callID;e!=="TERMINATED"&&a.callInfo.callID===d&&(a.callSummary.save(b("FBRTCCallSummaryStore").getInstance()),window.setTimeout(c,1e4))};c();b("FBRTCMediaMetricParser").startCollectingMediaStats();return a}return a},onMessageSignaling:function(a,c){__p&&__p();switch(c.type){case"ON_JOIN_REQUEST_SENT":a.callSummary.setJoinRequestSent();a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a;case"ON_RECEIVED_JOIN_RESPONSE":a.callSummary.setJoinResponseReceived();a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a;case"ON_JOIN_RESPONSE":a.callSummary.setServerInfoData(c.serverInfoData);a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a;case"ON_PROCESSED_JOIN_RESPONSE":a.callSummary.setJoinResponseProcessed();a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a}return a},onCallEnded:function(a,c){switch(c.type){case"CALL_ERROR":case"HANGUP":case"END_CALL":a.callSummary.onCallEnded(c.endCallReason,!1,!1,c.endCallSubreason);a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a;case"DISMISS":a.callSummary.onCallEnded(c.endCallReason,!0,!1,c.endCallSubreason);a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a}return a},onSurveyResult:function(a,c){__p&&__p();switch(c.type){case"RATING_SHOWN":a.callSummary.addExtraInfo(g.RATING_SHOWN,"1");a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a;case"FEEDBACK_SHOWN":a.callSummary.addExtraInfo(g.SURVEY_SHOWN,"1");a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a;case"SUBMIT_RATING":a.callSummary.addExtraInfo(g.RATING,c.rating);a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a;case"SUBMIT_FEEDBACK":a.callSummary.addExtraInfo(g.SURVEY_DETAILS,c.feedback);a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a;case"SUBMIT_SURVEY_CHOICE":a.callSummary.addExtraInfo(g.SURVEY_CHOICE,c.surveyChoice);a.callSummary.save(b("FBRTCCallSummaryStore").getInstance());return a}return a}};e.exports=a}),null);
__d("FBRTCClientMediaUpdateReducer",["FBRTCConstants","FBRTCMWProtocolStore","FBRTCRtcResponseStatusCode","RTCCallStore","RTCMWProtocolHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reset:function(a,c){switch(c.type){case"RESET":return b("FBRTCMWProtocolStore").getInitialState()}return a},configureAudio:function(a,b){switch(b.type){case"AUDIO_MUTED":return g(a,"audio",!1);case"AUDIO_UNMUTED":return g(a,"audio",!0)}return a},configureVideo:function(a,b){switch(b.type){case"VIDEO_MUTED":return g(a,"video",!1);case"VIDEO_UNMUTED":return g(a,"video",!0)}return a},onClientMediaUpdateResponse:function(a,c){__p&&__p();switch(c.type){case"ON_CLIENT_MEDIA_UPDATE_RESPONSE":if(c.responseStatusCode!==b("FBRTCRtcResponseStatusCode").OK)return a;a=a.setIn(["clientMediaUpdateInfo","lastSyncedClientVersion"],c.currentVersion);if(a.clientMediaUpdateInfo.pendingResponse){a=a.setIn(["clientMediaUpdateInfo","pendingResponse"],!1);if(a.clientMediaUpdateInfo.pendingUpdate)return h(a.setIn(["clientMediaUpdateInfo","pendingUpdate"],!1))}return a}return a},setLocalClientVersion:function(a,b){switch(b.type){case"SET_LOCAL_CLIENT_VERSION":return a.setIn(["clientMediaUpdateInfo","lastSyncedClientVersion"],b.version).setIn(["clientMediaUpdateInfo","localMediaUpdates"],a.clientMediaUpdateInfo.localMediaUpdates.push({mediaStatus:{}}))}return a}};function g(a,c,d){var e=b("RTCCallStore").getConnection(b("FBRTCConstants").SignalingProtocol.MULTIWAY);if(!e)return a;e=e.getLocalTracks().reduce(function(a,b){a[b.id]=b.kind===c?d:b.enabled;return a},{});return h(a.setIn(["clientMediaUpdateInfo","localMediaUpdates"],a.clientMediaUpdateInfo.localMediaUpdates.push({mediaStatus:e})))}function h(a){if(a.clientMediaUpdateInfo.pendingResponse)return a.setIn(["clientMediaUpdateInfo","pendingUpdate"],!0);var c=a.clientMediaUpdateInfo.localMediaUpdates.reduce(function(b,c,d){d>=a.clientMediaUpdateInfo.lastSyncedClientVersion&&b.push(c);return b},[]);if(c.length===0)return a;b("RTCMWProtocolHandler").clientMediaUpdate(b("RTCCallStore").getState().callInfo.conferenceName,b("RTCCallStore").getState().callInfo.serverInfoData,a.clientMediaUpdateInfo.lastSyncedClientVersion,a.clientMediaUpdateInfo.localMediaUpdates.size,c);return a.setIn(["clientMediaUpdateInfo","pendingResponse"],!0)}e.exports=a}),null);
__d("FBRTCGroupCallParticipantsReducer",["MercuryIDs","RTCCallStore","RTCMWProtocolHandler","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={_participantsToRing:new Set(),initThread:function(a,b){switch(b.type){case"INIT_THREAD":return a.merge({thread:b.thread,participants:(b=b.participants)!=null?b:a.participants})}return a},onParticipantsChanged:function(a,c){switch(c.type){case"ON_PARTICIPANT_LEFT":return a.set("participants",a.participants["delete"](b("MercuryIDs").getParticipantIDFromUserID(c.participantFBID)));case"ON_PARTICIPANTS_ADDED":var d=Object.keys(c.participants).map(function(a){return c.participants[a].fbid}).filter(function(a){return g._participantsToRing.has(a)});d.length!==0&&(d.forEach(function(a){return g._participantsToRing["delete"](a)}),b("RTCMWProtocolHandler").addParticipants(b("RTCCallStore").getState().callInfo.conferenceName,b("RTCCallStore").getState().callInfo.serverInfoData,d));return a.set("participants",a.participants.merge(b("immutable").Map(c.participants)))}return a},addParticipantsToRing:function(a,b){switch(b.type){case"ADD_PARTICIPANTS_TO_RING":b.participantFBIDs.forEach(function(a){return g._participantsToRing.add(a)});return a}return a}};e.exports=g}),null);
__d("RTCMWDominantSpeakerDetector",["AudioContextSingleton","MovingAverage","RTCGroupCallActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MovingAverage").MovingAverage,h=300,i=900,j=1e3;a=function(){__p&&__p();function a(){this.intervalID=null,this.userToAudioLevels=new Map(),this.audioPollingCallbackIDs=new Map(),this.currentDominantSpeaker=null,this.lastSwitchTimeMSec=0}var c=a.prototype;c.start=function(){var a=this;this.intervalID=window.setInterval(function(){a.determineDominantSpeaker()},i)};c.stop=function(){window.clearInterval(this.intervalID)};c.determineDominantSpeaker=function(){var a=null,c=-1;this.userToAudioLevels.size>0?(this.userToAudioLevels.forEach(function(b,d){b.getAvg()>c&&(c=b.getAvg(),a=d)}),this.shouldSwitchDominantSpeaker(a)&&(b("RTCGroupCallActions").setDominantSpeaker(a),this.currentDominantSpeaker=a)):this.currentDominantSpeaker=null};c.shouldSwitchDominantSpeaker=function(a){return a===null||a===this.currentDominantSpeaker?!1:Date.now()-j>this.lastSwitchTimeMSec};c.addUserStream=function(a,c){__p&&__p();var d=this;this.audioPollingCallbackIDs.has(a)&&window.clearInterval(this.audioPollingCallbackIDs.get(a));if(c.getAudioTracks().length>0){var e=b("AudioContextSingleton").get();c=e.createMediaStreamSource(c);var f=e.createAnalyser();f.smoothingTimeConstant=.85;c.connect(f);e=f.frequencyBinCount;var g=new Uint8Array(e);this.audioPollingCallbackIDs.set(a,window.setInterval(function(){d.pollAudioLevels(a,f,g)},h))}};c.pollAudioLevels=function(a,b,c){b.getByteFrequencyData(c);c=c.reduce(function(a,b){return a+b});c=c/b.frequencyBinCount/256*40;b=(b=this.userToAudioLevels.get(a))!=null?b:new g(i/h);this.userToAudioLevels.set(a,b.add(c))};c.removeUserStream=function(a){this.audioPollingCallbackIDs.has(a)&&window.clearInterval(this.audioPollingCallbackIDs.get(a)),this.userToAudioLevels["delete"](a),this.currentDominantSpeaker===a&&this.determineDominantSpeaker()};c.getDominantSpeaker=function(){return this.currentDominantSpeaker};c.getUsersWithAudioLevels=function(){return this.userToAudioLevels};return a}();e.exports=a}),null);
__d("FBRTCGroupCallReducer",["FBRTCConstants","FBRTCParticipantCallState","FBRTCSupport","RTCAppDispatcher","RTCCallActionTypes","RTCCallStore","RTCEndCallReason","RTCMWDominantSpeakerDetector","RTCMWProtocolHandler","UserAgent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").GroupVideoViewLayout,h=b("FBRTCConstants").SignalingProtocol,i=5;a={setDominantSpeaker:function(a,c){__p&&__p();switch(c.type){case"SET_DOMINANT_SPEAKER":return a.set("dominantSpeakerFBID",c.dominantSpeakerFBID);case"SET_PINNED_SPEAKER":var d=b("RTCCallStore").getState();d=d.callInfo;var e=b("RTCCallStore").getConnection(h.MULTIWAY);if(!e)return a;b("RTCMWProtocolHandler").subscription(d.conferenceName,d.serverInfoData,e.getRemoteStreams(),a.layout,c.pinnedSpeakerFBID,e.getRemoteMediaCnames());return a.set("pinnedSpeakerFBID",c.pinnedSpeakerFBID);case"ON_CONFERENCE_STATE":d=c.request.conferenceStateRequest();e=d.participantStates;c=e[a.pinnedSpeakerFBID];return c&&c.state!==b("FBRTCParticipantCallState").CONNECTED?a.set("pinnedSpeakerFBID",null):a}return a},setLayout:function(a,c){__p&&__p();switch(c.type){case"SET_LAYOUT":var d=b("RTCCallStore").getState();d=d.callInfo;var e=b("RTCCallStore").getConnection(h.MULTIWAY);e&&b("RTCMWProtocolHandler").subscription(d.conferenceName,d.serverInfoData,e.getRemoteStreams(),c.layout,a.pinnedSpeakerFBID,e.getRemoteMediaCnames());return a.set("layout",c.layout);case"ON_CONFERENCE_STATE":if(b("FBRTCSupport").isMobileDevice()){b("RTCAppDispatcher").waitFor([b("RTCCallStore").getDispatchToken()]);d=b("RTCCallStore").getConnectedRemoteUsersSize();return a.set("layout",b("UserAgent").isBrowser("Mobile Safari <= 12.1")&&d>=1||d>i?g.DOMINANT_SPEAKER:g.GRID)}}return a},setUpDominantSpeakerDetection:function(a,c){__p&&__p();if(b("FBRTCSupport").isSupportedSafariVersion()){var d;switch(c.type){case"ON_PROCESSED_JOIN_RESPONSE":d=new(b("RTCMWDominantSpeakerDetector"))();d.start();return a.set("dominantSpeakerDetector",d);case"ADD_REMOTE_STREAM":d=a.dominantSpeakerDetector;if(d!=null){var e=j(c);e&&c.stream&&d.addUserStream(e,c.stream)}return a;case"REMOVE_REMOTE_STREAM":d=a.dominantSpeakerDetector;if(d!=null){e=j(c);e&&d.removeUserStream(e)}return a;case"CALL_ERROR":case"HANGUP":case"END_CALL":case"DISMISS":d=a.dominantSpeakerDetector;d!=null&&d.stop();return a;case"SET_PINNED_SPEAKER":d=a.dominantSpeakerDetector,d!=null&&(c.pinnedSpeakerFBID?d.stop():d.start())}}return a},setLinkHash:function(a,b){switch(b.type){case"SET_LINKHASH":return a.set("linkHash",b.linkHash)}return a},processEndCallReason:function(a,c){switch(c.type){case"CALL_ERROR":case"HANGUP":case"END_CALL":case"DISMISS":return a.set("endCallReason",a.endCallReason||new(b("RTCEndCallReason"))(c.endCallReason))}return a}};function j(a){if(a.userID!=null)return a.userID;return a.stream&&a.stream.id.split(":").length>1?a.stream.id.split(":")[0]:null}e.exports=a}),null);
__d("FBRTCVideoDurationTrackerReducer",["FBRTCCallSummaryStore","RTCCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={track:function(a,c){__p&&__p();var d=a.videoDurationTrackerInfo,e=d.localVideoDurationTracker,f=d.remoteVideoDurationTracker;d=d.localScreenDurationTracker;switch(c.type){case"ADD_LOCAL_SCREEN_STREAM":d.track(c.stream),d.isStarted()||d.start();case"ADD_LOCAL_STREAM":e.track(c.stream);e.isStarted()||e.start();return a;case"REMOVE_LOCAL_SCREEN_STREAM":d.pause(c.stream);return a;case"REPLACE_LOCAL_SCREEN_STREAM":d.track(c.newStream);e.track(c.newStream);return a;case"ADD_REMOTE_STREAM":case"TOGGLE_REMOTE_STREAM":d=b("RTCCallStore").getState();e=d.remoteUsers;c=e.find(function(a){return!a.isVideoMuted()});f.stop();f.start();f.track(c&&c.streams.first());return a}return a},update:function(a,b){switch(b.type){case"VIDEO_MUTED":case"VIDEO_UNMUTED":a.videoDurationTrackerInfo.localVideoDurationTracker.update()}return a},stop:function(a,c){__p&&__p();switch(c.type){case"DISMISS":case"END_CALL":case"HANGUP":c=a.videoDurationTrackerInfo;var d=b("RTCCallStore").getState();d=d.callSummary;c.localVideoDurationTracker.stop();c.remoteVideoDurationTracker.stop();c.localScreenDurationTracker.stop();d.setVideoDurations(c.localVideoDurationTracker.getDuration(),c.remoteVideoDurationTracker.getDuration());d.setScreenDuration(c.localScreenDurationTracker.getDuration());d.save(b("FBRTCCallSummaryStore").getInstance());return a}return a}};e.exports=a}),null);
__d("RTCCallStoreState",["CurrentUser","FBRTCCallSummary","RTCUser","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={debugID:0,callID:"",conferenceState:"NEW",conferenceName:"",protocol:"",serverInfoData:""};d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.isInCall=function(){return this.conferenceState==="CONNECTING"||this.conferenceState==="CONNECTED"};return b}((c=b("immutable")).Record(a));f={connections:c.Set(),localUser:new(b("RTCUser"))({FBID:b("CurrentUser").getID()}),remoteUsers:c.Set(),callInfo:new d(),callSummary:b("FBRTCCallSummary").nullSummary(),mediaStatus:c.Map()};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c.Record(f));e.exports=a}),null);
__d("RTCCallReducer",["invariant","FBRTCCallSummary","FBRTCCallSummaryStore","FBRTCConstants","FBRTCParticipantCallState","FBRTCRtcResponseStatusCode","FBRTCScreenSharingUtils","RTCCallStore","RTCCallStoreState","RTCUser","RTCUtils","URI","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBRTCConstants").SignalingProtocol;function a(a,c){switch(c.type){case"INIT":return a.set("callInfo",a.callInfo.set("callID",c.callID).set("conferenceName",c.conferenceName).set("serverInfoData",c.serverInfoData).set("protocol",c.protocol));case"RESET":return new(b("RTCCallStoreState"))();case"RESET_FOR_REDIAL":return a.set("callInfo",a.callInfo.set("conferenceState","NEW").set("callID",c.callID).set("conferenceName",c.conferenceName)).set("callSummary",b("FBRTCCallSummary").nullSummary()).set("connections",b("immutable").Set()).set("remoteUsers",a.remoteUsers.map(function(a){return a.removeAllStreams()}));case"CALL_COLLISION":return a.set("callInfo",a.callInfo.set("conferenceState","NEW").set("callID",c.conferenceName).set("conferenceName",c.conferenceName)).set("remoteUsers",a.remoteUsers.map(function(a){return a.removeAllStreams()}))}return a}function c(a,b){switch(b.type){case"CALL":return a.setIn(["callInfo","conferenceState"],"CONNECTING").set("connections",a.connections.add(b.peerConnection));case"CALL_ERROR":return a.setIn(["callInfo","conferenceState"],"TERMINATED");case"CALL_SUCCESS":return b.connected?a.setIn(["callInfo","conferenceState"],"CONNECTED"):a}return a}function d(a,b){switch(b.type){case"INCOMING_CALL_SUCCESS":return a.setIn(["callInfo","conferenceState"],"CONNECTED")}return a}function f(a,c){__p&&__p();switch(c.type){case"HANGUP":a.connections.forEach(function(a){return a.close()});return a.setIn(["callInfo","conferenceState"],"TERMINATING").set("connections",b("immutable").Set()).set("remoteUsers",a.remoteUsers.map(function(a){return a.removeAllStreams()}));case"DISMISS":c.transaction.sendResponse(c.request.createResponse(b("FBRTCRtcResponseStatusCode").OK,{callID:a.callInfo.callID}));case"END_CALL":a.connections.forEach(function(a){return a.close()});return a.setIn(["callInfo","conferenceState"],"TERMINATED").set("connections",b("immutable").Set()).set("remoteUsers",a.remoteUsers.map(function(a){return a.removeAllStreams()}));case"HANGUP_ERROR":case"HANGUP_SUCCESS":return a.setIn(["callInfo","conferenceState"],"TERMINATED")}return a}function j(a,c){__p&&__p();switch(c.type){case"GROUP_ESCALATION_CLEAR_P2P_CONNECTION":var d=b("RTCCallStore").getConnection(i.P2P);if(d){c=d.getRemoteStreams();var e=c[0];d.close();var f=a.localUser;if(!b("FBRTCScreenSharingUtils").isGroupCallScreenSharingSupported()){c=f.getScreenStream();if(c){var g=f.getStream();g&&b("RTCUtils").transferAudioTracks(g,c);b("RTCUtils").stopMediaStream(c);f=f.removeScreenStream(c)}}return a.withMutations(function(a){a.set("connections",a.connections.remove(d)).set("localUser",f).set("remoteUsers",a.remoteUsers.map(function(a){return a.removeStream(e)}))})}}return a}function k(a,c){__p&&__p();switch(c.type){case"GROUP_ESCALATION_CANCEL":var d=b("RTCCallStore").getConnection(i.MULTIWAY);if(d){var e=d.getRemoteStreams(),f=e[0],g=a.callSummary;c.p2pCallSummary&&(g=c.p2pCallSummary,b("FBRTCCallSummaryStore").getInstance().removeCallSummary(a.callSummary.peerID,a.callSummary.callID));d.close();return a.withMutations(function(a){a.set("callInfo",a.callInfo.set("conferenceState","CONNECTED").set("conferenceName",g.callID).set("protocol","p2p").set("serverInfoData","")).set("callSummary",g).set("connections",a.connections.remove(d)).set("remoteUsers",a.remoteUsers.map(function(a){return a.removeStream(f)}))})}}return a}function l(a,c){__p&&__p();switch(c.type){case"ON_PARTICIPANTS_ADDED":var d=a.remoteUsers.map(function(a){return a.FBID});return a.set("remoteUsers",a.remoteUsers.union(Object.keys(c.participants).filter(function(a){return!d.has(c.participants[a].fbid)}).map(function(a){var d=c.participants[a],e=d.big_image_src||d.image_src;c.images&&c.images[a]&&(e=c.images[a]);d.fbid||g(0,1174);return new(b("RTCUser"))({FBID:d.fbid,profileUrl:new(h||(h=b("URI")))(d.href),profilePictureUrl:e,isGuestUser:d.user_type==="guest",isMessengerUser:!!d.is_messenger_user,isPartiesUser:!!d.is_parties_user,userName:d.name,userShortName:d.short_name,vanity:d.vanity})})))}return a}function m(a,c){__p&&__p();switch(c.type){case"ON_CONFERENCE_STATE":var d=c.transaction,e=c.request,f=c.request.conferenceStateRequest();if(c.conferenceStateVersion>=f.version){d.sendResponse(e.createResponse(b("FBRTCRtcResponseStatusCode").OK,{body:{ConferenceStateResponse:{currentVerison:c.conferenceStateVersion}},callID:a.callInfo.callID}));return a}c.resolve(f.version);var g=a.remoteUsers.map(function(a){var c=f.participantStates[a.FBID];c&&c.state===b("FBRTCParticipantCallState").DISCONNECTED&&(a=a.removeAllStreams());return c?a.setParticipantState(c):a}),h=g.some(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED});h=h?"CONNECTED":a.callInfo.conferenceState;d.sendResponse(e.createResponse(b("FBRTCRtcResponseStatusCode").OK,{body:{ConferenceStateResponse:{currentVerison:c.conferenceStateVersion}},callID:a.callInfo.callID}));return a.setIn(["remoteUsers"],g).setIn(["callInfo","conferenceState"],h)}return a}function n(a,b){switch(b.type){case"ON_JOIN_RESPONSE":return a.setIn(["callInfo","serverInfoData"],b.serverInfoData)}return a}function o(a,b){switch(b.type){case"INIT_LOCAL_USER":return a.set("localUser",b.localUser);case"INIT_REMOTE_USERS":case"UPDATE_REMOTE_USERS":return a.set("remoteUsers",b.remoteUsers)}return a}function p(a,b){switch(b.type){case"AUDIO_MUTED":return a.set("localUser",a.localUser.toggleMuteAudio(!0));case"AUDIO_UNMUTED":return a.set("localUser",a.localUser.toggleMuteAudio(!1));case"VIDEO_MUTED":return a.set("localUser",a.localUser.toggleMuteVideo(!0));case"VIDEO_UNMUTED":return a.set("localUser",a.localUser.toggleMuteVideo(!1));default:return a}}function q(a,c){__p&&__p();switch(c.type){case"ADD_LOCAL_STREAM":return a.set("localUser",a.localUser.addStream(c.stream));case"REMOVE_LOCAL_STREAM":return a.set("localUser",a.localUser.removeStream(c.stream));case"REPLACE_LOCAL_STREAM":var d=c.oldStream.getAudioTracks();d=d[0];if(d!=null)for(var e=c.newStream.getAudioTracks(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h.enabled=d.enabled}return a.set("localUser",a.localUser.replaceStream(c.oldStream,c.newStream));case"STOP_LOCAL_STREAM":return a.set("localUser",a.localUser.stopVideo());case"REMOVE_ALL_LOCAL_STREAMS":if(c.stopStreams)for(var h=a.localUser.streams,g=Array.isArray(h),f=0,h=g?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(f>=h.length)break;e=h[f++]}else{f=h.next();if(f.done)break;e=f.value}d=e;b("RTCUtils").stopMediaStream(d)}return a.set("localUser",a.localUser.removeAllStreams())}return a}function r(a,c){__p&&__p();switch(c.type){case"ADD_LOCAL_SCREEN_STREAM":return a.set("localUser",a.localUser.addScreenStream(c.stream));case"REMOVE_LOCAL_SCREEN_STREAM":return a.set("localUser",a.localUser.removeScreenStream(c.stream));case"REMOVE_ALL_LOCAL_SCREEN_STREAMS":if(c.stopStreams)for(var d=a.localUser.screenStreams,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b("RTCUtils").stopMediaStream(g)}return a.set("localUser",a.localUser.removeAllScreenStreams());case"REPLACE_LOCAL_SCREEN_STREAM":return a.set("localUser",a.localUser.replaceScreenStream(c.oldStream,c.newStream))}return a}function s(a,b){__p&&__p();var c;switch(b.type){case"ADD_REMOTE_STREAM":c=w(a,b);if(!c)return a;var d=a.setIn(["remoteUsers"],a.remoteUsers["delete"](c).add(c.addStream(b.stream)));return v(d,{type:"TOGGLE_REMOTE_STREAM",mediaStatus:d.mediaStatus.toJS()});case"REMOVE_REMOTE_STREAM":c=w(a,b);return!c?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](c).add(c.removeStream(b.stream)));case"REMOVE_ALL_REMOTE_STREAMS":c=w(a,b);return!c?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](c).add(c.removeAllStreams().removeAllScreenStreams()))}return a}function t(a,b){var c;switch(b.type){case"ADD_REMOTE_TRACK":c=w(a,b);return!c?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](c).add(c.clone()));case"REMOVE_REMOTE_TRACK":c=w(a,b);return!c?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](c).add(c.clone()))}return a}function u(a,b){var c;switch(b.type){case"ADD_REMOTE_SCREEN_STREAM":c=w(a,b);return!c?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](c).add(c.addScreenStream(b.stream)));case"REMOVE_REMOTE_SCREEN_STREAM":c=w(a,b);return!c?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](c).add(c.removeScreenStream(b.stream)))}return a}function v(a,c){__p&&__p();var d;switch(c.type){case"TOGGLE_REMOTE_STREAM":return a.set("remoteUsers",Object.entries(c.mediaStatus).reduce(function(b,c){__p&&__p();var d=c[0];c=c[1];var e=b.reduce(function(b,a){var c=a.streams.map(function(a){return a.getTracks().find(function(a){return a.id===d})}).find(Boolean);return c?{user:a,track:c}:b},{}),a=e.user;e=e.track;if(a&&e){if(e.kind==="audio"&&a.isAudioMuted()===c)return b["delete"](a).add(a.toggleMuteAudio());if(e.kind==="video"&&a.isVideoMuted()===c)return b["delete"](a).add(a.toggleMuteVideo(!a.isVideoMuted()))}return b},a.remoteUsers)).set("mediaStatus",b("immutable").Map(c.mediaStatus));case"REMOTE_AUDIO_MUTED":d=w(a,c);return!d?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](d).add(d.toggleMuteAudio(!0)));case"REMOTE_AUDIO_UNMUTED":d=w(a,c);return!d?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](d).add(d.toggleMuteAudio(!1)));case"REMOTE_VIDEO_MUTED":d=w(a,c);return!d?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](d).add(d.toggleMuteVideo(!0)));case"REMOTE_VIDEO_UNMUTED":d=w(a,c);return!d?a:a.setIn(["remoteUsers"],a.remoteUsers["delete"](d).add(d.toggleMuteVideo(!1)))}return a}function w(a,b){return a.remoteUsers.find(function(a){return b.userID?a.FBID==b.userID:a.FBID===b.stream.id.split(":")[0]})}function x(a,b){switch(b.type){case"WAIT_FOR_USER_INPUT":return a.callInfo.conferenceState==="NEW"?a.setIn(["callInfo","conferenceState"],"AWAITING_USER_START"):a}return a}e.exports={abortMultiwayEscalationProcess:k,callInit:a,callStart:c,callEnd:f,completeTransitionToMultiway:j,onParticipantsChanged:l,incomingCallStart:d,processUsers:o,toggleLocalStream:p,processLocalStream:q,processLocalScreenStream:r,processRemoteStream:s,processRemoteScreenStream:u,processRemoteTrack:t,toggleRemoteStream:v,processConferenceState:m,processJoinResponse:n,waitForUserInput:x}}),null);
__d("RTCGroupCallEscalationStoreState",["immutable"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({aborted:!1,inProgress:!1,toRing:!1,p2pCallSummary:null,readyToTransition:!1,usersToRing:null}));e.exports=a}),null);
__d("RTCGroupCallEscalationStoreReducer",["FBRTCParticipantCallState","RTCCallStore","RTCGroupCallEscalationActionTypes","RTCGroupCallEscalationStore","RTCGroupCallEscalationStoreState","RTCMWProtocolHandler","RTCP2PCallStore","RTWebUserActionLogger","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new Set([(g=b("FBRTCParticipantCallState")).UNKNOWN,g.DISCONNECTED,g.NO_ANSWER,g.REJECTED,g.UNREACHABLE,g.CONNECTION_DROPPED,g.PARTICIPANT_LIMIT_REACHED,g.IN_ANOTHER_CALL,g.RING_TYPE_UNSUPPORTED]);function a(a,c){switch(c.type){case"GROUP_ESCALATION_CANCEL":b("RTWebUserActionLogger").logCheckpoint({checkpoint:"group_escalation_cancel"});return a.withMutations(function(a){a.set("aborted",!0).set("inProgress",!1).set("toRing",!1).set("readyToTransition",!1).set("usersToRing",null)})}return a}function c(a,c){switch(c.type){case"HANGUP":case"END_CALL":case"HANGUP_ERROR":case"HANGUP_SUCCESS":return a.withMutations(function(a){a.set("aborted",!1).set("inProgress",!1).set("toRing",!1).set("usersToRing",null)});case"RESET":return new(b("RTCGroupCallEscalationStoreState"))()}return a}function d(a,b){switch(b.type){case"GROUP_ESCALATION_SET_P2P_CALLSUMMARY":var c=b.p2pCallSummary;if(c)return a.withMutations(function(a){a.set("p2pCallSummary",c)})}return a}function f(a,c){switch(c.type){case"GROUP_ESCALATION_START":b("RTWebUserActionLogger").logCheckpoint({checkpoint:"group_escalation_start"});return a.set("inProgress",!0).set("readyToTransition",!1)}return a}function i(a,c){if(!a.readyToTransition&&a.inProgress)switch(c.type){case"ON_JOIN_REQUEST_SENT":b("RTCGroupCallEscalationStore").logToP2PCallSummary(function(a){return a.setEscalationConnectingToMultiway()});break;case"ON_JOIN_RESPONSE":b("RTCGroupCallEscalationStore").logToP2PCallSummary(function(a){a.setEscalationConnectedToMultiway(),c.serverInfoData&&a.setServerInfoData(c.serverInfoData)});break}return a}function j(a,c){__p&&__p();if(!a.readyToTransition&&a.inProgress)switch(c.type){case"ON_CONFERENCE_STATE":c=c.request.conferenceStateRequest();if(c){var d=c.participantStates;c=a.toRing;var e=!1,f=Object.keys(d).every(function(a){return d[a].state===b("FBRTCParticipantCallState").CONNECTED});if(f){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"group_escalation_success"});b("RTCGroupCallEscalationStore").logToP2PCallSummary(function(a){a.setEscalationPeerConnectedToMultiway(),a.setEscalationConnectedToMultiway(),a.setReadyToEscalate()});var g=b("RTCP2PCallStore").getState();g=g.protocolHandler;g.shutDownP2PListenersForMultiwayEscalation();if(a.usersToRing&&c){g=a.usersToRing.valueSeq().map(function(a){return a.fbid}).filter(Boolean).toArray();b("RTCMWProtocolHandler").addParticipants(b("RTCCallStore").getState().callInfo.conferenceName,b("RTCCallStore").getState().callInfo.serverInfoData,g);c=!1}}else e=Object.keys(d).some(function(a){return h.has(d[a].state)}),e&&b("RTCGroupCallEscalationStore").logToP2PCallSummary(function(a){return a.setInvalidP2PEscalationState()});return a.set("aborted",e).set("readyToTransition",f).set("inProgress",!(f||e)).set("toRing",c)}}return a}function k(a,b){switch(b.type){case"GROUP_ESCALATION_SET_USERS_TO_RING":if(b.usersToRing)return a.set("usersToRing",b.usersToRing).set("toRing",!0)}return a}e.exports={abortEscalation:a,callStart:f,clearStore:c,onMultiwayConnectionSignaling:i,onParticipantsConnected:j,setP2PCallSummary:d,setUsersToRing:k}}),null);
__d("RTCP2PCallAdminMessageReducers",["FBRTCAdminMessage","FBRTCCallConstants","RTCAppDispatcher","RTCCallStore","RTCCallType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCCallConstants").FBRTCCallType;function a(a,c){switch(c.type){case"SET_CALL_SUMMARY":b("RTCAppDispatcher").waitFor([b("RTCCallStore").getDispatchToken()]);c=b("RTCCallStore").getState();c=c.callSummary;return a.set("adminMessage",new(b("FBRTCAdminMessage"))(c.peerID,c.callID));default:return a}}function c(a,b){switch(b.type){case"SET_CONNECTION_STATUS":var c=a.adminMessage;c&&b.connectionStatus==="CONNECTED"&&c.onCallConnected();return a;default:return a}}function d(a,c){switch(c.type){case"SET_END_CALL_REASON":var d=a.adminMessage,e=a.escalationConferenceName;d&&(d.onCallEnded(),a.isCaller&&d.submit(a.callType===b("RTCCallType").AUDIO_ONLY?g.VOICE_CALL:g.VIDEO_CALL,c.endCallReason.getReasonID(),e));return a;default:return a}}e.exports={processCallInit:a,processCallStart:c,processCallEnd:d}}),null);
__d("RTCP2PCallEscalationStoreState",["FBRTCConstants","FBRTCMessage","immutable"],(function(a,b,c,d,e,f){a=b("FBRTCConstants").CallType;c=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({awaitingACK:!1,callType:a.VOIP,escalated:!1,escalateMediaStream:null,failureReason:null,initiatedEscalation:!1,inProgress:!1,request:null,response:null,token:null}));e.exports=c}),null);
__d("RTCP2PCallEscalationStoreReducers",["FBRTCConstants","RTCCallType","RTCP2PCallEscalationStoreState","RTCP2PCallEscalator","RTCP2PCallStore","RTWebUserActionLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").CallType;a=function(a,c){__p&&__p();switch(c.type){case"P2P_CALL_ESCALATION_START":if(a.inProgress)return a;if(a.escalated||!b("RTCP2PCallStore").isAudioOnly())return a;b("RTWebUserActionLogger").logCheckpoint({checkpoint:"video_escalation_start"});return a.withMutations(function(a){a.set("awaitingACK",!0).set("initiatedEscalation",!0).set("failureReason",null).set("inProgress",!0).set("token",b("RTCP2PCallStore").getState().protocolHandler.generateEscalationRequestToken(!0))});case"P2P_CALL_ESCALATION_SUCCESS":if(!a.inProgress)return a;else if("token"in c&&c.token!==a.token)return a;b("RTCP2PCallEscalator").onEscalationSucceeded();b("RTWebUserActionLogger").logCheckpoint({checkpoint:"video_escalation_success"});return a.withMutations(function(a){a.set("awaitingACK",!1).set("callType",g.ESCALATED).set("escalated",!0).set("inProgress",!1).set("request",null).set("response",!0).set("token",null)});case"P2P_CALL_ESCALATION_FAILURE":if(!a.inProgress)return a;else if("token"in c&&c.token!==a.token)return a;b("RTCP2PCallEscalator").onEscalationFailed();if(c.reason==="denied"){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"video_escalation_denied"});return a.withMutations(function(a){a.set("awaitingACK",!1).set("initiatedEscalation",!1).set("callType",g.ESCALATION_DECLINED).set("escalated",!1).set("failureReason",c.reason||null).set("inProgress",!1).set("request",null).set("response",c.response||null).set("token",null).set("escalateMediaStream",null)})}else c.reason==="cancelled"?b("RTWebUserActionLogger").logCheckpoint({checkpoint:"video_escalation_cancelled"}):c.reason==="timeout"?b("RTWebUserActionLogger").logCheckpoint({checkpoint:"video_escalation_timeout"}):b("RTWebUserActionLogger").logCheckpoint({checkpoint:"video_escalation_failed"});b("RTCP2PCallStore").getState().protocolHandler.generateEscalationRequestToken(!1);return a.withMutations(function(a){a.set("awaitingACK",!1).set("inProgress",!1).set("initiatedEscalation",!1).set("callType",g.ESCALATION_DECLINED).set("escalated",!1).set("failureReason",c.reason).set("token",null).set("escalateMediaStream",null)});case"SET_P2P_CALL_ESCALATION_MEDIA":return a.set("escalateMediaStream",c.stream);default:return a}};c=function(a,c){__p&&__p();switch(c.type){case"P2P_CALL_ESCALATION_SET_REQUEST":var d=c.request;if(d==null)return a;return!b("RTCP2PCallEscalator").requestVideoOn(d.msg)?a.withMutations(function(a){a.set("awaitingACK",!1).set("inProgress",!1).set("request",null).set("response",null).set("token",null)}):a.withMutations(function(a){a.set("inProgress",!0).set("request",c.request).set("response",null).set("token",null)});case"P2P_CALL_ESCALATION_SET_RESPONSE":if(c.response==null)return a;else if(a.request==null)return a;return a.withMutations(function(a){a.set("awaitingACK",!0).set("callType",c.response?g.ESCALATED:g.ESCALATION_DECLINED).set("response",c.response).set("token",b("RTCP2PCallStore").getState().protocolHandler.generateEscalationResponseToken(a.request,c.response))});case"P2P_CALL_ESCALATION_ACK":if(c.token==null)return a;return a.response==null||a.request==null||c.token!==a.token||!a.awaitingACK?a:a.withMutations(function(a){a.set("awaitingACK",!1).set("callType",a.response?g.ESCALATED:g.ESCALATION_DECLINED).set("escalated",a.response).set("inProgress",!1).set("request",null).set("response",null).set("token",null)});default:return a}};d=function(a,c){__p&&__p();switch(c.type){case"RESET":return new(b("RTCP2PCallEscalationStoreState"))();case"SET_CALL_TYPE":switch(c.callType){case b("RTCCallType").AUDIO_VIDEO:case b("RTCCallType").VIDEO_ONLY:return a.set("callType",g.DIRECT_VIDEO)}return a;case"P2P_CALL_ESCALATION_ACK":if(c.token==null)return a;if(!a.awaitingACK)return a;else if(c.token!==a.token)return a;return a.set("awaitingACK",!1);default:return a}};e.exports={Alice:a,Bob:c,common:d}}),null);
__d("RTCP2PCallReducer",["FBRTCConfig","FBRTCConsoleLogger","FBRTCConstants","RTCAppDispatcher","RTCCallStore","RTCCallType","RTCP2PCallEscalationStore","RTCP2PCallStoreState","RTCP2PCallWindowHandler","RTCP2PProtocolHandler","RTCScreenSharingWindowHandler","RTCSignalingExperiments","RTWebClientFeatureGating"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").SignalingProtocol;function a(a,c){__p&&__p();switch(c.type){case"INIT":var d=c.callType,e=c.isCaller,f=c.protocol;return f===g.P2P&&d&&e!=null?a.set("protocolHandler",a.protocolHandler||new(b("RTCP2PProtocolHandler"))()).set("isCaller",e).set("callType",d):a;case"RESET":return new(b("RTCP2PCallStoreState"))();case"RESET_FOR_REDIAL":b("RTCAppDispatcher").waitFor([b("RTCCallStore").getDispatchToken()]);f=b("RTCCallStore").getState().remoteUsers.first();if(f==null)return a;a.protocolHandler.destroy();return a.set("connectionStatus","INIT").set("endCallReason",null).set("protocolHandler",new(b("RTCP2PProtocolHandler"))().init(f.FBID,Number(c.conferenceName))).set("signalingExperiments",new(b("RTCSignalingExperiments"))());case"CALL_COLLISION":b("RTCAppDispatcher").waitFor([b("RTCCallStore").getDispatchToken()]);a.protocolHandler.init(c.peerID,Number(c.conferenceName));return a.set("connectionStatus","INIT").set("endCallReason",null).set("signalingExperiments",new(b("RTCSignalingExperiments"))());default:return a}}function c(a,c){switch(c.type){case"HANGUP":case"DISMISS":case"HANGUP_ERROR":case"HANGUP_SUCCESS":case"END_CALL":case"REMOVE_REMOTE_SCREEN_STREAM":case"RESET_FOR_REDIAL":b("RTCScreenSharingWindowHandler").close();return a.withMutations(function(a){return a.set("isScreenContentPoppedOut",b("RTCScreenSharingWindowHandler").isWindowOpened()).set("isRedialFooterButtonShown",(b("RTWebClientFeatureGating").shouldAlwaysShowRedial()||b("RTCP2PProtocolHandler").showRedialButton())&&!b("FBRTCConfig").isVCEndpointCall()).set("isStarRatingShown",b("RTCP2PProtocolHandler").showStarRating())});default:return a}}function d(a,c){switch(c.type){case"SET_CALL_TYPE":return a.set("callType",c.callType);case"P2P_CALL_ESCALATION_SET_RESPONSE":b("RTCAppDispatcher").waitFor([b("RTCP2PCallEscalationStore").getDispatchToken()]);return a.set("callType",c.response?b("RTCCallType").AUDIO_VIDEO:b("RTCCallType").AUDIO_ONLY);case"P2P_CALL_ESCALATION_FAILURE":return a.set("callType",b("RTCCallType").AUDIO_ONLY);case"P2P_CALL_ESCALATION_SUCCESS":b("RTCAppDispatcher").waitFor([b("RTCP2PCallEscalationStore").getDispatchToken()]);return b("RTCP2PCallEscalationStore").isEscalated()?a.set("callType",b("RTCCallType").AUDIO_VIDEO):a;default:return a}}function f(a,c){switch(c.type){case"SET_CONNECTION_STATUS":if(a.connectionStatus!==c.connectionStatus){b("RTCP2PCallWindowHandler").updateCallInProgressIndicator(c.connectionStatus);return a.set("connectionStatus",c.connectionStatus)}default:return a}}function h(a,b){switch(b.type){case"SET_END_CALL_REASON":return a.set("endCallReason",b.endCallReason);default:return a}}function i(a,b){switch(b.type){case"SET_MULTIWAY_ESCALATION_SUPPORT":a=a.set("offerEscalationSupport",b.offerEscalationSupport);b.escalationConferenceName&&(a=a.set("escalationConferenceName",b.escalationConferenceName));return a;default:return a}}function j(a,c){switch(c.type){case"POP_IN_SCREEN_CONTENT":b("RTCScreenSharingWindowHandler").close();return a.set("isScreenContentPoppedOut",b("RTCScreenSharingWindowHandler").isWindowOpened());case"POP_OUT_SCREEN_CONTENT":var d=b("RTCCallStore").getState(),e=d.remoteUsers.first().FBID;d=d.callInfo;b("RTCScreenSharingWindowHandler").open(e,c.stream,d);return a.set("isScreenContentPoppedOut",b("RTCScreenSharingWindowHandler").isWindowOpened());default:return a}}function k(a,b){switch(b.type){case"SET_REMOTE_SIGNALING_EXPERIMENTS":return a.set("signalingExperiments",a.signalingExperiments.setRemote(b.remoteSignalingExperiments));default:return a}}function l(a,b){switch(b.type){case"P2P_PROCESS_MESSAGE":return a.set("isRemoteVideoSupported",b.message.isRemoteVideoSupported()).set("isPeerOnMobile",b.message.isFromMobile());default:return a}}function m(a,b){switch(b.type){case"P2P_SET_IS_CALLER":return a.set("isCaller",b.isCaller);case"CALL_COLLISION":return a.set("isCaller",!0);default:return a}}function n(a,b){switch(b.type){case"SET_CONNECTION_STATUS":return b.connectionStatus==="CONNECTED"?a.set("wasConnected",!0):a;case"RESET_FOR_REDIAL":return a.set("wasConnected",!1);case"CALL_COLLISION":return a.set("wasConnected",!1);default:return a}}function o(a,b){switch(b.type){case"P2P_STAR_RATING_DONE":return a.set("isStarRatingShown",!1).set("wasStarRatingDone",b.done);case"RESET_FOR_REDIAL":return a.set("isStarRatingShown",!1).set("wasStarRatingDone",!1);default:return a}}function p(a,b){switch(b.type){case"SHOW_POOR_NETWORK_QUALITY":return a.set("isPoorNetworkQualityShown",!0);case"DISMISS_POOR_NETWORK_QUALITY":return a.set("isPoorNetworkQualityShown",!1);default:return a}}e.exports={callInit:a,callEnd:c,processCallType:d,processConnectionStatus:f,processEndCallReason:h,processIsCaller:m,processMessage:l,processMultiwayEscalationSupport:i,processPoorNetworkQuality:p,processPoppedOutScreenContent:j,processSignalingExperiments:k,processWasConnected:n,processWasStarRatingDone:o}}),null);
__d("RTCStreamDurationTracker",["performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(){__p&&__p();function a(a){__p&&__p();var c=this;a===void 0&&(a="mixed");this.$3=0;this.$4=0;this.$5=!1;this.update=function(){if(!c.$5)return;c.$6()?c.$4===0&&(c.$4=(g||(g=b("performanceNow")))()):c.pause(c.$2)};this.$1=a}var c=a.prototype;c.isStarted=function(){return this.$5};c.track=function(a){__p&&__p();if(a===this.$2){this.update();return}if(this.$2&&this.$5){var b=this.$2;b.removeEventListener("addtrack",this.update);b.removeEventListener("removetrack",this.update)}a?(this.$5&&this.$6()&&(this.$3=this.getDuration()),this.$2=a,this.$5&&this.start()):this.stop()};c.$6=function(){return!this.$2?!1:this.$7().some(function(a){return a.enabled})};c.$7=function(){if(!this.$2)return[];switch(this.$1){case"audio":return this.$2.getAudioTracks();case"video":return this.$2.getVideoTracks();case"screen":return this.$2.getVideoTracks();default:return this.$2.getTracks()}};c.pause=function(a){if(!this.$5)return;if(this.$2!==a)return;this.$3=this.getDuration();this.$4=0};c.getDuration=function(){return this.$4===0?this.$3:this.$3+(g||(g=b("performanceNow")))()-this.$4};c.start=function(){this.$5=!0;this.$6()&&(this.$4=(g||(g=b("performanceNow")))());if(this.$2){var a=this.$2;a.addEventListener("addtrack",this.update);a.addEventListener("removetrack",this.update)}};c.stop=function(){__p&&__p();if(!this.$5)return;this.$3=this.getDuration();this.$5=!1;this.$4=0;if(this.$2){var a=this.$2;a.removeEventListener("addtrack",this.update);a.removeEventListener("removetrack",this.update)}};return a}();e.exports=a}),null);
__d("FBRTCGroupCallStoreState",["RTCStreamDurationTracker","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={localVideoDurationTracker:new(b("RTCStreamDurationTracker"))("video"),remoteVideoDurationTracker:new(b("RTCStreamDurationTracker"))("video"),localScreenDurationTracker:new(b("RTCStreamDurationTracker"))("screen")};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));d={dominantSpeakerFBID:null,endCallReason:null,layout:null,linkHash:null,participants:b("immutable").Map(),pinnedSpeakerFBID:null,thread:null,videoDurationTrackerInfo:new c(),dominantSpeakerDetector:null};f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(d));e.exports=f}),null);
__d("FBRTCGroupCallStore",["FBRTCGroupCallParticipantsReducer","FBRTCGroupCallReducer","FBRTCGroupCallStoreState","FBRTCVideoDurationTrackerReducer","FluxReduceStore","RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("FBRTCGroupCallParticipantsReducer").addParticipantsToRing,b("FBRTCGroupCallParticipantsReducer").initThread,b("FBRTCGroupCallParticipantsReducer").onParticipantsChanged,(a=b("FBRTCGroupCallReducer")).processEndCallReason,a.setDominantSpeaker,a.setUpDominantSpeakerDetection,a.setLayout,a.setLinkHash,b("FBRTCVideoDurationTrackerReducer").track,b("FBRTCVideoDurationTrackerReducer").update,b("FBRTCVideoDurationTrackerReducer").stop];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBRTCGroupCallStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};d.hadVideoDuration=function(){var a=this.getState().videoDurationTrackerInfo,b=a.localVideoDurationTracker;a=a.remoteVideoDurationTracker;return b.getDuration()>0||a.getDuration()>0};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("RTCAppDispatcher"))}),null);
__d("FBRTCMWProtocolStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={pendingResponse:!1,pendingUpdate:!1,lastSyncedClientVersion:1,localMediaUpdates:b("immutable").List([{mediaStatus:{}}])};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));d={clientMediaUpdateInfo:new c()};f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(d));e.exports=f}),null);
__d("FBRTCMWProtocolStore",["FBRTCClientMediaUpdateReducer","FBRTCMWProtocolStoreState","FluxReduceStore","RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[(a=b("FBRTCClientMediaUpdateReducer")).configureAudio,a.configureVideo,a.onClientMediaUpdateResponse,a.setLocalClientVersion,a.reset];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBRTCMWProtocolStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("RTCAppDispatcher"))}),null);
__d("RTCCallStore",["FBRTCCallSummaryReducer","FBRTCCallSummaryStore","FBRTCParticipantCallState","FluxReduceStore","RTCAppDispatcher","RTCCallReducer","RTCCallStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[(a=b("FBRTCCallSummaryReducer")).onCallEnded,a.onCallStarted,a.onMessageSignaling,a.onSurveyResult,a.setCallSummary,(c=b("RTCCallReducer")).abortMultiwayEscalationProcess,c.callEnd,c.callInit,c.callStart,c.completeTransitionToMultiway,c.incomingCallStart,c.onParticipantsChanged,c.processConferenceState,c.processJoinResponse,c.processLocalScreenStream,c.processLocalStream,c.processRemoteScreenStream,c.processRemoteStream,c.processRemoteTrack,c.processUsers,c.toggleLocalStream,c.toggleRemoteStream,c.waitForUserInput];d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("RTCCallStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};d.hasRemoteVideo=function(){return this.getState().remoteUsers.some(function(a){return a.hasStream()&&!a.areAllTracksMuted(a.streams.first().getVideoTracks())})};d.hasLocalVideo=function(){var a=this.getState();a=a.localUser;return a.hasStream()&&!a.areAllTracksMuted(a.streams.first().getVideoTracks())};d.getConnection=function(a){var b=this.getState();b=b.connections;a&&(b=b.filter(function(b){return b.getSignalingProtocol()===a}));return b.first()};d.mutateCallSummary=function(a){var c=this.getState();c=c.callSummary;a(c);c.save(b("FBRTCCallSummaryStore").getInstance())};d.getSortedRemoteUsers=function(){return this.getState().remoteUsers.toList().sort(function(a,b){return a.lastConnectedAt===b.lastConnectedAt?a.FBID>b.FBID?1:-1:a.lastConnectedAt-b.lastConnectedAt})};d.getConnectedRemoteUsersSize=function(){return this.getState().remoteUsers.count(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED})};return c}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("RTCAppDispatcher"))}),null);
__d("RTCGroupCallEscalationStore",["FBRTCCallSummaryStore","FluxReduceStore","RTCAppDispatcher","RTCGroupCallEscalationStoreReducer","RTCGroupCallEscalationStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[(a=b("RTCGroupCallEscalationStoreReducer")).abortEscalation,a.callStart,a.clearStore,a.onMultiwayConnectionSignaling,a.onParticipantsConnected,a.setP2PCallSummary,a.setUsersToRing];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("RTCGroupCallEscalationStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};d.isInProgress=function(){return this.getState().inProgress};d.isEscalated=function(){return this.getState().readyToTransition};d.logToP2PCallSummary=function(a){var c=this.getState();c=c.p2pCallSummary;c&&(a(c),c.save(b("FBRTCCallSummaryStore").getInstance()))};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("RTCAppDispatcher"))}),null);
__d("RTCP2PCallEscalationStore",["FluxReduceStore","RTCAppDispatcher","RTCP2PCallEscalationStoreReducers","RTCP2PCallEscalationStoreState","RTCP2PCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("RTCP2PCallEscalationStoreReducers").Alice,b("RTCP2PCallEscalationStoreReducers").Bob,b("RTCP2PCallEscalationStoreReducers").common];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("RTCP2PCallEscalationStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};d.didCurrentUserInitiate=function(){return this.getState().initiatedEscalation};d.isInProgress=function(){return this.getState().inProgress};d.isEscalated=function(){return this.getState().escalated};d.getEscalateMediaStream=function(){return this.getState().escalateMediaStream};d.remoteWillNotInitSDPUpdate=function(){return b("RTCP2PCallStore").getState().isPeerOnMobile||b("RTCP2PCallStore").getState().signalingExperiments.remoteSupport("video_escalation_by_unmute")};d.isNegotiationAllowed=function(){var a=this.getState();return this.remoteWillNotInitSDPUpdate()||!a.request};d.isStarted=function(){var a=this.getState();return a.inProgress&&a.token!==null};d.getToken=function(){return this.getState().token};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("RTCP2PCallStore",["FluxReduceStore","RTCAppDispatcher","RTCCallType","RTCP2PCallAdminMessageReducers","RTCP2PCallReducer","RTCP2PCallStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[(a=b("RTCP2PCallReducer")).callEnd,a.callInit,a.processCallType,a.processConnectionStatus,a.processEndCallReason,a.processPoppedOutScreenContent,a.processMultiwayEscalationSupport,a.processSignalingExperiments,a.processMessage,a.processIsCaller,a.processWasConnected,a.processWasStarRatingDone,a.processPoorNetworkQuality,b("RTCP2PCallAdminMessageReducers").processCallInit,b("RTCP2PCallAdminMessageReducers").processCallStart,b("RTCP2PCallAdminMessageReducers").processCallEnd];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("RTCP2PCallStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};d.isAudioOnly=function(){return this.getState().callType===b("RTCCallType").AUDIO_ONLY};d.isCaller=function(){return this.getState().isCaller};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("RTCAppDispatcher"))}),null);
__d("RTCP2PCallStoreState",["RTCCallType","RTCP2PProtocolHandler","RTCSignalingExperiments","immutable"],(function(a,b,c,d,e,f){"use strict";a={adminMessage:null,callType:b("RTCCallType").AUDIO_ONLY,connectionStatus:"INIT",endCallReason:null,escalationConferenceName:null,isCaller:!1,isPeerOnMobile:!1,isPoorNetworkQualityShown:!1,isRedialFooterButtonShown:!1,isRemoteVideoSupported:!0,isScreenContentPoppedOut:!1,isStarRatingShown:!1,offerEscalationSupport:!1,protocolHandler:new(b("RTCP2PProtocolHandler"))(),signalingExperiments:new(b("RTCSignalingExperiments"))(),wasConnected:!1,wasStarRatingDone:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("RTCCallInitUtils",["invariant","CurrentUser","FBRTCCallSummary","FBRTCCallSummaryStore","FBRTCConstants","MercuryIDs","MessengerParticipants.bs","MessengerState.bs","RTCCallActions","RTCCallStore","RTCGroupCallActions","RTCUser","URI","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FBRTCConstants").CallType,j=b("FBRTCConstants").SignalingProtocol;a={initializeCallSummary:function(a){var c=b("FBRTCCallSummary").restoreOrInitialize(b("FBRTCCallSummaryStore").getInstance(),a.peerID,a.callID,a.isCaller);b("RTCCallActions").setCallSummary(c);b("RTCCallStore").mutateCallSummary(function(b){b.onPopupOpened(),b.setCallType(a.protocol===j.P2P?a.isAudio?i.VOIP:i.DIRECT_VIDEO:"mws"),b.setActiveConnection(a.protocol===j.P2P?"p2p":"mws")})},initializeRTCUsers:function(a,c){var d=this;a=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});b("MessengerParticipants.bs").getMulti(a,function(a){a=b("immutable").Map(a);d.initializeParticipantsAndStartCall(a,!0,c)})},initializeParticipantsAndStartCall:function(a,c,d){var e=this,f=a.keySeq().toArray();b("MessengerParticipants.bs").getBigImageMultiWithSize(f,function(f){c&&b("RTCCallActions").initRemoteUsers(a.filter(function(a){a=a.fbid;return a!==b("CurrentUser").getID()}).map(function(a){return e._createRTCUser(a,f)}).toSet());var g=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID());b("RTCCallActions").initLocalUser(e._createRTCUser(a.get(g),f));d()},100)},initializeThreadFromCollisionContext:function(a){__p&&__p();var c=a.peerID;a=a.groupThreadID;a=c!=null?c:a;if(a==null)return;c=c!=null?b("MercuryIDs").getThreadIDFromUserID(a):b("MercuryIDs").getThreadIDFromThreadFBID(a);if(c===null)return;b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),c,function(a){b("RTCGroupCallActions").initThread(a,null)})},_createRTCUser:function(a,c){var d=a.big_image_src,e=a.fbid,f=a.user_type,i=a.href,j=a.image_src,k=a.is_messenger_user,l=a.name,m=a.room_location,n=a.short_name;a=a.vanity;e||g(0,1174);if(c){var o=b("MercuryIDs").getParticipantIDFromUserID(e);d=c[o]}return new(b("RTCUser"))({FBID:e,isGuestUser:f==="guest",isMessengerUser:!!k,profileUrl:new(h||(h=b("URI")))(i),profilePictureUrl:d||j,roomLocation:m,userName:l,userShortName:n,vanity:a?a:""})}};e.exports=a}),null);
__d("RTCGroupCallEscalationActions",["RTCAppDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a={start:function(){b("RTCAppDispatcher").dispatch({type:"GROUP_ESCALATION_START"})},cancel:function(a){b("RTCAppDispatcher").dispatch({type:"GROUP_ESCALATION_CANCEL",p2pCallSummary:a})},approve:function(){b("RTCAppDispatcher").dispatch({type:"GROUP_ESCALATION_SUCCESS"})},setUsersToRing:function(a){b("RTCAppDispatcher").dispatch({type:"GROUP_ESCALATION_SET_USERS_TO_RING",usersToRing:a})},setP2PCallSummary:function(a){b("RTCAppDispatcher").dispatch({type:"GROUP_ESCALATION_SET_P2P_CALLSUMMARY",p2pCallSummary:a})}};e.exports=a}),null);
__d("RTCGroupCallEscalator",["CurrentUser","FBRTCConsoleLogger","FBRTCConstants","FBRTCGroupCallStore","FBRTCMWProtocolStore","FBRTCScreenSharingUtils","MercuryIDs","MessengerParticipants.bs","RTCAppDispatcher","RTCCallStore","RTCGroupCallActions","RTCGroupCallEscalationActions","RTCGroupCallEscalationStore","RTCMWProtocolHandler","RTCUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").GroupVideoViewLayout,h=45e3;a=function(){__p&&__p();function a(a,c,d,e){this.$3=a,this.$4=c,this.$5=d,this.$1=String(e),b("RTCGroupCallEscalationActions").setP2PCallSummary(b("RTCCallStore").getState().callSummary),this.$6=[d],this.$8=null}var c=a.prototype;c.getParticipants=function(){return this.$8};c.$9=function(){var a=this.$3,c=this.$1;return window.setTimeout(function(){var d=b("RTCGroupCallEscalationStore").isEscalated(),e=b("RTCCallStore").getState();e=e.callInfo;!d&&(e.callID===c||e.conferenceName===a)&&(i("Group Escalation timed out"),b("RTCGroupCallEscalationStore").logToP2PCallSummary(function(a){a.setEscalationTimedOut(),b("RTCGroupCallEscalationActions").cancel(a)}))},h)};c.startEscalationToMultiway=function(){__p&&__p();var a=this;i("Escalating P2P call to Multiway call %o",this.$3);var c=b("RTCGroupCallEscalationStore").getState().inProgress;if(c)return;b("RTCGroupCallEscalationActions").start();this.$2=this.$9();this.$7=new(b("RTCMWProtocolHandler"))();b("RTCAppDispatcher").explicitlyRegisterStores([b("FBRTCGroupCallStore"),b("FBRTCMWProtocolStore")]);b("RTCGroupCallActions").setLayout(g.GRID);var d=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID());b("MessengerParticipants.bs").get(d,function(c){var e={};e[d]=c;c=b("immutable").Map(e);a.$8=c;b("RTCGroupCallActions").initThread(null,c);a.$10()})};c.$10=function(){var a=b("RTCCallStore").getState().localUser.getStream(),c=b("RTCCallStore").getState().localUser.getScreenStream(),d=a;c&&b("FBRTCScreenSharingUtils").isGroupCallScreenSharingSupported()&&(a&&b("RTCUtils").transferAudioTracks(c,a),d=c);d&&this.$7.onStreamReady(d,this.$6,this.$3,!0,{callTrigger:"multiway_escalation",p2pCallID:this.$1})};return a}();a.ESCALATION_TIMEOUT=h;function i(){}e.exports=a}),null);
__d("RTCSessionDescription",["invariant","FBRTCConfig","FBRTCConstants","FBRTCMediaType","FBRTCSdpUtils","RTCSignalingExperiments"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").SignalingProtocol,i=window.RTCSessionDescription||window.mozRTCSessionDescription,j=2,k="o",l="m",m="a",n="rtpmap",o="ssrc-group",p="ssrc",q="cname",r="msid",s="mslabel",t="label",u="sendonly",v="recvonly",w="sendrecv",x="inactive",y="offer",z="answer",A="=",B=" ",C=":",D="\r\n",E="audio",F="video",G="application",H=function(a,b){return a.startsWith(b+A)},I=function(a){return a.substr(j)},J=function(a,b){return a.startsWith(b+D)||a.startsWith(b+C)},K=function(a,b){return a.substr(b.length+1)},L=function(){__p&&__p();function a(a){__p&&__p();var b=this;this.$1=[];this.$2="-";this.$3="multiway";this.$4=1;this.$5="IN";this.$6="IP4";this.$7="127.0.0.1";a.forEach(function(a){if(H(a,k)){var c=I(a).split(B);c.length==6&&(b.$2=c[0],b.$3=c[1],b.$4=parseInt(c[2],10),b.$5=c[3],b.$6=c[4],b.$7=c[5])}b.$1.push(a)})}var b=a.prototype;b.setVersion=function(a){this.$4=a};b.getVersion=function(){return this.$4};b.toSdp=function(){var a=this;return this.$1.map(function(b){if(H(b,k))return k+A+a.$2+B+a.$3+B+a.$4+B+a.$5+B+a.$6+B+a.$7;else return b}).join(D)};return a}(),M=function(){__p&&__p();function a(a,b,c){__p&&__p();var d=this;c===void 0&&(c={});this.$1=[];var e={},f=[],g=[];a.forEach(function(a){__p&&__p();var b=I(a);H(a,l)&&(d.$4=b.split(B)[0]);if(H(a,m)&&J(b,n)){var c=K(b,n);c=c.split(B);var h=c[0];c=c[1];e[c]=h}H(a,m)&&J(b,p)?d.$6(b,f):H(a,m)&&J(b,o)?d.$7(b,g):H(a,m)&&(b===u||b===v||b===w||b===x)?d.$5=b:d.$1.push(a)});Object.keys(c).forEach(function(a){if(e[a]){var b=Object.keys(c[a]).map(function(b){return b+"="+c[a][b]}).join(";");d.$1.push("a=fmtp:"+e[a]+" "+b)}});this.$3={};this.$2={};f.forEach(function(a){if(Object.prototype.hasOwnProperty.call(a,q)){var b=a.cname;!d.$3[b]?d.$3[b]=[a]:d.$3[b].push(a);a=d.findSsrcGroupForSsrc(g,a.ssrc);a&&(!d.$2[b]?d.$2[b]=[a]:d.$2[b].push(a),d.removeSsrcGroup(a,g))}});this.$4!==G&&(b===y?f.length===0?this.$5=v:this.$5=w:b===z&&(this.$5=w))}var b=a.prototype;b.getMediaType=function(){return this.$4};b.findSsrcGroupForSsrc=function(a,b){return a.find(function(a){a=a.ssrcs;return a.some(function(a){return a===b})})};b.addStreamsForEndpoint=function(a,b){this.$3[a]=b};b.addSsrcGroupsForEndpoint=function(a,b){var c=this;this.$3[a].forEach(function(d){d=d.ssrc;d=c.findSsrcGroupForSsrc(b,d);d&&(!c.$2[a]?c.$2[a]=[d]:c.$2[a].push(d),c.removeSsrcGroup(d,b))})};b.removeSsrcGroup=function(a,b){a=b.indexOf(a);a!==-1&&b.splice(a,1)};b.$7=function(a,b){a=K(a,o);if(a){a=a.split(B);var c=a[0];a=a.slice(1);b.push({semantics:c,ssrcs:a.map(function(a){return parseInt(a,10)})})}};b.$6=function(a,b){__p&&__p();var c=a.indexOf(B),d=a.substr(0,c),e=parseInt(K(d,p),10);d=a.substr(c+1);a=b.find(function(a){return a.ssrc===e});a||(a={},a.ssrc=e,b.push(a));if(J(d,q))a.cname=K(d,q);else if(J(d,r)){c=K(d,r).split(B);a.msid={id:c[0],appdata:c[1]}}else J(d,s)?a.mslabel=K(d,s):J(d,t)&&(a.label=K(d,t))};b.toSdp=function(){__p&&__p();var a=[];this.$1.forEach(function(b){a.push(b)});for(var b in this.$2)this.$2[b].forEach(function(b){a.push(m+A+o+C+b.semantics+B+b.ssrcs.join(B))});this.$5!=null&&a.push(m+A+this.$5);for(var c in this.$3)this.$3[c].forEach(function(b){b.cname&&a.push(m+A+p+C+b.ssrc+B+q+C+b.cname),b.msid&&a.push(m+A+p+C+b.ssrc+B+r+C+b.msid.id+(b.msid.appdata?B+b.msid.appdata:"")),b.mslabel&&a.push(m+A+p+C+b.ssrc+B+s+C+b.mslabel),b.label&&a.push(m+A+p+C+b.ssrc+B+t+C+b.label)});return a.join(D)};return a}();a=function(){__p&&__p();function a(a,b,c){__p&&__p();b===void 0&&(b={});c===void 0&&(c={});b=b;var d=b.type;d=d===void 0?"offer":d;b=b.sdp;b=b===void 0?"":b;this.$2=a;this.type=d;switch(a){case h.CUSTOM:this.$1=b;return;case h.MULTIWAY:this.$3(b,c);return;case h.P2P:this.$4(b,c);return}}var c=a.prototype;c.$3=function(a,c){__p&&__p();this.type==="offer"&&(a=b("FBRTCSdpUtils").removeUnknownRtpHeaderExtensions(a),c.OFFER_SDP_TRANSFORM&&(a=c.OFFER_SDP_TRANSFORM.reduce(function(a,b){return b(a)},a)));c.DISABLE_OPUS_STEREO&&(a=b("FBRTCSdpUtils").addFmtp(a,"opus","stereo","0"));a=a.trim().split(D);var d=[],e=0;while(e<a.length&&!H(a[e],l))d.push(a[e]),e++;this.sessionDescription=new L(d);this.mediaDescriptions=[];while(e<a.length){d=[];d.push(a[e]);e++;while(e<a.length&&!H(a[e],l))d.push(a[e]),e++;this.mediaDescriptions.push(new M(d,this.type,c.FORMAT_PARAMETERS))}};c.$4=function(a,c){__p&&__p();var d=[function(a){return b("FBRTCSdpUtils").addIceOptionToSdp(a,"fb-force-5245")},function(a){return b("FBRTCSdpUtils").useDTLSOverCrypto(a)}];if(this.type==="offer"){c.DISABLE_VIDEO&&d.push(function(a){return b("FBRTCSdpUtils").disableVideo(a)});var e=b("RTCSignalingExperiments").shouldPreferIsac();e&&d.push(function(a){return b("FBRTCSdpUtils").preferIsac(a)});d.push(function(a){return b("FBRTCSdpUtils").replaceRTPSAVPFProfile(a)},function(a){return b("FBRTCSdpUtils").addSetup(a)},function(a){return b("FBRTCSdpUtils").removeUnknownRtpHeaderExtensions(a)});b("FBRTCConfig").isVCEndpointCall()||d.push(function(a){return b("FBRTCSdpUtils").removeSdparta(a)});if(c.FORMAT_PARAMETERS){var f=Object.entries(c.FORMAT_PARAMETERS);e=function(){__p&&__p();var a=f[h],c=a[0];a=a[1];var e=Object.entries(a);a=function(){var a=e[i],f=a[0],h=a[1];typeof h==="string"||g(0,4169);d.push(function(a){return b("FBRTCSdpUtils").addFmtp(a,c,f,h)})};for(var i=0;i<e.length;i++)a()};for(var h=0;h<f.length;h++)e()}d.push(function(a){return b("FBRTCSdpUtils").clearFirefoxInactiveDataChannelBlock(a)})}c.ADD_FB_FEATURES!=null&&d.push(function(a){Array.isArray(c.ADD_FB_FEATURES)||g(0,4170);return b("FBRTCSdpUtils").addFBFeatures.apply(b("FBRTCSdpUtils"),[a].concat(c.ADD_FB_FEATURES))});c.ADD_AUDIO_NACK&&d.push(function(a){return b("FBRTCSdpUtils").addAudioNack(a)});c.DISABLE_OPUS_STEREO&&d.push(function(a){return b("FBRTCSdpUtils").addFmtp(a,"opus","stereo","0")});var i=c.SSRC_CONTENT_TYPE;i&&d.push(function(a){return b("FBRTCSdpUtils").addSSRCContentType(a,i)});this.$1=d.reduce(function(a,b){return b(a)},a)};c.processServerMediaUpdate=function(a){var c=a.sourceKey,d=a.media,e=a.ssrcGroups,f=[],g=[];d.forEach(function(a){a.ssrcs.forEach(function(d){d={ssrc:d,cname:c,msid:{id:c,appdata:a.id},label:a.id,mslabel:c};b("FBRTCMediaType").AUDIO===a.type?f.push(d):b("FBRTCMediaType").VIDEO===a.type&&g.push(d)})});this.mediaDescriptions.forEach(function(a){a.getMediaType()===E?(a.addStreamsForEndpoint(c,f),a.addSsrcGroupsForEndpoint(c,e)):a.getMediaType()===F&&(a.addStreamsForEndpoint(c,g),a.addSsrcGroupsForEndpoint(c,e))})};c.toDesc=function(){return new i({type:this.type,sdp:this.toSdp()})};c.toSdp=function(){var a=this.$2;switch(a){case h.MULTIWAY:return[this.sessionDescription.toSdp(),this.mediaDescriptions.map(function(a){return a.toSdp()}).join(D),""].join(D);case h.CUSTOM:case h.P2P:default:return this.$1}};c.strongDiff=function(a){var b=this.toSdp();a=a.toSdp();return b!==a&&this.$5(b)!==this.$5(a)};c.$5=function(a){return this.$6(a).split("\r\n").filter(function(a){return!/^a=(candidate|setup):/.test(a)}).join("\r\n")};c.$6=function(a){return a.replace(/(o=\S+\s\S+)\s\S+\s/,"$1 - ")};return a}();e.exports=a}),null);
__d("RTCP2PCallEscalationActions",["RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={start:function(){b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_START"})},setRequest:function(a){b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_SET_REQUEST",request:a})},cancel:function(){b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_FAILURE",reason:"cancelled"})},timeout:function(){b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_FAILURE",reason:"timeout"})},handleACK:function(a){b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_ACK",token:a})},approve:function(){b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_SUCCESS"})},decline:function(a){b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_FAILURE",reason:"denied",token:a,response:!1})},setResponse:function(a){b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_SET_RESPONSE",response:a})},parseResponse:function(a,c){a?b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_SUCCESS",token:c}):b("RTCAppDispatcher").dispatch({type:"P2P_CALL_ESCALATION_FAILURE",reason:"denied",token:c,response:!1})},muteRemoteVideo:function(){b("RTCAppDispatcher").dispatch({type:"REMOTE_VIDEO_MUTED"})},setEscalateToMediaStream:function(a){b("RTCAppDispatcher").dispatch({type:"SET_P2P_CALL_ESCALATION_MEDIA",stream:a})}};e.exports=a}),null);
__d("RTCP2PCallEscalator",["Promise","FBRTCCallSummaryStore","FBRTCConsoleLogger","FBRTCConstants","FBRTCPeerConnection","FBRTCSupport","RTCCallStore","RTCP2PCallEscalationActions","RTCP2PCallEscalationStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCUtils","dangerouslyBypassDispatchError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").PayloadType,h=25e3;a=function(){__p&&__p();a.initVideoInAudioCall=function(){return b("FBRTCSupport").videoEscalationByUnmuteWorkaround()};a.isEscalated=function(){return b("RTCP2PCallEscalationStore").isEscalated()};a.isNegotiationAllowed=function(){return b("RTCP2PCallEscalationStore").isNegotiationAllowed()};function a(a,b,c){this.$3=a,this.$1=b,this.$2=c,this.$6()}var c=a.prototype;c.$6=function(){__p&&__p();var a=this,c=b("RTCP2PCallEscalationStore").getState();this.$4=b("RTCP2PCallEscalationStore").addListener(function(){__p&&__p();var d=b("RTCP2PCallEscalationStore").getState();if(d===c)return;!d.awaitingACK&&d.awaitingACK!==c.awaitingACK&&!d.inProgress&&window.clearTimeout(a.$5);if(d.callType!==c.callType&&d.inProgress){var e=b("RTCCallStore").getState();e=e.callSummary;e.setCallType(d.callType);e.save(b("FBRTCCallSummaryStore").getInstance())}c=d})};c.destroy=function(){i("P2P Escalator %o","destroy"),this.$4.remove(),window.clearTimeout(this.$5)};c.generateRequestToken=function(a){__p&&__p();var c=b("RTCP2PCallEscalationStore").getState();c=c.token;if(c!=null&&a){i("P2P Escalator %o","request token","reuse");return c}i("P2P Escalator %o","request token");c=this.$2.sendVideoEscalationRequest(this.$3,this.$1,a);window.clearTimeout(this.$5);this.$5=this.$7();return c.msg_id.toString()};c.generateResponseToken=function(a,c){__p&&__p();var d=b("RTCP2PCallEscalationStore").getState();d=d.token;if(d!=null){i("P2P Escalator %o","response token","reuse");return d}i("P2P Escalator %o %o %o","response token",c,a);d=a.peerID;var e=a.callID;a=a.msgID;d=this.$2.sendVideoRequestResponse(d,e,a,c);window.clearTimeout(this.$5);var f=d.msg_id.toString();!c?b("dangerouslyBypassDispatchError")(function(){return b("RTCP2PCallEscalationActions").decline(f)}):this.$5=this.$7();return f};c.$7=function(){return window.setTimeout(b("RTCP2PCallEscalationActions").timeout,h)};c.parseMessage=function(a){i("P2P Escalator %o","parse message",this.$3,a.msgType);switch(a.msgType){case g.VIDEO_REQUEST:a.ackID?this.$8(a):this.$9(a);break;case g.ACK:a.msg.ack_type===g.VIDEO_REQUEST&&b("RTCP2PCallEscalationActions").handleACK(a.ackID.toString());break}};c.$8=function(c){i("P2P Escalator %o","parse response",c);var d=c.ackID.toString();b("RTCP2PCallEscalationStore").getToken()===d&&this.$10(c);b("RTCP2PCallEscalationActions").parseResponse(a.requestVideoOn(c.msg),d);window.clearTimeout(this.$5)};c.$9=function(c){__p&&__p();i("P2P Escalator %o","parse request",c);if(b("RTCP2PCallEscalationStore").isInProgress()&&!a.requestVideoOn(c.msg)){b("RTCP2PCallEscalationStore").didCurrentUserInitiate()?b("RTCP2PCallEscalationActions").cancel():(this.$10(c),b("RTCP2PCallEscalationActions").setRequest(c));return}if(b("RTCP2PCallEscalationStore").isInProgress()&&b("RTCP2PCallEscalationStore").didCurrentUserInitiate()){i("P2P Escalator %o","auto-approve","mutual consent");b("RTCP2PCallEscalationActions").approve();this.$10(c);this.generateResponseToken(c,!0);return}if(b("RTCP2PCallEscalationStore").isEscalated()){a.requestVideoOn(c.msg)?(i("P2P Escalator %o","auto-approve"),this.$10(c),this.generateResponseToken(c,!0),window.clearTimeout(this.$5)):(i("P2P Escalator %o","mute remote video"),b("RTCP2PCallEscalationActions").muteRemoteVideo());return}i("P2P Escalator %o %o","request",c);this.$10(c);b("RTCP2PCallEscalationActions").setRequest(c)};c.$10=function(a){var b=a.peerID,c=a.callID;a=a.msg;i("P2P Escalator %o","ACK","sent");this.$2.sendAck(b,c,a)};a.requestVideoOn=function(a){var b=a.reqVideoOn;a=a.videoon;return Boolean(b||a)};a.initEscalation=function(){__p&&__p();var a=b("RTCP2PCallStore").getState(),c=a.protocolHandler;a=b("RTCCallStore").getState();a=a.localUser;var d=a.getStream();a=a.hasVideo();return(d&&a?b("Promise").resolve(d).then(function(a){c.updateLocalVideoTracker();return a}):b("RTCP2PProtocolHandler").initStream(!0).then(function(a){c.startLocalVideoTracker(a);return a})).then(function(a){b("RTCP2PCallEscalationActions").setEscalateToMediaStream(a);b("RTCP2PCallEscalationActions").start();return a})};a.onEscalationSucceeded=function(){__p&&__p();var c=b("RTCP2PCallEscalationStore").getEscalateMediaStream(),d=b("RTCCallStore").getState();d=d.localUser;if(d.getStream()===c){var e=b("RTCCallStore").getState();e=e.remoteUsers;d.toggleMuteVideo(!1);e.first()&&e.first().toggleMuteVideo(!1)}else c&&b("dangerouslyBypassDispatchError")(function(){a.updateEscalationStream(c)})};a.onEscalationFailed=function(){__p&&__p();var a=b("RTCP2PCallEscalationStore").getEscalateMediaStream(),c=b("RTCCallStore").getState();c=c.localUser;if(c.getStream()===a){var d=b("RTCCallStore").getState();d=d.remoteUsers;c.toggleMuteVideo(!0);d.first()&&d.first().toggleMuteVideo(!0)}else if(a){b("RTCUtils").stopMediaStream(a);c=b("RTCP2PCallStore").getState();d=c.protocolHandler;d.updateLocalVideoTracker()}};a.acceptEscalation=function(c){__p&&__p();var d=b("RTCCallStore").getState(),e=d.localUser;d=d.remoteUsers;c=Boolean(c==null?void 0:c.muteVideo);if(e.hasVideo()){e.toggleMuteVideo(c);d.first()&&d.first().toggleMuteVideo(!1);d=b("RTCP2PCallStore").getState();d=d.protocolHandler;d.updateLocalVideoTracker();b("RTCP2PCallEscalationActions").setResponse(!0);return b("Promise").resolve(e.streams.first())}else return b("RTCP2PProtocolHandler").initStream(!c).then(function(c){b("RTCP2PCallEscalationActions").setResponse(!0);a.updateEscalationStream(c);return c})};a.declineEscalation=function(){b("RTCP2PCallEscalationActions").setResponse(!1)};a.updateEscalationStream=function(a){__p&&__p();var c=b("RTCCallStore").getState().localUser.getStream();if(b("FBRTCPeerConnection").doesBrowserSupportAddTrack()&&c){for(var d=a.getVideoTracks(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.addTrack(g)}g=b("RTCP2PCallStore").getState();f=g.protocolHandler;f.updateAddedTracksForFirefoxVideoEscalation(c)}else b("RTCP2PProtocolHandler").replaceLocalStream(a)};return a}();a.ACK_TIMEOUT=h;function i(){}e.exports=a}),null);
__d("CreateMessengerCallInviteLinkMutation",["Promise","RelayFBEnvironment","RelayModern","VideoChatLinksUserActionsTypedLogger","CreateMessengerCallInviteLinkMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("CreateMessengerCallInviteLinkMutation.graphql");function a(a){__p&&__p();return new(b("Promise"))(function(c,d){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{conference_name:a}},optimisticUpdater:null,onCompleted:function(a){a=(a=a.create_messenger_call_invite_link)==null?void 0:(a=a.messenger_call_invite_link)==null?void 0:a.link_url;if(a!=null)c({linkUrl:a});else{a=new Error("No link_url returned from server.");j(a.message);d(a)}},onError:function(a){j(a.message),d(a)}})})}function j(a){new(b("VideoChatLinksUserActionsTypedLogger"))().setSurface("www_incall").setEvent("error").setErrorType("CreateMessengerCallInviteLinkMutationError").setErrorDetails(a).log()}e.exports=a}),null);
__d("RTCCallNUXActions",["FBRTCLogger","FBRTCUtils","RTCAppDispatcher","XRTCCallNUXController","dangerouslyBypassDispatchError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={refreshNUXState:function(){b("FBRTCUtils").sendServerRequest(b("XRTCCallNUXController").getURIBuilder().getURI(),function(a){a=a.payload;b("RTCAppDispatcher").dispatch({type:"INIT_NUX_STATE",payload:a})},function(){})},markNUXViewed:function(a){try{b("RTCAppDispatcher").dispatch({type:"MARK_NUX_VIEWED",nuxID:a})}catch(c){b("dangerouslyBypassDispatchError")(function(){return b("RTCAppDispatcher").dispatch({type:"MARK_NUX_VIEWED",nuxID:a})})}},dismissNUX:function(a){b("RTCAppDispatcher").dispatch({type:"DISMISS_NUX",nuxID:a})}};e.exports=a}),null);
__d("RTCOneVCActions",["RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";a={storeParticipants:function(a){b("RTCAppDispatcher").dispatch({type:"STORE_PARTICIPANTS",participants:a})},setMeetingID:function(a){b("RTCAppDispatcher").dispatch({type:"SET_MEETING_ID",meetingID:a})},setMeetingPassword:function(a){b("RTCAppDispatcher").dispatch({type:"SET_MEETING_PASSWORD",meetingPassword:a})}};e.exports=a}),null);
__d("RTCPeerConnectionQueue",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.push=function(a,b){switch(a){case"add":this.$1.push(b);break;case"remove":this.$2.push(b);break}};b.drain=function(){this.$3(this.$2),this.clear("remove"),this.$3(this.$1),this.clear("add")};b.$3=function(a){__p&&__p();if(a.length<1)return;for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;try{d()}catch(a){}}};b.clear=function(a){switch(a){case"add":this.$1=[];break;case"remove":this.$2=[];break;default:this.$1=[],this.$2=[]}};return a}();e.exports=a}),null);
__d("RTCAudio.react",["cx","FBRTCUtils","MediaStream","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx("audio",{autoPlay:!0,className:b("joinClasses")(this.props.className,"_8md"),controls:!1,muted:this.props.muted,ref:function(b){return a.$1=b}})};d.componentDidMount=function(){this.$2(),this.$3()};d.$2=function(){__p&&__p();if(!this.$1)return;var a=this.props.mediaStream;if(a&&a.getVideoTracks().length>0){var c=new(b("MediaStream"))();for(var d=a.getAudioTracks(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.addTrack(g)}b("FBRTCUtils").attachMediaStream(this.$1,c)}else b("FBRTCUtils").attachMediaStream(this.$1,a)};d.$3=function(){if(!this.$1)return;var a=this.props.audioSinkID;a&&this.$1.setSinkId&&this.$1.setSinkId(a)};d.componentDidUpdate=function(a){var b=a.audioSinkID;a=a.mediaStream;a!==this.props.mediaStream&&this.$2();b!==this.props.audioSinkID&&this.$3()};return c}(a);c.defaultProps={muted:!1};e.exports=c}),null);
__d("RTCIncallAudio.react",["React","RTCAudio.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.audioSinkID;a.className;var d=a.mediaStream;a=babelHelpers.objectWithoutPropertiesLoose(a,["audioSinkID","className","mediaStream"]);return b("React").jsx("div",babelHelpers["extends"]({},a,{children:b("React").jsx(b("RTCAudio.react"),{audioSinkID:c,mediaStream:d})}))};return c}(a);e.exports=c}),null);
__d("LivingRoomMessageSubscription",["LivingRoomActorUtils","RelayModern","LivingRoomMessageSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("LivingRoomMessageSubscription.graphql");function a(a,b,c){var d={input:b};return h(b.living_room_id,function(b){return i(a,{subscription:j,variables:d,onNext:c.onNext})})}e.exports={subscribe:a}}),null);
__d("LivingRoomStateBasedTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:LivingRoomStateBasedLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:LivingRoomStateBasedLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LivingRoomStateBasedLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientPlayerFormat=function(a){this.$1.client_player_format=a;return this};c.setClientPlayerOffsetMs=function(a){this.$1.client_player_offset_ms=a;return this};c.setClientPlayerState=function(a){this.$1.client_player_state=a;return this};c.setClientPresenceCount=function(a){this.$1.client_presence_count=a;return this};c.setLiveClockTimeMs=function(a){this.$1.live_clock_time_ms=a;return this};c.setLivingRoomID=function(a){this.$1.living_room_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={client_player_format:!0,client_player_offset_ms:!0,client_player_state:!0,client_presence_count:!0,live_clock_time_ms:!0,living_room_id:!0,time:!0,vc:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("SpeedtestResultsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:SpeedtestResultsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:SpeedtestResultsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SpeedtestResultsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAvgLatency=function(a){this.$1.avg_latency=a;return this};c.setAvgMbps=function(a){this.$1.avg_mbps=a;return this};c.setCdnHostname=function(a){this.$1.cdn_hostname=a;return this};c.setNumConcurrentRequests=function(a){this.$1.num_concurrent_requests=a;return this};c.setNumRequests=function(a){this.$1.num_requests=a;return this};c.setRequestSize=function(a){this.$1.request_size=a;return this};c.setTestDuration=function(a){this.$1.test_duration=a;return this};c.setTestType=function(a){this.$1.test_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={avg_latency:!0,avg_mbps:!0,cdn_hostname:!0,num_concurrent_requests:!0,num_requests:!0,request_size:!0,test_duration:!0,test_type:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("VideosInfraLoapTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setEventCreationTime=function(a){this.$1.event_creation_time=a;return this};c.setEventID=function(a){this.$1.event_id=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setEventSeverity=function(a){this.$1.event_severity=a;return this};c.setMetadata=function(a){this.$1.metadata=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setParentSource=function(a){this.$1.parent_source=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStreamID=function(a){this.$1.stream_id=a;return this};c.setStreamType=function(a){this.$1.stream_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTraceID=function(a){this.$1.trace_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={clienttime:!0,event_creation_time:!0,event_id:!0,event_name:!0,event_severity:!0,metadata:!0,parent_source:!0,source:!0,stream_id:!0,stream_type:!0,time:!0,trace_id:!0,weight:!0};e.exports=a}),null);
__d("ReactComposerLiveBroadcastPreviewActions",["ReactComposerDispatcher","ReactComposerLiveBroadcastPreviewActionType","ReactComposerLiveBroadcastPreviewStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerLiveBroadcastPreviewStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.setBroadcastConfig=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_CONFIG,config:c})};c.setContentTags=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_CONTENT_TAGS,contentTags:c})};c.setAttributionTag=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_TAG,attributionTag:c})};c.setHasVideoStream=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_HAS_VIDEO_STREAM,hasVideoStream:c})};c.setSelectedTab=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_SELECTED_TAB,key:c})};c.setTitle=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_TITLE,title:c})};c.setShouldBlockComments=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_SHOULD_BLOCK_COMMENTS,shouldBlockComments:c})};c.setCommentModes=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_COMMENT_MODES,commentModes:c})};c.setCopyrighted=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHTED,copyrighted:c})};c.setEmbeddable=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_EMBEDDABLE,embeddable:c})};c.setDisturbing=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_DISTURBING,disturbing:c})};c.setVodDisabled=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_VOD_DISABLED,vodDisabled:c})};c.setCopyrightContentCategory=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_CONTENT_CATEGORY,selectedCategory:c})};c.setDidClickSave=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_DID_CLICK_SAVE,didClickSave:c})};c.setCopyrightMonitoringType=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:c})};c.setCopyrightRuleID=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_RULE_ID,copyrightRuleID:c})};c.setCopyrightWhitelistedFBUsers=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_FB_USERS,copyrightWhitelistedFBUsers:c})};c.setCopyrightWhitelistedIGUserNames=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_IG_USERNAMES,copyrightWhitelistedIGUserNames:c})};c.setCopyrightOwnershipCountries=function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:c,areCopyrightCountriesIncluded:d})};c.setPostFinished=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_POST_FINISHED,postFinished:c})};c.setBroadcastType=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_TYPE,ambientChecked:c})};c.setManualGoLive=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_MANUAL_GO_LIVE,isManualGoLive:c})};c.setEpisodeData=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLiveBroadcastPreviewActionType").SET_EPISODE_DATA,episodeData:c})};return a}();e.exports=new a()}),null);
__d("SUITabGroupUniform",[],(function(a,b,c,d,e,f){"use strict"}),null);
__d("LiveVideoBadge.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","asset","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){var c=a.position;a=a.viewerCount;return b("React").jsxs(b("FlexLayout.react"),{className:"_7wu2"+(c==="topLeft"?" _7wu3":"")+(c==="bottomRight"?" _7wu4":""),children:[b("React").jsx(b("FlexLayout.react"),{align:"center",className:"_7wu5",children:i._("LIVE")}),a==null?null:b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_7wu6",children:[b("React").jsx(b("Image.react"),{className:"_7wu7",src:g("532614")}),b("React").jsx("span",{children:b("intlSummarizeNumber")(a)})]})]})}e.exports=a}),null);
__d("LiveVideoBroadcastErrorCreateSubscription",["ChannelManager","RelayModern","RelayRuntime","LiveVideoBroadcastErrorCreateSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("LiveVideoBroadcastErrorCreateSubscription.graphql"),k=["LiveVideoBroadcastErrorLogs_errors","LiveVideoBroadcastHealthTray_errors"];b("ChannelManager").startChannelManager();function a(a,b,c){__p&&__p();var d={input:b},e=function(a,c){__p&&__p();var d=b.video_id;d=a.get(d);if(d==null)return;d=d.getLinkedRecord("input_streams");if(d==null)return;d=d.getLinkedRecords("nodes");if(d==null||d.length<1)return;var e=d[0];if(e==null)return;k.forEach(function(b){__p&&__p();var d;b=i.getConnection(e,b);if(b==null)return;d=(d=c.live_video_mutation_error_subscribe)==null?void 0:(d=d.live_video_error)==null?void 0:d.id;if(d==null)return;d=a.get(d);if(d==null)return;var f=parseInt(b.getValue("count"),10);b.setValue(f+1,"count");f=i.createEdge(a,b,d,"LiveVideoErrorsEdge");i.insertEdgeAfter(b,f)})};return h(a,{subscription:j,variables:d,updater:e,onCompleted:c==null?void 0:c.onCompleted,onError:c==null?void 0:c.onError,onNext:c==null?void 0:c.onNext})}e.exports={subscribe:a}}),null);
__d("MediaRecorder",[],(function(a,b,c,d,e,f){e.exports=window.MediaRecorder}),null);
__d("LiveVideoLiveTraceBroadcasterLogger",["CurrentUser","UserAgentData","VideosInfraLoapTypedLogger","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="BROADCASTER";a=function(){__p&&__p();function a(){}var c=a.prototype;c.logCreateEvent=function(a,c){c={u:b("CurrentUser").getID(),appID:c.toString()};b("UserAgentData").browserName!=null&&(c.browser=b("UserAgentData").browserName);b("UserAgentData").browserFullVersion!=null&&(c.browserVer=b("UserAgentData").browserFullVersion);this.$1("CREATE",a,0,"","INFO",c)};c.logBeginEvent=function(a){var b={};this.$1("BEGIN",a,0,"","INFO",b)};c.$1=function(a,c,d,e,f,h){var i=Date.now(),j=b("guid")();c=new(b("VideosInfraLoapTypedLogger"))().setStreamID(c).setEventID(j).setStreamType(0).setEventName(a).setEventSeverity(f).setEventCreationTime(i).setSource(g).setTraceID(d).setParentSource(e).setMetadata(h);c.log()};return a}();e.exports=new a()}),null);
__d("XLiveComposerPrivacySelectorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/broadcast/audienceSelector/",{video_id:{type:"FBID"},target_id:{type:"FBID"}})}),null);
__d("XLiveVideoBroadcastHandleScheduledLiveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video_broadcast/handle_schedule/",{broadcast_id:{type:"FBID"},schedule_custom_profile_image_focus:{type:"StringToFloatMap"},schedule_feed_background_image_focus:{type:"StringToFloatMap"},planned_start_time:{type:"Int"},enable_manual_mode:{type:"Bool",defaultValue:!1}})}),null);
__d("LiveVideoBroadcastAPIBroadcastStore",["fbt","ActorURI","Arbiter","AsyncRequest","Bootloader","ErrorDialog","FluxMapStore","Form","GraphAPI","LiveVideoBroadcastActions","LiveVideoBroadcastAPIActions","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastConstants","LiveVideoBroadcastDispatcher","LiveVideoBroadcastErrorCreateSubscription","LiveVideoBroadcastIDStore","LiveVideoBroadcastUIStore","LiveVideoBroadcastUtils","SkywalkerManager","XLiveComposerPrivacySelectorController","XLiveVideoBroadcastHandleScheduledLiveController","immutable","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(a=b("LiveVideoBroadcastConstants")).ACTIONS,i=a.ENCODER_TYPE,j=a.INPUT_SOURCE,k=a.STREAM_VALIDATION_STATUS,l=b("LiveVideoBroadcastErrorCreateSubscription").subscribe;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({apiLivePreviewPlaying:!1,areCountriesIncluded:!1,copyrightWhitelistedFBUsers:[],copyrightWhitelistedIGUserNames:[],errorCount:null,is360Video:!1,is360Audio:!1,isContentProtectionEnabled:!1,isSingleFisheye:!1,singleFisheyeFOV:0,sphericalConfigSelectorValue:null,isContinuous:!1,isCopyrighted:!1,isEmbeddable:!0,isScheduledManualMode:!1,isUpdateRequestPending:!1,ownershipCountries:[],scheduleStartTime:null,shouldExpireAfterGoLive:!1,shouldShowGraphicContentWarning:!1,showEventLogDialog:!1,selectedInputStreamIndex:0,streamURLs:null,usePersistentStreamKeyByDefault:null,isRehearsal:!1,allowUnsecureRTMP:!1,streamValidationStatus:k.IN_PROGRESS,shouldShowLiveProducerUpsellNux:null})};d.reduce=function(a,c){__p&&__p();switch(c.type){case h.START_BROADCAST_SUCCESS:b("Arbiter").inform("BroadcastDialog/liveStarted",{broadcastID:this.get("apiBroadcastID")});break;case h.CLEANUP:a=this.getInitialState();this.$LiveVideoBroadcastAPIBroadcastStore3();break;case h.API_BROADCAST_CREATED:a=a.set("apiBroadcastID",c.id);a=a.set("streamURLs",c.streamURLs);a=a.set("apiVideoID",c.videoID);a=a.set("apiEmbedHTML",c.apiEmbedHTML);a=a.set("apiLivePreviewPlaying",!1);a=a.set("errorCount",0);a=a.set("attributionAppID",c.attributionAppID);a=a.set("isRehearsal",c.isRehearsal);a=a.set("allowUnsecureRTMP",c.allowUnsecureRTMP);this.$LiveVideoBroadcastAPIBroadcastStore4(c.id);this.$LiveVideoBroadcastAPIBroadcastStore5(c.videoID);this.$LiveVideoBroadcastAPIBroadcastStore6(c.actorID,c.videoID,c.targetID);break;case h.BROADCAST_ERROR_RECEIVED:a=a.set("errorCount",this.get("errorCount")+1);break;case h.API_BROADCAST_LIVE_PREVIEW_PLAYING:a=a.set("apiLivePreviewPlaying",c.livePreviewPlaying);break;case h.ADD_INPUT_STREAM:var d=b("LiveVideoBroadcastUIStore").getState().toObject();d=d.accessToken;var f=b("LiveVideoBroadcastBroadcastStore").getState().toObject();f=f.actorID;d=b("LiveVideoBroadcastUtils").createInputStream(d,a.get("apiBroadcastID"),f);b("promiseDone")(d,function(a){b("LiveVideoBroadcastAPIActions").updateBackupInputStream(a.stream_url,a.secure_stream_url)});break;case h.FINISH_BROADCAST_REQUEST:this.$LiveVideoBroadcastAPIBroadcastStore7();break;case h.DELETE_API_REPLAY_VIDEO:this.$LiveVideoBroadcastAPIBroadcastStore8();break;case h.SET_API_BROADCAST_PRIVACY_SELECTOR:a=a.set("apiComposerPrivacySelector",c.apiComposerPrivacySelector);break;case h.SET_TARGET:case h.CLEAR_API_BROADCAST_ID:a=a.set("apiBroadcastID",null);a=a.set("apiLivePreviewPlaying",!1);a=a.set("errorCount",0);a=a.set("usePersistentStreamKeyByDefault",null);a=a.set("isContentProtectionEnabled",!1);break;case h.SET_CONTENT_PROTECTION_ENABLED:a=a.set("isContentProtectionEnabled",c.enabled);a=a.set("apiBroadcastID",null);break;case h.SET_IS_360_VIDEO:a=a.set("is360Video",c.value);a=a.set("is360Audio",!1);a=a.set("isSingleFisheye",!1);a=a.set("singleFisheyeFOV",180);a=a.set("sphericalConfigSelectorValue",null);a=a.set("apiBroadcastID",null);break;case h.SET_IS_360_AUDIO:a=a.set("is360Audio",c.value);c.value&&(a=a.set("isSingleFisheye",!1));a=a.set("apiBroadcastID",null);break;case h.SET_SCHEDULED_LIVE_DATA:c.isManualMode!=null&&(a=a.set("isScheduledManualMode",c.isManualMode));c.scheduleStartTime!=null&&(a=a.set("scheduleStartTime",c.scheduleStartTime));break;case h.SET_IS_SINGLE_FISHEYE:a=a.set("isSingleFisheye",c.value);a=a.set("singleFisheyeFOV",180);c.value&&(a=a.set("is360Audio",!1));a=a.set("apiBroadcastID",null);break;case h.SET_SINGLE_FISHEYE_FOV:a=a.set("singleFisheyeFOV",c.value);a=a.set("apiBroadcastID",null);break;case h.UPDATE_360_CONFIGURATION:a=a.set("sphericalConfigSelectorValue",c.value);c.value&&c.value.getAuxiliaryData().projection==="single_fish_eye"&&(a=a.set("singleFisheyeFOV",180),a=a.set("is360Audio",!1));a=a.set("apiBroadcastID",null);break;case h.SET_EMBEDDABLE:a=a.set("isEmbeddable",c.value);break;case h.SCHEDULED_LIVE_REQUEST:this.$LiveVideoBroadcastAPIBroadcastStore9(c.actorID,c.broadcastID,c.plannedStartTime,c.customProfileImage,c.customProfileImageFocus,c.feedBackgroundImage,c.feedBackgroundFocus,c.customAnnouncementThumbnail,c.enableManualMode,c.announcementPostMessage);break;case h.SET_SHOULD_EXPIRE_AFTER_GO_LIVE:a=a.set("shouldExpireAfterGoLive",c.value);break;case h.SET_SHOULD_SHOW_GRAPHIC_CONTENT_WARNING:a=a.set("shouldShowGraphicContentWarning",c.value);break;case h.SET_SHOW_EVENT_LOG_DIALOG:a=a.set("showEventLogDialog",c.value);break;case h.SET_CONTINUOUS:a=a.set("isContinuous",c.value);break;case h.SET_COPYRIGHTED:a=a.set("isCopyrighted",c.value);break;case h.SET_COPYRIGHT_MONITORING_TYPE:a=a.set("copyrightMonitoringType",c.value);break;case h.SET_COPYRIGHT_CONTENT_CATEGORY:a=a.set("selectedCategory",c.value);break;case h.SET_COPYRIGHT_OWNERSHIP_COUNTRIES:a=a.set("areCountriesIncluded",c.areCountriesIncluded);a=a.set("ownershipCountries",c.ownershipCountries);break;case h.SET_COPYRIGHT_RULE_ID:a=a.set("copyrightRuleID",c.value);break;case h.UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:a=a.set("copyrightWhitelistedFBUsers",c.value);break;case h.UPDATE_COPYRIGHT_WHITELISTED_IG_USERNAMES:a=a.set("copyrightWhitelistedIGUserNames",c.value);break;case h.UPDATE_BACKUP_INPUT_STREAM:f=Object.assign({},a.get("streamURLs"));f.backupStreamURL=c.backupStreamURL;f.backupSecureStreamURL=c.backupSecureStreamURL;a=a.set("streamURLs",f);break;case h.API_GO_LIVE_CLICKED:a=a.set("isUpdateRequestPending",!0);break;case h.ERROR_STARTING_API_BROADCAST:a=a.set("isUpdateRequestPending",!1);break;case h.SET_IS_REHEARSAL:a=a.set("isRehearsal",c.value);a=a.set("apiBroadcastID",null);break;case h.UPDATE_UI_CONFIG:c.values.usePersistentStreamKeyByDefault!=void 0&&(a=a.set("usePersistentStreamKeyByDefault",c.values.usePersistentStreamKeyByDefault));c.values.broadcastType!=void 0&&(a=a.set("isContinuous",c.values.broadcastType===1));c.values.shouldExpireAfterGoLive!=void 0&&(a=a.set("shouldExpireAfterGoLive",c.values.shouldExpireAfterGoLive));c.values.shouldShowGraphicContentWarning!=void 0&&(a=a.set("shouldShowGraphicContentWarning",c.values.shouldShowGraphicContentWarning));c.values.isEmbeddable!=void 0&&(a=a.set("isEmbeddable",c.values.isEmbeddable));a=a.set("shouldShowLiveProducerUpsellNux",c.values.shouldShowLiveProducerUpsellNux===!0);break;case h.SET_SELECTED_ENCODER_TYPE:if(c.encoderType===i.STREAM_KEY){d=b("LiveVideoBroadcastUIStore").getState().toObject();f=d.accessToken;b("GraphAPI")("2.8",e.id).object("live_video",a.get("apiBroadcastID")).post({access_token:f,live_encoders:[]})}break;case h.SET_SELECTED_INPUT_STREAM_INDEX:a=a.set("selectedInputStreamIndex",c.value);break;case h.SET_STREAM_VALIDATION_STATUS:a=a.set("streamValidationStatus",c.value);break;default:break}return a};d.$LiveVideoBroadcastAPIBroadcastStore4=function(a){this.$LiveVideoBroadcastAPIBroadcastStore1&&this.$LiveVideoBroadcastAPIBroadcastStore1.unsubscribe(),this.$LiveVideoBroadcastAPIBroadcastStore1=b("SkywalkerManager").subscribe("video/broadcast/error/"+a,function(){return b("LiveVideoBroadcastAPIActions").broadcastErrorReceived()})};d.$LiveVideoBroadcastAPIBroadcastStore5=function(a){var c=this;this.$LiveVideoBroadcastAPIBroadcastStore3();b("Bootloader").loadModules(["RelayFBEnvironment"],function(d){c.$LiveVideoBroadcastAPIBroadcastStore2=l(d,{video_id:a},{onError:function(){b("LiveVideoBroadcastActions").errorCreatingBroadcastErrorLogSusbscription(),c.$LiveVideoBroadcastAPIBroadcastStore2=null}})},"LiveVideoBroadcastAPIBroadcastStore")};d.$LiveVideoBroadcastAPIBroadcastStore3=function(){if(this.$LiveVideoBroadcastAPIBroadcastStore2==null)return;this.$LiveVideoBroadcastAPIBroadcastStore2.dispose();this.$LiveVideoBroadcastAPIBroadcastStore2=null};d.$LiveVideoBroadcastAPIBroadcastStore9=function(a,c,d,e,f,g,h,i,j,k){k=b("XLiveVideoBroadcastHandleScheduledLiveController").getURIBuilder().getURI();k=b("ActorURI").create(k,a);a={broadcast_id:c,enable_manual_mode:!!j,planned_start_time:d,schedule_custom_profile_image_focus:f,schedule_feed_background_image_focus:h};c=this.$LiveVideoBroadcastAPIBroadcastStore10.bind(this,j);d=b("Form").createFormData(a);e!=null&&d.append("schedule_custom_profile_image",e);i!=null&&d.append("schedule_custom_background_image",i);g!=null&&d.append("schedule_feed_background_image",g);new(b("AsyncRequest"))(k).setAllowCrossOrigin(!1).setMethod("POST").setRawData(d).setErrorHandler(this.$LiveVideoBroadcastAPIBroadcastStore11).setHandler(c).send()};d.$LiveVideoBroadcastAPIBroadcastStore10=function(a){a?(b("LiveVideoBroadcastActions").setScheduledLiveData(!0,null),b("LiveVideoBroadcastActions").scheduledLiveSuccess(!1)):b("LiveVideoBroadcastActions").scheduledLiveSuccess(!0)};d.$LiveVideoBroadcastAPIBroadcastStore11=function(a,c){b("LiveVideoBroadcastActions").scheduledLiveFail(c!=null?c.getResponse():null)};d.$LiveVideoBroadcastAPIBroadcastStore6=function(a,c,d){var e=b("XLiveComposerPrivacySelectorController").getURIBuilder();e=b("ActorURI").create(e.getURI(),a);new(b("AsyncRequest"))().setURI(e).setData({video_id:c,target_id:d}).setMethod("POST").send()};d.$LiveVideoBroadcastAPIBroadcastStore7=function(){var a=b("LiveVideoBroadcastUIStore").getState().toObject();a=a.inputSource;if(a===j.CAMERA)return;b("Bootloader").loadModules(["ModernLiveVideoEndMutation","RelayFBEnvironment"],function(a,c){a.commit(c,{videoID:b("LiveVideoBroadcastIDStore").get("videoID")},{onCompleted:function(){b("LiveVideoBroadcastActions").finishBroadcastSuccess()},onError:function(a){b("LiveVideoBroadcastActions").errorEndBroadcastMutationFail(a),b("ErrorDialog").show(g._("End broadcast error"),g._("Error ending broadcast, please try again"))}})},"LiveVideoBroadcastAPIBroadcastStore")};d.$LiveVideoBroadcastAPIBroadcastStore8=function(){var a=this.get("apiVideoID");a&&b("LiveVideoBroadcastBroadcastStore").deleteVideo(a)};return c}(b("FluxMapStore"));c.__moduleID=e.id;e.exports=new c(b("LiveVideoBroadcastDispatcher"))}),null);
__d("StreamingSDKUtils",["FBLogger"],(function(a,b,c,d,e,f){"use strict";a={dcheck:function(a){a||b("FBLogger")("www_livestreaming").info("Check failed")},check:function(a){a||b("FBLogger")("www_livestreaming").mustfix("Check failed")}};e.exports=a}),null);
__d("ComponentWithContext",["StreamingSDKUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=!1,this.$2=!1,this.$3=!1,this.$6=!1}var c=a.prototype;c.onInitialize=function(){};c.onUninitialize=function(){};c.onStarted=function(){};c.onStopped=function(){};c.onPaused=function(){};c.onResumed=function(){};c.doInitialize=function(){b("StreamingSDKUtils").check(!this.$3),this.$3=!0,this.onInitialize()};c.doUninitialize=function(){this.$3&&(this.$3=!1,this.onUninitialize())};c.doStarted=function(){b("StreamingSDKUtils").check(!this.$2),this.$2=!0,this.onStarted()};c.doStopped=function(){this.$2&&(this.$2=!1,this.onStopped())};c.doPaused=function(){b("StreamingSDKUtils").check(!this.$1),this.$1=!0,this.onPaused()};c.doResumed=function(){b("StreamingSDKUtils").check(this.$1),this.$1=!1,this.onResumed()};c.doStartedOrResumed=function(){this.$1?(this.$1=!1,this.onResumed()):this.doStarted()};c.isPaused=function(){return this.$1};c.isInitialized=function(){return this.$3};c.isStarted=function(){return this.$2};c.attachServiceBus=function(a){__p&&__p();var b=this;this.$5=a;this.getRequiredServices().forEach(function(b){if(!a.hasService(b))throw new Error("Cannot find required service "+b)});this.$6=!1;this.getDeferrableServices().forEach(function(c){if(!a.hasService(c)){b.$6=!0;return}})};c.detachServiceBus=function(){this.$5=null};c.getServiceBus=function(){return this.$5};c.getRequiredServices=function(){return[]};c.getOptionalServices=function(){return[]};c.getDeferrableServices=function(){return[]};c.attach=function(a){this.$4=a};c.detach=function(){this.$4=null};c.getContext=function(){return this.$4};return a}();e.exports=a}),null);
__d("Service",["ComponentWithContext"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.isMultiBind=function(){return!1};c.getServiceId=function(){throw new Error("getServiceId must be implemented")};c.getServiceOrNull=function(a){var b=this.getServiceBus();return b==null?null:b.getServiceOrNull(a)};c.getServiceOrThrow=function(a){var b=this.getServiceOrNull(a);if(b==null)throw new Error('Service "'+a+'" not found');return b};return b}(b("ComponentWithContext"));e.exports=a}),null);
__d("ServiceImpl",["Service"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInterface=function(){throw new Error("Not implemented")};return b}(b("Service"));e.exports=a}),null);
__d("BroadcastIdProvider",["ServiceImpl"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$BroadcastIdProvider1=b;return c}var c=b.prototype;c.getBroadcastId=function(){return this.$BroadcastIdProvider1};c.getServiceId=function(){return"broadcast_id_provider"};c.getInterface=function(){return this};return b}(b("ServiceImpl"));e.exports=a}),null);
__d("SimpleServiceProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.provide=function(a){a.addService(this.$1)};return a}();e.exports=a}),null);
__d("ServiceBus",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$2=[],this.$3=new Map(),this.addServices(a),this.$1=b}var b=a.prototype;b.addBackgroundService=function(a){this.$2.indexOf(a)!==-1&&this.$2.push(a)};b.addServices=function(a){var b=this;a.forEach(function(a){a.provide(b)})};b.addService=function(a){this.addServiceOrThrowInternal(a.getServiceId(),a)};b.addServiceOrThrowInternal=function(a,b){if(this.$3.get(a)!=null)throw new Error("Service already bound for ID "+a);this.$3.set(a,b)};b.hasService=function(a){return this.$3.get(a)!=null||this.$1!=null&&this.$1.hasService(a)};b.getServiceOrNull=function(a){return this.getServiceInternal(a)};b.getServiceInternal=function(a){var b=this.$3.get(a);if(b)return b;else if(this.$1!=null)return this.$1.getServiceInternal(a);else return null};b.getSortedServices=function(){var a=[];this.$3.forEach(function(b){a.push(b)});this.$2.forEach(function(b){a.push(b)});return a};return a}();e.exports=a}),null);
__d("StreamingError",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a,b,c,d){d===void 0&&(d={}),this.code=a,this.description=b,this.what=c,this.extra=d,this.trace=new Error().stack}var b=a.prototype;b.toString=function(){return"StreamingError: "+this.description+", what: "+this.what+", code: "+this.code};b.toJsonString=function(){return JSON.stringify({code:this.code.toString(),description:this.description,what:this.what,extra:this.extra,trace:this.trace})};return a}();e.exports=a}),null);
__d("StreamingErrorCodes",[],(function(a,b,c,d,e,f){"use strict";e.exports={GenericError:0,CapsNegotiationError:1,StateTransitionError:2,DataWriteError:3,MessageBusError:4,NodeTeardownError:5,ServiceTeardownError:6,FlowStateError:7,InterruptedTooLongError:8,VideoSourceError:100,AudioSourceError:101,VideoEncoderError:102,AudioEncoderError:103,NetworkError:104,AudioMixerError:105,DvrError:106,MuxerError:107,MaxFatalCodeError:1e4,BigAVGapError:10001}}),null);
__d("StreamingPipelineController",["StreamingSDKUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c){this.$4=[],this.$1=a,this.$2=c,this.$3=b,this.assumePipeline(a)}var c=a.prototype;c.fireError=function(a){this.$2.onPipelineError(a),this.stop()};c.getServiceBus=function(){return this.$3};c.initialize=function(){__p&&__p();var a=this;this.$5(function(b){if(b.isInitialized())return;b.attach(a);b.attachServiceBus(a.$3);b.doInitialize()},!1);this.$6(function(b){b=b.getNode();b.attach(a);b.attachServiceBus(a.$3);b.doInitialize()},!0)};c.uninitialize=function(){this.$6(function(a){a=a.getNode();a.doUninitialize()},!0),this.$5(function(a){a.doUninitialize()},!1)};c.start=function(){this.resume()};c.pause=function(){var a=this;this.$6(function(b){b.getNode().doPaused(),a.$7(b,function(a){a.resetCapsNegotations(),a.onInactive()})},!1);this.$5(function(a){a.doPaused()},!1)};c.resume=function(){var a=this;this.$5(function(a){a.isStarted()?a.doResumed():a.doStarted()},!1);this.$8();this.$6(function(b){a.$7(b,function(a){a.onActive()}),b.getNode().doStartedOrResumed()},!0)};c.stop=function(){var a=this;this.$6(function(b){b.getNode().doStopped(),a.$7(b,function(a){a.resetCapsNegotations(),a.onInactive()})},!1);this.$5(function(a){a.doStopped()},!1)};c.$8=function(){var a=this;this.$6(function(b){a.$7(b,function(a){a.negotiateCaps()})},!1)};c.$5=function(a,b){if(b)for(var b=this.$4.length-1;b>=0;b--)a(this.$4[b]);else this.$4.forEach(function(b){a(b)})};c.$6=function(a,b){var c=this.$1.getNodes();if(b)for(var b=c.length-1;b>=0;b--)a(c[b]);else this.$1.getNodes().forEach(function(b){a(b)})};c.$7=function(a,b){a.getLinks().forEach(function(a){b(a)})};c.assumePipeline=function(a){this.$1=a,b("StreamingSDKUtils").check(a.isFinalized()),this.$4=this.$3.getSortedServices()};return a}();e.exports=a}),null);
__d("StreamingSession",["Promise","FBLogger","StreamingError","StreamingErrorCodes","StreamingPipelineController","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return"Invalid state transition: "+a+" -> "+b};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}return b}(babelHelpers.wrapNativeSuper(Error));var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){return b.call(this,g(a,c))||this}return a}(a);c=function(){__p&&__p();function a(a,c,d){this.$1="UNINITIALIZED",this.$3=!1,this.$2=c,this.$4=new(b("StreamingPipelineController"))(a,d,this)}var c=a.prototype;c.initialize=function(){var a=this;b("promiseDone")(this.$5("INITIALIZED"),function(b){a.$2.onInitialized()},function(b){a.$6(b,"INITIALIZED")})};c.start=function(){var a=this;b("promiseDone")(this.$5("STARTED","START"),function(c){c.from=="INITIALIZED"?(a.$3=!0,a.$2.onStarted()):c.from=="PAUSED"?a.$2.onResumed():b("FBLogger")("www_livestreaming").mustfix("uhoh")},function(b){a.$6(b,"STARTED")})};c.pause=function(){var a=this;b("promiseDone")(this.$5("PAUSED"),function(b){a.$2.onPaused()},function(b){a.$6(b,"PAUSED")})};c.resume=function(){var a=this;b("promiseDone")(this.$5("STARTED","RESUME"),function(b){a.$2.onResumed()},function(b){a.$6(b,"STARTED")})};c.stop=function(){var a=this;b("promiseDone")(this.$5("STOPPED"),function(b){a.$7()},function(b){a.$6(b,"STOPPED")})};c.$8=function(a,b){switch(a){case"INITIALIZED":return this.$1==="UNINITIALIZED";case"STARTED":return this.$1==="INITIALIZED"&&b==="START"||this.$1==="PAUSED"&&(b==="RESUME"||b==="START");case"PAUSED":return this.$1==="STARTED";case"STOPPED":return this.$1!=="UNINITIALIZED"&&this.$1!=="RELEASED";case"RELEASED":return this.$1!=="RELEASED";case"TRANSIENT_WORK":return this.$1!=="RELEASED"&&this.$1!=="STOPPED";default:return!1}};c.$5=function(a,c){__p&&__p();var d=this;c===void 0&&(c="NONE");return new(b("Promise"))(function(b,e){__p&&__p();d.$8(a,c)||e(new h(d.$1,a));switch(a){case"INITIALIZED":d.$4.initialize();break;case"STARTED":d.$1=="INITIALIZED"?d.$4.start():d.$1=="PAUSED"&&d.$4.resume();break;case"PAUSED":d.$4.pause();break;case"STOPPED":d.$4.stop();break;case"RELEASED":d.$4.uninitialize();break;case"TRANSIENT_WORK":break;default:break}e=d.$1;d.$1=a;b({from:e,to:a,success:!0})})};c.$6=function(a,c){if(a instanceof h){var d=a;b("FBLogger")("www_livestreaming").warn(d.message)}else this.$9(new(b("StreamingError"))(b("StreamingErrorCodes").StateTransitionError,"Error while transitioning from "+this.$1+" to "+c,a.message))};c.$9=function(a){if(this.$4){var b=this.$4.getServiceBus().getServiceOrNull("session_logger");b&&b.getInterface().logStreamingError(a)}this.$2.onError(a)};c.$7=function(){this.$3&&(this.$3=!1,this.$2.onStopped())};c.onPipelineError=function(a){this.$9(a)};return a}();e.exports=c}),null);
__d("StreamingSessionBuilder",["ServiceBus","StreamingSession","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d){this.$1=a,this.$2=c,this.$3=new(b("ServiceBus"))(d),a.setServiceBus(this.$3)}var c=a.prototype;c.build=function(){var a=b("nullthrows")(this.$1).build();this.$1=null;return new(b("StreamingSession"))(a,this.$2,this.$3)};c.addMediaSource=function(a){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];(c=b("nullthrows")(this.$1)).addMediaSource.apply(c,[a].concat(e))};return a}();e.exports=a}),null);
__d("BaseLiveStreamingClient",["BroadcastIdProvider","FBLogger","SimpleServiceProvider","StreamingSessionBuilder","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e){this.$1=a,this.$2=c,this.$4=new(b("StreamingSessionBuilder"))(c,e,this.$5(a,d))}var c=a.prototype;c.getSessionBuilder=function(){return this.$4};c.setSession=function(a){this.$3=a};c.getConfig=function(){return this.$1};c.start=function(){if(!this.$3){b("FBLogger")("www_livestreaming").warn("No session");return}this.$3.start()};c.stop=function(){b("nullthrows")(this.$3).stop()};c.pause=function(){b("nullthrows")(this.$3).pause()};c.resume=function(){b("nullthrows")(this.$3).resume()};c.$5=function(a,c){c.push(new(b("SimpleServiceProvider"))(new(b("BroadcastIdProvider"))(this.$1.broadcastID)));return c};return a}();e.exports=a}),null);
__d("DashIngestStreamingRequest",["FBLogger","Random","XHRRequest","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b)||this;b.$DashIngestStreamingRequest3=0;b.setMethod("PUT");b.setDataSerializer(function(a){return a});a.prototype.setErrorHandler.call(babelHelpers.assertThisInitialized(b),b.$DashIngestStreamingRequest5.bind(babelHelpers.assertThisInitialized(b)));b.$DashIngestStreamingRequest2=c;b.$DashIngestStreamingRequest4=c.retryDelayMs;return b}var d=c.prototype;d.setErrorHandler=function(a){this.$DashIngestStreamingRequest1=a;return this};d.$DashIngestStreamingRequest5=function(a){__p&&__p();var c=this;if(this.$DashIngestStreamingRequest3>=this.$DashIngestStreamingRequest2.maxAttempts){b("FBLogger")("www_livestreaming").debug("Reached max retry count, giving up");this.$DashIngestStreamingRequest1&&this.$DashIngestStreamingRequest1(a);return}a=b("Random").random()*2-1;a=a*.5;a=this.$DashIngestStreamingRequest4*(1+a);b("FBLogger")("www_livestreaming").debug("Request failed, retrying in "+a+"ms");b("setTimeout")(function(){c.send()},a);this.$DashIngestStreamingRequest4*=this.$DashIngestStreamingRequest2.backOffFactor;this.$DashIngestStreamingRequest3++};return c}(b("XHRRequest"));e.exports=a}),null);
__d("LiveStreamingWebmSegment",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getData=function(){return this.$1};b.getSegmentNumber=function(){return this.$2};b.isInitSegment=function(){return this.$2===0};b.getMetadata=function(){return this.$3};b.getMetadataTrackByType=function(a){if(this.$3==null)return null;var b=null;this.$3.tracks.forEach(function(c){if(c.type===a){b=c;return}});return b};return a}();e.exports=a}),null);
__d("StreamingNodeBase",["ComponentWithContext"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$StreamingNodeBase2=!1;c.$StreamingNodeBase3=!1;c.$StreamingNodeBase4=!1;c.$StreamingNodeBase1=b;return c}var c=b.prototype;c.getId=function(){return this.$StreamingNodeBase1};return b}(b("ComponentWithContext"));e.exports=a}),null);
__d("StreamingPad",["nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$3=b}var c=a.prototype;c.getName=function(){return this.$1};c.getNode=function(){return this.$3};c.onLinked=function(a){this.$2=a};c.getLink=function(){return b("nullthrows")(this.$2)};c.isLinked=function(){return this.$2!=null};c.requestCapsNegotiation=function(){this.$2&&this.$2.requestCapsNegotiation()};return a}();e.exports=a}),null);
__d("StreamingSinkPad",["Promise","FBLogger","StreamingPad"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$StreamingSinkPad1="NORMAL",b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.reportFlowState=function(a,c){if(this.$StreamingSinkPad1==a)return new(b("Promise"))(function(a,b){return a(!1)});b("FBLogger")("www_livestreaming").info("Flow state changed to "+a+" from "+this.$StreamingSinkPad1+" on "+this.getName());this.$StreamingSinkPad1=a;return this.getLink().onFlowState(a,c)};return c}(b("StreamingPad"));e.exports=a}),null);
__d("StreamingSrcPad",["StreamingPad"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$StreamingSrcPad1="NORMAL",b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.write=function(a){this.getLink().write(a)};c.setFlowState=function(a){this.$StreamingSrcPad1=a};return b}(b("StreamingPad"));e.exports=a}),null);
__d("StreamingNode",["Promise","FBLogger","StreamingNodeBase","StreamingSinkPad","StreamingSrcPad"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.onData=function(a,b){};d.onFlowState=function(a,c){b("FBLogger")("www_livestreaming").mustfix("onFlowState() must be implemented by subclass");return new(b("Promise"))(function(a,b){return a(!1)})};d.getOrCreateSrcPad=function(){this.$StreamingNode1||(this.$StreamingNode1=new(b("StreamingSrcPad"))("src",this));return this.$StreamingNode1};d.getOrCreateSinkPad=function(){this.$StreamingNode2||(this.$StreamingNode2=new(b("StreamingSinkPad"))("sink",this));return this.$StreamingNode2};return c}(b("StreamingNodeBase"));e.exports=a}),null);
__d("StreamingSimpleNode",["StreamingNode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$StreamingSimpleNode1=[];return b}var c=b.prototype;c.onData=function(a,b){};c.addLink=function(a){this.$StreamingSimpleNode1.push(a)};c.getLinks=function(){return this.$StreamingSimpleNode1};c.onInitialized=function(){};c.onStarted=function(){};c.onResumed=function(){};c.onStopped=function(){};return b}(b("StreamingNode"));e.exports=a}),null);
__d("FBWWWDashTransportNode",["Promise","regeneratorRuntime","DashIngestStreamingRequest","LiveStreamingWebmSegment","StreamingError","StreamingErrorCodes","StreamingSimpleNode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b)||this;b.$FBWWWDashTransportNode1=c;return b}var d=c.prototype;d.onStarted=function(){};d.onData=function(a,c){__p&&__p();if(c instanceof b("LiveStreamingWebmSegment")){a=c;a.isInitSegment()?this.$FBWWWDashTransportNode3(a):this.$FBWWWDashTransportNode4(a)}else{a=this.getContext();if(a!=null){c=c.constructor.name;a.fireError(new(b("StreamingError"))(b("StreamingErrorCodes").NetworkError,"onData received unsupported datatype","Expected: LiveStreamingWebmSegment, Actual: "+c,{}))}}};d.$FBWWWDashTransportNode5=function(a){var b=this.getOrCreateSrcPad();b&&b.isLinked()&&b.write(a)};d.$FBWWWDashTransportNode6=function(a){return this.$FBWWWDashTransportNode1.dashIngestUri+"&filename="+a};d.$FBWWWDashTransportNode7=function(a){__p&&__p();var c=this;return new(b("Promise"))(function(d,e){__p&&__p();var f=a.getMetadataTrackByType("video"),g=a.getMetadataTrackByType("audio");if(f==null||g==null){var h=c.getContext();h!=null&&h.fireError(new(b("StreamingError"))(b("StreamingErrorCodes").NetworkError,"Missing required data for manifest","audioTrack or videoTrack is null",{audioTrack:g,videoTrack:f}));return}var i=f.codec+","+g.codec,j=f.width,k=f.height,l=g.sampling_frequency,m=g.channels,n=1e6;if(k==null||j==null||l==null||m==null){h=c.getContext();h!=null&&h.fireError(new(b("StreamingError"))(b("StreamingErrorCodes").NetworkError,"Missing required data for manifest","height, width, audioSamplingRate, or audioChannels is null",{height:k,width:j,audioSamplingRate:l,audioChannels:m}));return}f='\n<?xml version="1.0"?>\n<MPD xmlns="urn:mpeg:dash:schema:mpd:2011" minBufferTime="PT1.500S" type="static" mediaPresentationDuration="PT0H1M0.034S" maxSegmentDuration="PT0H0M1.000S" profiles="urn:mpeg:dash:profile:full:2011">\n <ProgramInformation moreInformationURL="http://gpac.sourceforge.net">\n  <Title>dash_manifest.mpd</Title>\n </ProgramInformation>\n\n <Period duration="PT0H1M0.034S">\n  <AdaptationSet segmentAlignment="true" maxWidth="1280" maxHeight="720" maxFrameRate="30" par="1280:720" lang="eng">\n   <SegmentTemplate timescale="1000" media="dash_segment_$Number$.webm" startNumber="1" duration="5000" initialization="dash_segment_init.webm"/>\n   <Representation id="1" mimeType="video/webm" codecs="'+i+'" width="'+j+'" height="'+k+'" frameRate="30" sar="1:1" audioSamplingRate="'+l+'" startWithSAP="0" bandwidth="'+n+'">\n    <AudioChannelConfiguration schemeIdUri="urn:mpeg:dash:23003:3:audio_channel_configuration:2011" value="'+m+'"/>\n   </Representation>\n  </AdaptationSet>\n </Period>\n</MPD>\n';g=c.$FBWWWDashTransportNode6("dash_manifest.mpd");new(b("DashIngestStreamingRequest"))(g,c.$FBWWWDashTransportNode1).setData(f).setResponseHandler(function(a){d()}).setErrorHandler(function(d){var f=d.message||d.errorMsg,a=c.getContext();a!=null&&a.fireError(new(b("StreamingError"))(b("StreamingErrorCodes").NetworkError,"Error while sending manifest",f,{width:j,height:k,codecs:i,audioSamplingRate:l,audioChannels:m,bandwidth:n,error:d}));e(d)}).send()})};d.$FBWWWDashTransportNode3=function(a){__p&&__p();var c=this;this.$FBWWWDashTransportNode7(a).then(function(){__p&&__p();c.$FBWWWDashTransportNode2=new(b("Promise"))(function(d,e){var f="dash_segment_init.webm";c.$FBWWWDashTransportNode8(a.getData(),f);f=c.$FBWWWDashTransportNode6(f);new(b("DashIngestStreamingRequest"))(f,c.$FBWWWDashTransportNode1).setData(a.getData()).setResponseHandler(function(a){c.$FBWWWDashTransportNode2=null,d()}).setErrorHandler(function(d){var f=c.getContext();f!=null&&f.fireError(new(b("StreamingError"))(b("StreamingErrorCodes").NetworkError,"Error while sending segment",d.message||d.errorMsg,{segment:a.getSegmentNumber(),error:d}));c.$FBWWWDashTransportNode2=null;e(d)}).send()})})["catch"](function(a){var d=a.message||a.errorMsg,e=c.getContext();e!=null&&e.fireError(new(b("StreamingError"))(b("StreamingErrorCodes").NetworkError,"Error while sending manifest",d,{error:a}))})};d.$FBWWWDashTransportNode4=function(a){__p&&__p();var c=this,d=new(b("Promise"))(function(d,e){__p&&__p();var f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:f="dash_segment_"+a.getSegmentNumber()+".webm";c.$FBWWWDashTransportNode8(a.getData(),f);if(!c.$FBWWWDashTransportNode2){h.next=5;break}h.next=5;return b("regeneratorRuntime").awrap(c.$FBWWWDashTransportNode2);case 5:g=c.$FBWWWDashTransportNode6(f),new(b("DashIngestStreamingRequest"))(g,c.$FBWWWDashTransportNode1).setData(a.getData()).setResponseHandler(function(a){c.$FBWWWDashTransportNode2=null,d()}).setErrorHandler(function(d){var f=d.message||d.errorMsg,g=c.getContext();g!=null&&g.fireError(new(b("StreamingError"))(b("StreamingErrorCodes").NetworkError,"Error while sending segment",f,{segment:a.getSegmentNumber(),error:d}));c.$FBWWWDashTransportNode2=null;e(d)}).send();case 7:case"end":return h.stop()}},null,this)});this.$FBWWWDashTransportNode2=d};d.$FBWWWDashTransportNode8=function(a,c){__p&&__p();var d,e,f;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:if(!(this.$FBWWWDashTransportNode1.downloadRequestBlobs!==!0)){b.next=2;break}return b.abrupt("return");case 2:d=new Blob([a],{type:"video/webm"}),e=URL.createObjectURL(d),f=document.createElement("a"),document.body&&(document.body.appendChild(f),f.style.cssText="display: none",f.href=e,f.download=c,f.click(),window.URL.revokeObjectURL(e));case 6:case"end":return b.stop()}},null,this)};return c}(b("StreamingSimpleNode"));e.exports=a}),null);
__d("FBWWWStreamingMediaRecorderAdapter",["StreamingSimpleNode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$FBWWWStreamingMediaRecorderAdapater1=new FileReader();b.$FBWWWStreamingMediaRecorderAdapater1.onload=b.$FBWWWStreamingMediaRecorderAdapater2.bind(babelHelpers.assertThisInitialized(b));return b}var c=b.prototype;c.onData=function(a,b){if(b instanceof Blob){a=b;this.$FBWWWStreamingMediaRecorderAdapater1.readAsArrayBuffer(a)}};c.$FBWWWStreamingMediaRecorderAdapater2=function(a){a=a.target.result;a=new DataView(a);this.$FBWWWStreamingMediaRecorderAdapater3(a)};c.$FBWWWStreamingMediaRecorderAdapater3=function(a){var b=this.getOrCreateSrcPad();b&&b.isLinked()&&b.write(a)};return b}(b("StreamingSimpleNode"));e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("WWWSDKWebmParser",["DataViewReader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=440786851,h=408125543,i=357149030,j=374648427,k=2807729,l=17545,m=131,n=134,o=224,p=225,q=370966679608,r=370966679609,s=71877608363347,t=176,u=186,v=181,w=159,x=25188,y=524531317,z=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function A(a,b){__p&&__p();if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var B=function(){__p&&__p();function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getDataView=function(){return this.$1};b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new C(this.$1)};b.getUint=function(){__p&&__p();if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),C=function(){__p&&__p();function a(a){this.$1=a,this.$2=new(b("DataViewReader"))(this.$1)}var c=a.prototype;c.hasMoreData=function(){return this.$2.hasMoreData()};c.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new B(b,d)};c.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};c.$4=function(){__p&&__p();var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes. Got "+b);c=new Uint8Array(b);c[0]=a;for(var a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<z.length;b++)if(A(a,z[b]))return!0;return!1};return a}();function D(a){__p&&__p();a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==k?b=d.getUint():d.id==l&&(c=d.getFloat())}d=b/1e9;a=0;c!=null&&(a=c*d);return{timecodeScale:d,duration:a}}function E(a){__p&&__p();if(a==null)return[];var b=[];a=a.createParser();while(a.hasMoreData()){var c=a.parseElement();c=c.createParser();var d=null,e=null,f={};while(c.hasMoreData()){var g=c.parseElement();g.id===m&&(d=g.getUint());g.id===n&&(e=g.getUint());g.id===o&&(f=F(g));g.id===p&&(f=G(g))}d==1&&(f.type="video",e===r&&(f.codec="vp9"),e===q&&(f.codec="vp8"));d==2&&(f.type="audio",e===s&&(f.codec="opus"));b.push(f)}return b}function F(a){a=a.createParser();var b={};while(a.hasMoreData()){var c=a.parseElement();c.id===t&&(b.width=c.getUint());c.id===u&&(b.height=c.getUint())}return b}function G(a){a=a.createParser();var b={};while(a.hasMoreData()){var c=a.parseElement();c.id===v&&(b.sampling_frequency=c.getFloat());c.id===w&&(b.channels=c.getUint());c.id===x&&(b.bit_depth=c.getUint())}return b}function H(a){__p&&__p();var b=[],c=4+8,d=null;try{var e=[],f=new C(a);while(f.hasMoreData()){var g=f.parseElement();e.push(g);while(e.length>0){g=e[0];e=e.slice(1);g.id===y&&(d!==null&&b.push(new Uint8Array(a.buffer,d,g.getDataView().byteOffset-c-d)),d=g.getDataView().byteOffset-c);g=g.createParser();while(g.hasMoreData()){var h=g.parseElement();h.id==y&&e.push(h)}}}}catch(a){}h=d===null?null:new Uint8Array(a.buffer,d);return{clusters:b,remainingData:h}}function a(a){__p&&__p();a=new C(a);var b=a.parseElement();if(b.id!=g)return null;b=a.parseElement();if(b.id!=h)return null;a=b.createParser();var c=null,d=null;while(a.hasMoreData()){var e=a.parseElement();e.id===i&&(c=e);e.id===j&&(d=e)}if(!c)return null;if(!d)return null;e=D(c);a=E(d);c=b.getOffset();d=d.getDataView().byteLength+d.getDataView().byteOffset;var f=new Uint8Array(b.getDataView().buffer,0,d);b=H(new DataView(b.getDataView().buffer,d,b.getDataView().buffer.byteLength-d));return{metadata:{segmentOffset:c,timecodeScale:e.timecodeScale,duration:e.duration,tracks:a},initSegment:f,clusters:b.clusters,remainingData:b.remainingData}}e.exports={parse:a}}),null);
__d("FBWWWStreamingMediaRecorderParserNode",["LiveStreamingWebmSegment","StreamingSimpleNode","WWWSDKWebmParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$FBWWWStreamingMediaRecorderParserNode1=0;b.$FBWWWStreamingMediaRecorderParserNode2=0;return b}var d=c.prototype;d.onData=function(a,b){if(b instanceof DataView){a=b;this.$FBWWWStreamingMediaRecorderParserNode5(a)}};d.$FBWWWStreamingMediaRecorderParserNode6=function(a){var b=0;a.forEach(function(a){b+=a.byteLength});var c=new Uint8Array(b),d=0;a.forEach(function(a){c.set(a,d),d+=a.byteLength});return c};d.$FBWWWStreamingMediaRecorderParserNode5=function(a){__p&&__p();var c=this,d=a,e=[];this.$FBWWWStreamingMediaRecorderParserNode3!=null&&e.push(this.$FBWWWStreamingMediaRecorderParserNode3);this.$FBWWWStreamingMediaRecorderParserNode4!=null&&e.push(this.$FBWWWStreamingMediaRecorderParserNode4);if(e.length>0){e.push(new Uint8Array(a.buffer));a=this.$FBWWWStreamingMediaRecorderParserNode6(e);d=new DataView(a.buffer)}e=b("WWWSDKWebmParser").parse(d);if(e==null)return;if(this.$FBWWWStreamingMediaRecorderParserNode3==null){if(e.initSegment==null)return;this.$FBWWWStreamingMediaRecorderParserNode7(new(b("LiveStreamingWebmSegment"))(e.initSegment,0,e.metadata));this.$FBWWWStreamingMediaRecorderParserNode3=e.initSegment}e.clusters.forEach(function(a){c.$FBWWWStreamingMediaRecorderParserNode7(new(b("LiveStreamingWebmSegment"))(a,++c.$FBWWWStreamingMediaRecorderParserNode1))});this.$FBWWWStreamingMediaRecorderParserNode4=e.remainingData};d.$FBWWWStreamingMediaRecorderParserNode7=function(a){var b=this.getOrCreateSrcPad();b&&b.isLinked()&&b.write(a)};return c}(b("StreamingSimpleNode"));e.exports=a}),null);
__d("StreamingPipelineLink",["Promise","FBLogger","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d){this.$5=!1,this.$6=!1,this.$3=a,this.$1=b,this.$2=c,this.$4=d}var c=a.prototype;c.write=function(a){this.$3.onData(a)};c.requestCapsNegotiation=function(){if(!this.$1||!this.$2){b("FBLogger")("www_livestreaming").warn("Negotiate on detached link "+this.$4+", ignored.");return}this.$5=!1;this.negotiateCaps()};c.onFlowState=function(a,c){var d=this;return new(b("Promise"))(function(e,f){b("promiseDone")(d.$3.onFlowState(a),function(f){if(c&&!f){b("FBLogger")("www_livestreaming").warn("Flow state "+a+" issued on "+d.$4+" was not handled!");return e(!1)}return e(f)},function(a){return f()})})};c.negotiateCaps=function(){if(!this.$1||!this.$2){b("FBLogger")("www_livestreaming").warn("Negotiate on detached link "+this.$4+", ignored.");return}if(this.$5){b("FBLogger")("www_livestreaming").warn("Already negotiated on link "+this.$4+", skipping.");return}this.$5=!0};c.resetCapsNegotations=function(){this.$5=!1};c.src=function(){return this.$1};c.sink=function(){return this.$2};c.onActive=function(){this.$6=!0};c.onInactive=function(){this.$6=!1};return a}();e.exports=a}),null);
__d("StreamingPipelineLinkAdapter",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d}var b=a.prototype;b.onData=function(a){this.$1.onData(this.$4,a)};b.shouldNegotiateCaps=function(){return!0};b.onCapsNegotiationStarted=function(){};b.onRequestCaps=function(){};b.onSinkCapsAvailable=function(){return!0};b.onFlowState=function(a){this.$3.setFlowState(a);return this.$2.onFlowState(this.$3,a)};b.setCaps=function(){};return a}();e.exports=a}),null);
__d("StreamingPipelineNode",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$2=[],this.$1=a}var b=a.prototype;b.getId=function(){return this.$1.getId()};b.getNode=function(){return this.$1};b.addLink=function(a){this.$2.push(a)};b.getLinks=function(){return this.$2};return a}();e.exports=a}),null);
__d("StreamingPipeline",["FBLogger","StreamingPipelineLink","StreamingPipelineLinkAdapter","StreamingPipelineNode","StreamingSDKUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$2=!1,this.$3=new Map(),this.$1=a,this.$4=1,window.pipeline=this}var c=a.prototype;c.addNode=function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=new(Function.prototype.bind.apply(a,[null].concat([this.$4++],d)))();this.$3.set(f.getId(),new(b("StreamingPipelineNode"))(f));return f};c.getNodes=function(){return Array.from(this.$3.values())};c.connect=function(a,c){var d=b("nullthrows")(this.$3.get(a.getId())),e=b("nullthrows")(this.$3.get(c.getId())),f=a.getOrCreateSrcPad(),g=c.getOrCreateSinkPad();b("StreamingSDKUtils").check(!f.isLinked());b("StreamingSDKUtils").check(!g.isLinked());var h=a.getId()+":"+f.getName()+"->"+c.getId()+":"+g.getName();c=new(b("StreamingPipelineLinkAdapter"))(c,a,f,g);a=new(b("StreamingPipelineLink"))(c,d,e,h);f.onLinked(a);g.onLinked(a);d.addLink(a)};c.finalize=function(){if(this.$2)throw new Error("StreamingPipeline is already finalized");this.$2=!0;this.describePipeline()};c.isFinalized=function(){return this.$2};c.describePipeline=function(){this.$3.forEach(function(a,c){a.getLinks().forEach(function(a){b("FBLogger")("www_livestreaming").info("SrcNodeId: "+c+" -> SinkNodeId: "+a.sink().getId())})})};return a}();e.exports=a}),null);
__d("StreamingPipelineBuilder",["FBLogger","StreamingPipeline"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=new(b("StreamingPipeline"))(a)}var c=a.prototype;c.getPipeline=function(){return this.$1};c.build=function(){this.$1.finalize();return this.$1};c.addMediaSource=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=(b=this.$1).addNode.apply(b,[a].concat(d));this.onMediaSourceAdded(f)};c.onMediaSourceAdded=function(a){b("FBLogger")("www_livestreaming").mustfix("Subclass must implement onMediaSourceAdded")};c.setServiceBus=function(a){this.$2=a};return a}();e.exports=a}),null);
__d("FBWWWLiveStreamingPipelineBuilder",["FBWWWDashTransportNode","FBWWWStreamingMediaRecorderAdapter","FBWWWStreamingMediaRecorderParserNode","StreamingPipelineBuilder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b)||this;b.$FBWWWLiveStreamingPipelineBuilder1=c;return b}var d=c.prototype;d.onMediaSourceAdded=function(a){var c=this.getPipeline().addNode(b("FBWWWStreamingMediaRecorderAdapter")),d=this.getPipeline().addNode(b("FBWWWStreamingMediaRecorderParserNode")),e=this.getPipeline().addNode(b("FBWWWDashTransportNode"),this.$FBWWWLiveStreamingPipelineBuilder1.transportConfig);this.getPipeline().connect(a,c);this.getPipeline().connect(c,d);this.getPipeline().connect(d,e)};return c}(b("StreamingPipelineBuilder"));e.exports=a}),null);
__d("SpeedtestHelpers",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a=a.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);if(a!=null&&a.length>2&&typeof a[2]==="string"&&a[2].length>0)return a[2];else return""}function b(a,b){b=Math.pow(10,b);return Math.round(a*b)/b}function c(){return window.performance!=null&&window.performance.clearResourceTimings!=null&&window.performance.getEntries!=null}d="The test was unable to complete any network requests. Try selecting a smaller filesize.";e.exports={getHostName:a,precisionRound:b,noRequestsFinishedMessage:d,doesSupportResourceTimings:c}}),null);
__d("UploadSpeedtest",["SpeedtestHelpers","SpeedtestResultsTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();var g=b("SpeedtestHelpers").doesSupportResourceTimings,h=b("SpeedtestHelpers").getHostName,i=b("SpeedtestHelpers").precisionRound;a=function(){"use strict";__p&&__p();function a(a){this.uploadSamples=[],this.options=a,this.uploadControllers=new Set(),this.results={estimatedRateMbps:0,actualTestDuration:0,megabitsTransferred:0,totalRequestsMade:0,url:a.url,averageLatency:0}}var c=a.prototype;c.start=function(){__p&&__p();var a=this;g()&&window.performance.clearResourceTimings();this.uploadControllers=new Set();var b=new window.Uint8Array(this.options.bytesToUpload);for(var c=0;c<this.options.bytesToUpload;c++)b[c]=Math.round(Math.random()*255);this.uploadBlob=new Blob([b],{type:"text/plain"});this.uploadSamples=[];this.results.totalRequestsMade=0;c=this.options.maxConcurrentRequests;for(var b=0;b<c;b++)this.spawnNewUploadTest();this.testTimeout=setTimeout(function(){return a.stop()},this.options.testDuration)};c.spawnNewUploadTest=function(){__p&&__p();var a=this,b=new XMLHttpRequest();this.uploadControllers.add(b);b.open("POST",this.options.url,!0);b.send(this.uploadBlob);b.onload=function(c){c=JSON.parse(b.responseText);a.uploadSamples.push({timeElapsed:c.durationMS,bytesUploaded:c.bytes});a.results.totalRequestsMade++;a.uploadControllers["delete"](b);if(a.results.totalRequestsMade>=a.options.maxTotalRequests){a.stop();return}a.spawnNewUploadTest()}};c.logUploadResults=function(){var a=h(this.options.url);new(b("SpeedtestResultsTypedLogger"))().setTestType("upload").setTestDuration(this.options.testDuration).setNumRequests(this.results.totalRequestsMade).setNumConcurrentRequests(this.options.maxConcurrentRequests).setRequestSize(this.options.bytesToUpload).setCdnHostname(a).setAvgLatency(this.results.averageLatency).setAvgMbps(this.results.estimatedRateMbps).logImmediately()};c.stop=function(){__p&&__p();var a=this;clearTimeout(this.testTimeout);for(var b=this.uploadControllers,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.abort()}var f=0;e=this.uploadSamples.length>0?this.uploadSamples.reduce(function(a,b){f+=b.bytesUploaded/125e3;return a+b.bytesUploaded/125e3/(b.timeElapsed/1e3)},0)/this.uploadSamples.length:0;if(g()){d=window.performance.getEntries().filter(function(b){return b instanceof window.PerformanceResourceTiming&&b.responseStart&&b.requestStart&&b.initiatorType==="xmlhttprequest"&&b.name.includes(a.options.url)}).map(function(a){return a.responseStart-a.requestStart});this.results.averageLatency=Math.round(d.reduce(function(a,b){return a+b},0)/d.length)}this.results.megabitsTransferred=i(f,2);this.results.estimatedRateMbps=e;this.results.actualTestDuration=this.options.testDuration/1e3;this.results.url=this.options.url;this.logUploadResults();this.options.callback!=null&&this.options.callback(this.results)};return a}();e.exports=a}),null);
__d("LiveVideoUploadSpeedtest",["UploadSpeedtest"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a.transportConfig.speedTestConfig;new(b("UploadSpeedtest"))({maxConcurrentRequests:d.maxConcurrentRequests,maxTotalRequests:d.maxTotalRequests,testDuration:d.maxTestDurationMs,bytesToUpload:d.speedTestPayloadSizeBytes,url:d.speedTestUrl,callback:function(a){a=a.estimatedRateMbps*1e6*d.percentOfEstimatedBitrateToUse;var b=a<d.speedTestMinimumBandwidthThreshold?"FAILED":"SUCCESS";c({estimatedUploadBitrate:a,status:b})}}).start()}e.exports={runVideoUploadSpeedTest:a}}),null);
__d("StreamingMediaSource",["StreamingNode"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("StreamingNode"));e.exports=a}),null);
__d("WWWStreamingMediaSource",["MediaRecorder","StreamingMediaSource","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this,b)||this;b.$WWWStreamingMediaSource3=d;b.$WWWStreamingMediaSource2=c;return b}var d=c.prototype;d.onStarted=function(){var a=this.$WWWStreamingMediaSource3,c={mimeType:a.mediaRecorderConfig.codec,audioBitsPerSecond:a.mediaRecorderConfig.maxAudioBitrate,videoBitsPerSecond:a.mediaRecorderConfig.initialVideoBitrate!=null?a.mediaRecorderConfig.initialVideoBitrate:a.mediaRecorderConfig.maxVideoBitrate};c=new(b("MediaRecorder"))(this.$WWWStreamingMediaSource2,c);this.$WWWStreamingMediaSource1=c;c.ondataavailable=this.$WWWStreamingMediaSource4.bind(this);c.onerror=this.$WWWStreamingMediaSource5.bind(this);c.start(a.mediaRecorderConfig.chunkSizeInMs)};d.onResumed=function(){b("nullthrows")(this.$WWWStreamingMediaSource1).resume()};d.onPaused=function(){b("nullthrows")(this.$WWWStreamingMediaSource1).pause()};d.onStopped=function(){b("nullthrows")(this.$WWWStreamingMediaSource1).stop()};d.$WWWStreamingMediaSource5=function(a){};d.$WWWStreamingMediaSource4=function(a){a.data&&this.$WWWStreamingMediaSource6(a.data)};d.$WWWStreamingMediaSource6=function(a){var b=this.getOrCreateSrcPad();b&&b.isLinked()&&b.write(a)};return c}(b("StreamingMediaSource"));e.exports=a}),null);
__d("FBWWWLiveStreamingClientImpl",["BaseLiveStreamingClient","FBWWWLiveStreamingPipelineBuilder","LiveVideoUploadSpeedtest","WWWStreamingMediaSource"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoUploadSpeedtest").runVideoUploadSpeedTest;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g){e=new(b("FBWWWLiveStreamingPipelineBuilder"))("pipeline",c);e=a.call(this,c,e,g,d)||this;e.getSessionBuilder().addMediaSource(b("WWWStreamingMediaSource"),f,c);g=e.getSessionBuilder().build();g.initialize();e.setSession(g);return e}var d=c.prototype;d.start=function(){var b=this,c=this.getConfig();g(c,function(d){var e=d.estimatedUploadBitrate;d=d.status;d==="SUCCESS"?e<c.mediaRecorderConfig.maxVideoBitrate+c.mediaRecorderConfig.maxAudioBitrate&&(c.mediaRecorderConfig.initialVideoBitrate=e-c.mediaRecorderConfig.maxAudioBitrate):d==="FAILED";a.prototype.start.call(b)})};return c}(b("BaseLiveStreamingClient"));e.exports=a}),null);
__d("FBWWWLiveStreamingClientBuilder",["FBWWWLiveStreamingClientImpl","SimpleServiceProvider","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$2={},this.$4=[],this.$1=a}var c=a.prototype;c.build=function(){return new(b("FBWWWLiveStreamingClientImpl"))(this.$1,this.$2,{},b("nullthrows")(this.$3),this.$4)};c.setSessionCallbacks=function(a){this.$2=a;return this};c.setTransportCallbacks=function(a){return this};c.setMediaStream=function(a){this.$3=a;return this};c.addServiceProvider=function(a){this.$4.push(a);return this};c.addService=function(a){this.addServiceProvider(new(b("SimpleServiceProvider"))(a));return this};return a}();e.exports=a}),null);
__d("BaseEventLogWriter",["ServiceImpl"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.logAggregatableEvent=function(b,a,c){this.getInterface().logEvent(b,a,c)};return b}(b("ServiceImpl"));e.exports=a}),null);
__d("StreamingSdkEventFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("streaming_sdk_event");e.exports=a}),null);
__d("StreamingSdkMetadataFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("streaming_sdk_metadata");e.exports=a}),null);
__d("FalcoEventLogWriter",["BaseEventLogWriter","StreamingSdkEventFalcoEvent","StreamingSdkMetadataFalcoEvent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a[b]||0},h=function(a,b){return a[b]||""};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInterface=function(){return this};d.getServiceId=function(){return"log_writer"};d.logEvent=function(c,a,d){c==="streaming_sdk_event"?b("StreamingSdkEventFalcoEvent").log(function(){return{broadcast_id:g(d,"broadcast_id"),session_id:g(d,"session_id"),streaming_event:h(d,"streaming_event"),extra:h(d,"extra")}}):c==="streaming_sdk_metadata"&&b("StreamingSdkMetadataFalcoEvent").log(function(){return{broadcast_id:g(d,"broadcast_id"),product_extra:h(d,"extra"),num_audio_tracks:g(d,"num_audio_tracks"),num_video_tracks:g(d,"num_video_tracks")}})};return c}(b("BaseEventLogWriter"));e.exports=a}),null);
__d("StreamingSessionLogger",["FBLogger","Random","ServiceImpl"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="fatal_error",h="product_extra",i="num_video_tracks",j="video_tracks_info",k="num_audio_tracks",l="audio_tracks_info",m="streaming_event",n="extra",o="session_id",p="initialized",q="started",r="stopped",s="paused",t="resumed",u="uninitialized",v="error",w="cancelled",x=function(a){if(a==="PRODUCT_EXTRA")return h;if(a==="NUM_VIDEO_TRACKS")return i;if(a==="VIDEO_TRACKS_INFO")return j;if(a==="NUM_AUDIO_TRACKS")return k;return a==="AUDIO_TRACKS_INFO"?l:a};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h){__p&&__p();var i;i=a.call(this)||this;i.$SessionLogger2="";i.$SessionLogger9={};i.$SessionLogger11=!1;i.$SessionLogger12=!1;i.$SessionLogger1=b("Random").uint32();i.$SessionLogger3=c;i.$SessionLogger4=d;i.$SessionLogger5=e;i.$SessionLogger6=f;i.$SessionLogger7=g;i.$SessionLogger8=h;i.$SessionLogger9[x("PRODUCT_EXTRA")]=h;return i}var d=c.prototype;d.getInterface=function(){return this};d.getServiceId=function(){return"session_logger"};d.isMultiBind=function(){return!1};d.onInitialize=function(){this.$SessionLogger12=!0,this.$SessionLogger10=this.getServiceOrNull("log_writer"),this.$SessionLogger10&&this.$SessionLogger10.getInterface().logEvent(this.$SessionLogger3,"",this.$SessionLogger9),this.logStreamingEvent(p,"")};d.onStarted=function(){a.prototype.onStarted.call(this),this.logStreamingEvent(q,"")};d.onStopped=function(){a.prototype.onStopped.call(this),this.logStreamingEvent(r,""),this.$SessionLogger11||this.logSessionSummary(g,"")};d.onPaused=function(){a.prototype.onPaused.call(this),this.logStreamingEvent(s,"")};d.onResumed=function(){a.prototype.onResumed.call(this),this.logStreamingEvent(t,"")};d.onUninitialize=function(){a.prototype.onUninitialize.call(this),!this.isStarted()&&!this.$SessionLogger11&&this.logStreamingEvent(w,""),this.logStreamingEvent(u,"")};d.logMetadata=function(a,c){if(this.$SessionLogger12){b("FBLogger")("www_livestreaming").warn("No metadata is allowed after initialization, ignored for key: "+a+", value "+c.toString());return}this.$SessionLogger9[a]=c};d.logStreamingEvent=function(a,c){var d,e=this.$SessionLogger10;if(e==null){b("FBLogger")("www_livestreaming").warn("No logWriter");return}a=(d={},d[m]=a,d[n]=c,d[o]=this.$SessionLogger1,d[this.$SessionLogger7]=this.$SessionLogger2,d);e.getInterface().logEvent(this.$SessionLogger5,"",a)};d.logSessionSummary=function(a,c){var d,e=this.$SessionLogger10;if(e==null){b("FBLogger")("www_livestreaming").warn("No logWriter");return}a=(d={},d[a]=c,d[o]=this.$SessionLogger1,d[this.$SessionLogger7]=this.$SessionLogger2,d);e.getInterface().logAggregatableEvent(this.$SessionLogger6,"",a)};d.logStreamingError=function(a){a=a.toJsonString();this.logStreamingEvent(v,a);this.$SessionLogger11||(this.logSessionSummary(g,a),this.$SessionLogger11=!0)};d.getSessionId=function(){return this.$SessionLogger1};d.setBaseId=function(a){this.$SessionLogger2=a};d.getBaseId=function(){return this.$SessionLogger2};return c}(b("ServiceImpl"));e.exports=a}),null);
__d("LiveStreamingSessionLogger",["StreamingSessionLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="streaming_sdk_metadata",h="streaming_sdk_session_config",i="streaming_sdk_event",j="broadcast_id",k="video_id",l=function(a){if(a==="BROADCAST_ID")return j;return a==="VIDEO_ID"?k:a};a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,g,h,i,b,j,c)||this}var c=b.prototype;c.onInitialize=function(){var b=this.getServiceOrThrow("broadcast_id_provider").getInterface().getBroadcastId();this.setBaseId(b);this.logMetadata(l("BROADCAST_ID"),this.getBaseId().toString());a.prototype.onInitialize.call(this)};return b}(b("StreamingSessionLogger"));e.exports=a}),null);
__d("LiveStreamingSessionLogServiceProvider",["LiveStreamingSessionLogger"],(function(a,b,c,d,e,f){"use strict";var g="streaming_sdk_session_summary";a=function(){function a(){}var c=a.prototype;c.provide=function(a){a.addService(new(b("LiveStreamingSessionLogger"))(g,""))};return a}();e.exports=a}),null);
__d("XLiveVideoUpdateBroadcastController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video_broadcast/update/",{broadcast_id:{type:"FBID"},description:{type:"String"},privacyx:{type:"String"},political_district:{type:"String"},targeted_privacy_data:{type:"HackType"},title:{type:"String"},planned_start_time:{type:"Int"},is_continuous:{type:"Bool",defaultValue:!1},is_episode:{type:"Bool",defaultValue:!1},season_id:{type:"FBID"},series_id:{type:"FBID"},playlist_ids:{type:"FBIDVector"},crosspost_page_ids:{type:"FBIDVector"},breaking_news_expiration:{type:"Int"},attached_trivia_game_id:{type:"FBID"},group_join_target_id:{type:"FBID"},remove_group_join_cta:{type:"Bool",defaultValue:!1},is_commentating_disabled:{type:"Bool",defaultValue:!1},is_isr_enabled:{type:"Bool",defaultValue:!1},language:{type:"String"},thumbnail_uri:{type:"String"},broadcast_playback_mode:{type:"Enum",enumType:1},enable_event_ticket_promotion:{type:"Bool",defaultValue:!1}})}),null);
__d("LiveVideoBroadcastAfterBootloadUtils",["fbt","ActorURI","AsyncRequest","ComposerVideoPostUtils","ErrorDialog","LiveVideoBroadcastActions","LiveVideoBroadcastAPIActions","LiveVideoBroadcastUtils","ShareDialogAudienceTypes","VideoCopyrightAPI","XLiveVideoUpdateBroadcastController","expectationViolation","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c){var d="",e;d;a.audience==b("ShareDialogAudienceTypes").PAGE?(d=a.audienceTargets[0].actorId,e=a.audienceTargets[0].pageId):a.audience==b("ShareDialogAudienceTypes").OWN?(d=c||"",e=c||""):(d=a.actorId?a.actorId:"",e=a.audienceTargets[0]||d);return{actorID:d,targetID:e}}function c(){b("ErrorDialog").show(g._("Broadcast error"),g._("Error starting broadcast, please try again"))}function h(a){__p&&__p();var c={};if(a.selectedAttributionTag){var d=b("ComposerVideoPostUtils").getAttributionTagID(a.selectedAttributionTag);c=babelHelpers["extends"]({},c,{app_attribution_tag:d})}if(a.selectedGame){d=b("ComposerVideoPostUtils").getGameID(a.selectedGame);c=babelHelpers["extends"]({},c,{game_id:d})}if(a.selectedGroups){d=b("ComposerVideoPostUtils").getGroupIDs(a.selectedGroups);c=babelHelpers["extends"]({},c,{crossshare_group_ids:d})}if(a.videoTJApp){d=b("ComposerVideoPostUtils").getVideoTJAppID(a.videoTJApp);c=babelHelpers["extends"]({},c,{video_tj_app_id:d})}a.videoTitle&&(c=babelHelpers["extends"]({},c,{title:a.videoTitle}));if(a.contentTags){d=a.contentTags.map(function(a){return a.getUniqueID()});c=babelHelpers["extends"]({},c,{content_tags:d})}a.attachedTriviaGameID&&(c=babelHelpers["extends"]({},c,{attached_trivia_game_id:a.attachedTriviaGameID}));a.fundraiserGoal&&(c=babelHelpers["extends"]({},c,{fundraiser_goal:a.fundraiserGoal}));a.language&&(c=babelHelpers["extends"]({},c,{language:a.language}));a.thumbnailUpload&&(c=babelHelpers["extends"]({},c,{thumbnail_uri:a.thumbnailUpload.thumbURI}));return c}function d(a,c,d,e,f,g,j,k,l,m,n,o,p){var q=h(l),r=b("LiveVideoBroadcastUtils").getComposerFormData(f.contextConfig.composerID,f.config.targetData.targetID,f.config.contextInfo,p);!k?i(c,e,m,r,q,n,o):b("promiseDone")(b("VideoCopyrightAPI").copyrightVideo(a,b("nullthrows")(j),d,g,"live_video_composer"),function(a){i(c,e,m,r,q,n,o)},function(a){b("LiveVideoBroadcastAPIActions").errorStartingAPIBroadcast("copyright call",a)})}function i(a,c,d,e,f,g,h){c||b("expectationViolation")("cannot update broadcast without a broadcastiD");c=b("XLiveVideoUpdateBroadcastController").getURIBuilder().setFBID("broadcast_id",c).getURI();if(!a){b("expectationViolation")("cannot start broadcast without an actorID");return}c=b("ActorURI").create(c,a);new(b("AsyncRequest"))(c).setData(babelHelpers["extends"]({},d,e,f)).setHandler(g).setErrorHandler(function(a){h(),b("LiveVideoBroadcastActions").serverError(a)}).send()}f={getIDsFromTarget:a,showErrorDialog:c,updateBroadcastRequest:d,getUpdateMetadata:h,sendUpdateRequest:i};e.exports=f}),null);
__d("LiveVideoBroadcastCopyrightUtils",["LiveVideoBroadcastActions","SkywalkerManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[];a={handleCopyrightEvent:function(a,c){c&&b("LiveVideoBroadcastActions").handleCopyrightEvent(a,c)},endLiveBroadcastWithCopyrightViolation:function(){b("LiveVideoBroadcastActions").setBroadcastEndedWithCopyrightViolation(),b("LiveVideoBroadcastActions").finishBroadcastRequest()},subscribeToCopyrightEvents:function(a){a=b("SkywalkerManager").subscribe("live/www/copyright/"+a,function(a){a=JSON.parse(a.payload);b("LiveVideoBroadcastActions").setCopyrightTriggered(!0);b("LiveVideoBroadcastActions").setCopyrightsViolationDialogState(a.event)});g.push(a)},unsubscribeTokens:function(){for(var a=0;a<g.length;a++){var b=g[a];b.unsubscribe()}}};e.exports=a}),null);
__d("XLiveVideoCheckIsPublishedController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_video/check_is_published/",{broadcast_id:{type:"FBID",required:!0},end_if_unpublished:{type:"Bool",defaultValue:!1}})}),null);
__d("XLiveVideoCreateBroadcastController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/create_broadcast/create/",{app_id:{type:"Int",defaultValue:1761791807395020},target_id:{type:"FBID",required:!0},enable_content_protection:{type:"Bool",defaultValue:!1},is_360_broadcast:{type:"Bool",defaultValue:!1},is_360_audio_broadcast:{type:"Bool",defaultValue:!1},is_single_fisheye_broadcast:{type:"Bool",defaultValue:!1},single_fisheye_fov:{type:"Int",defaultValue:0},projection:{type:"Enum",enumType:1},stereoscopic_mode:{type:"Enum",enumType:1},is_rehearsal:{type:"Bool",defaultValue:!1},is_instagram_crosspost_enabled:{type:"Bool",defaultValue:!1}})}),null);
__d("XLiveVideoInitCommentsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_video/init_comments/",{broadcast_id:{type:"FBID",required:!0},target_id:{type:"FBID",required:!0}})}),null);
__d("XLiveVideoPublishBroadcastController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_video/publish/",{broadcast_id:{type:"FBID"},description:{type:"String"}})}),null);
__d("LiveVideoBroadcastBroadcastStore",["fbt","CollabRTCChromeScreenSharingExtension","Bootloader","DateConsts","ErrorDialog","LiveVideoBroadcastActions","LiveVideoBroadcastConstants","ActorURI","AsyncRequest","LiveVideoBroadcastDispatcher","FBRTCHangupReason","FluxMapStore","immutable","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastAfterBootloadUtils","LiveVideoBroadcastCopyrightUtils","LiveVideoBroadcastIDStore","LiveVideoBroadcastUIStore","LiveVideoBroadcastUtils","LiveVideoLiveTraceBroadcasterLogger","MediaRecorder","RTCCallActions","RTCCallStore","RTCMWProtocolHandler","RTCUtils","UFILiveStreamingComments","ThisControllerNoLongerExists","XLiveVideoCheckIsPublishedController","XLiveVideoCreateBroadcastController","XLiveVideoInitCommentsController","XLiveVideoPublishBroadcastController","LiveStreamingSessionLogServiceProvider","FalcoEventLogWriter","UserAgent","FBWWWLiveStreamingClientBuilder","FBLogger","setTimeout","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("CollabRTCChromeScreenSharingExtension");var h=b("LiveVideoBroadcastConstants").ACTIONS,i=b("LiveVideoBroadcastConstants").BROADCAST_STATE,j=b("LiveVideoBroadcastConstants").CAMERA_DIMENSIONS,k=b("LiveVideoBroadcastConstants").CAMERA_STATE,l=b("LiveVideoBroadcastConstants").INPUT_SOURCE,m=273465416184080,n=2e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$LiveVideoBroadcastBroadcastStore4=!1,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({recordedChunks:[]})};d.reduce=function(a,c){__p&&__p();switch(c.type){case h.INITIALIZE:a=this.saveProps(a,c.value);break;case h.START_BROADCAST_REQUEST:a=a.set("broadcastStartTime",Date.now());var d=this.startBroadcast(c.download);c.blockRequest||this.sendLiveVideoPublishBroadcastRequest();a=a.set("recorder",d);break;case h.START_BROADCAST_SUCCESS:this.$LiveVideoBroadcastBroadcastStore6();this.$LiveVideoBroadcastBroadcastStore7();break;case h.REQUEST_UFI:this.$LiveVideoBroadcastBroadcastStore6();break;case h.ATTEMPT_RECONNECTION:d=this.get("maxFailureRetries")||0;var e=this.get("failureRetries")||0;this.attemptReconnection(e,d);a=a.set("failureRetries",e+1);break;case h.WEBRTC_CONNECTION_ESTABLISHED:a=a.set("failureRetries",0);break;case h.FINISH_BROADCAST_REQUEST:this.finishBroadcast();break;case h.GET_WEBCAM_STREAM_URL_REQUEST:if(this.$LiveVideoBroadcastBroadcastStore4)break;d=c.config&&c.config.audioInput?c.config.audioInput:a.get("selectedAudioInput");e=c.config&&c.config.videoInput?c.config.videoInput:a.get("selectedVideoInput");var f=a.get("mediaStream");f&&b("RTCUtils").stopMediaStream(f);a=a.set("selectedAudioInput",d);a=a.set("selectedVideoInput",e);this.createWebcamStreamUrl(d,e);break;case h.GET_SCREEN_STREAM_URL_REQUEST:f=c.config&&c.config.audioInput?c.config.audioInput:a.get("selectedAudioInput");a=a.set("selectedAudioInput",f);this.$LiveVideoBroadcastBroadcastStore8(f);break;case h.SCHEDULED_LIVE_SUCCESS:if(!c.shouldCloseDialog)break;case h.CLEANUP:a=this.getInitialState();this.$LiveVideoBroadcastBroadcastStore9();this.$LiveVideoBroadcastBroadcastStore10();break;case h.SET_INPUT_SOURCE:this.$LiveVideoBroadcastBroadcastStore7();break;case h.GET_WEBCAM_STREAM_URL_SUCCESS:a=a.set("selectedVideoInputSource","CAMERA");a=a.set("mediaStream",c.value.mediaStream);break;case h.GET_SCREEN_STREAM_URL_SUCCESS:a=a.set("selectedVideoInputSource","SCREEN");a=a.set("mediaStream",c.value.mediaStream);break;case h.DELETE_REPLAY_VIDEO:this.$LiveVideoBroadcastBroadcastStore11();break;case h.PREPARE_THUMBNAIL_URI:this.prepareThumbnailUri();break;case h.SET_THUMBNAIL_URI:a=a.set("thumbnailUri",c.value);break;case h.ERROR_TIME_OUT_WAITING_FOR_PUBLISH:case h.ERROR_TRACK_ENDED:this.finishBroadcast();break;case h.SET_TARGET:a=a.set("broadcastId",null);a=a.set("actorID",null);a=a.set("targetID",null);this.$LiveVideoBroadcastBroadcastStore12(a,c.value);break;case h.CLEAR_BROADCAST_ID:a=a.set("broadcastId",null);a=a.set("actorID",null);a=a.set("targetID",null);break;case h.SET_BROADCAST_ID:a=a.set("broadcastId",c.value);break;case h.SET_VIDEO_ID:a=a.set("videoId",c.value);break;case h.SET_CONTENT_PROTECTION_ENABLED:case h.SET_IS_360_VIDEO:case h.SET_IS_360_AUDIO:case h.SET_IS_SINGLE_FISHEYE:case h.SET_SINGLE_FISHEYE_FOV:case h.UPDATE_360_CONFIGURATION:case h.SET_IS_REHEARSAL:this.$LiveVideoBroadcastBroadcastStore13();break;case h.UPDATE_UI_CONFIG:c.values.broadcastId&&(a.get("broadcastId")==null&&c.values.broadcastId!=null&&b("LiveVideoLiveTraceBroadcasterLogger").logCreateEvent(c.values.broadcastId,m),a=a.set("broadcastId",c.values.broadcastId));c.values.videoId&&(a=a.set("videoId",c.values.videoId));c.values.viewerID&&(a=a.set("viewerID",c.values.viewerID));c.values.feedbackID&&(a=a.set("feedbackID",c.values.feedbackID));c.values.targetID&&(a=a.set("targetID",c.values.targetID));c.values.actorID&&(a=a.set("actorID",c.values.actorID));c.values.formData&&(a=a.set("formData",c.values.formData));c.values.streamSettings&&(a=a.set("streamSettings",c.values.streamSettings));c.values.maxFailureRetries&&(a=a.set("maxFailureRetries",c.values.maxFailureRetries));c.values.retryTimeoutSeconds&&(a=a.set("retryTimeoutSeconds",c.values.retryTimeoutSeconds));c.values.speedTestConfig&&(a=a.set("speedTestConfig",c.values.speedTestConfig));c.values.webRTCLoggingFreq&&(a=a.set("webRTCLoggingFreq",c.values.webRTCLoggingFreq));c.values.gks&&(a=a.set("vp8",c.values.gks.live_www_broadcasting_vp8_encoding));c.values.accountID&&(a=a.set("accountID",c.values.accountID));c.values.isCrosspost&&(a=a.set("isCrosspost",c.values.isCrosspost));c.values.scheduledLiveCrosspostPayload&&(a=a.set("scheduledLiveCrosspostPayload",c.values.scheduledLiveCrosspostPayload));c.values.dashIngestUri&&(a=a.set("dashIngestUri",c.values.dashIngestUri));c.values.speedTestUri&&(a=a.set("speedTestUri",c.values.speedTestUri));break;default:break}return a};d.saveProps=function(a,b){return a.set("failureRetries",0).set("vp8",b.vp8).set("formData",b.formData)};d.$LiveVideoBroadcastBroadcastStore13=function(){b("LiveVideoBroadcastDispatcher").waitFor([b("LiveVideoBroadcastAPIBroadcastStore").getDispatchToken()]);var a=this.get("actorID"),c=this.get("targetID");a&&c&&this.$LiveVideoBroadcastBroadcastStore14(a,c)};d.$LiveVideoBroadcastBroadcastStore14=function(a,c){__p&&__p();var d=this;this.$LiveVideoBroadcastBroadcastStore2&&this.$LiveVideoBroadcastBroadcastStore2.abandon();var e=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),f=e.is360Audio,g=e.is360Video,h=e.isContentProtectionEnabled,i=e.isSingleFisheye,j=e.singleFisheyeFOV,k=e.sphericalConfigSelectorValue,l=e.isRehearsal;e="equirectangular";var n="mono";k&&(e=k.getAuxiliaryData().projection,n=k.getAuxiliaryData().stereoMode);k=b("XLiveVideoCreateBroadcastController").getURIBuilder().setInt("app_id",m).setFBID("target_id",String(c)).setBool("enable_content_protection",h).setBool("is_360_broadcast",g).setBool("is_rehearsal",l);g&&(k=k.setBool("is_360_audio_broadcast",f).setBool("is_single_fisheye_broadcast",i).setInt("single_fisheye_fov",j).setEnum("projection",e).setEnum("stereoscopic_mode",n));k=k.getURI();k=b("ActorURI").create(k,a);this.$LiveVideoBroadcastBroadcastStore2=new(b("AsyncRequest"))(k).setData({video_broadcast_infra_type:"RTMP"}).setHandler(function(e){d.$LiveVideoBroadcastBroadcastStore2=null,b("LiveVideoBroadcastActions").apiBroadcastCreated(a||"",e.payload.id,{primaryStreamURL:e.payload.stream_url,primarySecureStreamURL:e.payload.secure_stream_url,backupStreamURL:e.payload.backup_stream_url,backupSecureStreamURL:e.payload.backup_secure_stream_url},e.payload.video_id,c||"",e.payload.embed_html,"",l===!0,e.payload.allow_unsecure_rtmp)}).setMethod("POST");this.$LiveVideoBroadcastBroadcastStore2.send()};d.$LiveVideoBroadcastBroadcastStore12=function(a,c){__p&&__p();var d=this;c=b("LiveVideoBroadcastAfterBootloadUtils").getIDsFromTarget(c,a.get("accountID"));var e=c.actorID,f=c.targetID;a=a.set("actorID",e);a=a.set("targetID",f);c=3e4;this.$LiveVideoBroadcastBroadcastStore1&&this.$LiveVideoBroadcastBroadcastStore1.abandon();var g=b("XLiveVideoCreateBroadcastController").getURIBuilder().setFBID("target_id",f).getURI();g=b("ActorURI").create(g,e);this.$LiveVideoBroadcastBroadcastStore1=new(b("AsyncRequest"))(g).setHandler(function(a){d.$LiveVideoBroadcastBroadcastStore1=null;var c=b("LiveVideoBroadcastUIStore").get("composerConfig");if(!c){b("LiveVideoBroadcastUtils").handleCreateBroadcastError({error:"No broadcast config"});return}var g=b("LiveVideoBroadcastUtils").getComposerFormData(c.contextConfig.composerID,f,c.config.contextInfo);b("LiveVideoBroadcastUtils").fetchUIConfig(e,f,a.payload.id,c.contextConfig.composerType,g)}).setErrorHandler(b("LiveVideoBroadcastUtils").handleCreateBroadcastError).setMethod("POST").setTimeoutHandler(c,b("LiveVideoBroadcastUtils").handleCreateBroadcastError);this.$LiveVideoBroadcastBroadcastStore1.send();this.$LiveVideoBroadcastBroadcastStore14(e,f);return a};d.$LiveVideoBroadcastBroadcastStore15=function(a){__p&&__p();var c=a.getAudioTracks();if(c.length===0){b("RTCUtils").stopMediaStream(a);b("LiveVideoBroadcastActions").updateCameraState(k.MICROPHONE_NOT_FOUND);return!1}c=a.getVideoTracks();if(c.length===0){b("RTCUtils").stopMediaStream(a);b("LiveVideoBroadcastActions").updateCameraState(k.CAMERA_NOT_FOUND);return!1}c[0].readyState==="ended"&&b("LiveVideoBroadcastActions").readyStateEnded();return!0};d.$LiveVideoBroadcastBroadcastStore8=function(a){__p&&__p();var c=this,d=function(a){__p&&__p();if(!c.$LiveVideoBroadcastBroadcastStore15(a))return;b("RTCCallActions").removeAllLocalStreams(!0);b("RTCCallActions").removeAllLocalScreenStreams(!0);b("RTCCallActions").addLocalScreenStream(a);b("LiveVideoBroadcastActions").getScreenStreamUrlSuccess({mediaStream:a});b("LiveVideoBroadcastActions").updateCameraState(k.BROADCAST);a=a.getVideoTracks();a[0].addEventListener("ended",function(){var a=b("LiveVideoBroadcastUIStore").getState().toObject();a=a.broadcastState;a===i.LIVE?c.finishBroadcast():b("LiveVideoBroadcastActions").getWebcamStreamUrlRequest()});c.$LiveVideoBroadcastBroadcastStore3=a[0].getSettings().height};a=this.$LiveVideoBroadcastBroadcastStore16(a);var e={audio:a,video:!1},f=b("RTCCallStore").getState().localUser.getScreenStream();return f?b("RTCUtils").getUserMedia(e).then(function(a){__p&&__p();for(var b=f.getAudioTracks(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;f.removeTrack(e)}f.addTrack(a.getAudioTracks()[0]);return f})["catch"](function(a){b("LiveVideoBroadcastActions").errorMediaValidation(a,!0)}):b("RTCUtils").getUserScreenMedia({audio:!1,video:{frameRate:{ideal:5,max:15},height:{exact:1080},mediaSource:"screen",width:{max:1920}}},"live_broadcast").then(function(a){return b("RTCUtils").getUserMedia(e).then(function(b){a.addTrack(b.getAudioTracks()[0]);return a})}).then(d)["catch"](function(a){b("LiveVideoBroadcastActions").errorMediaValidation(a,!0)})};d.createWebcamStreamUrl=function(a,c){__p&&__p();var d=this;this.$LiveVideoBroadcastBroadcastStore4=!0;var e={width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},aspectRatio:{ideal:j.SIXTEEN_NINE},frameRate:{ideal:30,max:30}};a=this.$LiveVideoBroadcastBroadcastStore16(a);var f=this.get("streamSettings");f&&f.simpleConstaints?e={height:{ideal:368},aspectRatio:{ideal:j.SIXTEEN_NINE}}:f&&f.firefoxSimpleConstraints?e={height:720,aspectRatio:j.SIXTEEN_NINE}:(f==null?void 0:f.isLiveCommentating)&&(e={width:{min:480,ideal:720,max:1080},height:{min:480,ideal:720,max:1080},aspectRatio:{ideal:j.ONE_ONE}});c&&(e=babelHelpers["extends"]({},e,{deviceId:c}));f={audio:a,video:e};c=function(a){__p&&__p();d.$LiveVideoBroadcastBroadcastStore4=!1;var c=b("LiveVideoBroadcastUIStore").get("shouldBeClosed");if(c){b("RTCUtils").stopMediaStream(a);return}if(!d.$LiveVideoBroadcastBroadcastStore15(a))return;b("RTCCallActions").removeAllLocalStreams(!0);b("RTCCallActions").removeAllLocalScreenStreams(!0);b("RTCCallActions").addLocalStream(a);b("LiveVideoBroadcastActions").getWebcamStreamUrlSuccess({mediaStream:a});b("LiveVideoBroadcastActions").updateCameraState(k.BROADCAST);c=a.getVideoTracks();c[0].addEventListener("ended",function(){var a=b("LiveVideoBroadcastUIStore").getState().toObject();a=a.broadcastState;a===i.LIVE&&b("LiveVideoBroadcastActions").errorTrackEnded()});d.$LiveVideoBroadcastBroadcastStore3=c[0].getSettings().height};return this.$LiveVideoBroadcastBroadcastStore17(f).then(c)["catch"](function(a){d.$LiveVideoBroadcastBroadcastStore4=!1;b("LiveVideoBroadcastActions").errorMediaValidation(a,!0);var c=a.name==="NotAllowedError"||a.name==="PermissionDismissedError";c=c?k.CAMERA_NOT_ALLOWED:k.CAMERA_NOT_FOUND;b("LiveVideoBroadcastActions").updateCameraState(c,a)})};d.$LiveVideoBroadcastBroadcastStore16=function(a){var b={echoCancellation:!1,channelCount:2,deviceId:a},c=this.get("streamSettings");c&&c.simpleConstaints&&(b={deviceId:a});return b};d.$LiveVideoBroadcastBroadcastStore17=function(a){return b("RTCUtils").getUserMedia(a)};d.$LiveVideoBroadcastBroadcastStore18=function(a){var b=this.get("recordedChunks");b&&a&&a.data.size>0&&b.push(a.data)};d.$LiveVideoBroadcastBroadcastStore9=function(){var a=this.get("mediaStream");a&&b("RTCUtils").stopMediaStream(a)};d.$LiveVideoBroadcastBroadcastStore10=function(){var a=this.get("videoId");if(!a)return;b("UFILiveStreamingComments").stop(a)};d.startBroadcast=function(a){b("gkx")("944030")?this.$LiveVideoBroadcastBroadcastStore19():this.$LiveVideoBroadcastBroadcastStore20(a)};d.$LiveVideoBroadcastBroadcastStore19=function(){__p&&__p();var a=this.get("broadcastId"),c=this.get("dashIngestUri"),d=this.get("speedTestUri"),e=this.get("mediaStream");if(a==null||c==null||d==null||e==null){b("setTimeout")(function(){return b("LiveVideoBroadcastActions").errorBroadcastCouldNotStart()},0);return}a={broadcastID:a,transportConfig:{downloadRequestBlobs:!1,dashIngestUri:c,speedTestConfig:{speedTestPayloadSizeBytes:1e5,maxTestDurationMs:1e4,maxConcurrentRequests:1,maxTotalRequests:10,speedTestUrl:d,speedTestMinimumBandwidthThreshold:1e5,percentOfEstimatedBitrateToUse:.5},backOffFactor:2,retryDelayMs:500,maxAttempts:3},mediaRecorderConfig:{codec:"video/webm; codecs="+(b("UserAgent").isBrowser("Chrome")?"vp9":"vp8"),maxVideoBitrate:4e6,maxAudioBitrate:128e3,chunkSizeInMs:1e3}};c=new(b("FalcoEventLogWriter"))();d=new(b("LiveStreamingSessionLogServiceProvider"))();this.$LiveVideoBroadcastBroadcastStore5=new(b("FBWWWLiveStreamingClientBuilder"))(a).setSessionCallbacks({onStarted:function(){},onInitialized:function(){},onPaused:function(){},onResumed:function(){},onStopped:function(){},onReleased:function(){},onError:function(a){b("FBLogger")("www_livestreaming").warn(a.toString())}}).setMediaStream(e).addService(c).addServiceProvider(d).build();this.$LiveVideoBroadcastBroadcastStore5.start()};d.$LiveVideoBroadcastBroadcastStore20=function(a){__p&&__p();var c=this,d=this.get("broadcastId");if(d==null){b("setTimeout")(function(){return b("LiveVideoBroadcastActions").errorBroadcastCouldNotStart()},0);return}b("LiveVideoLiveTraceBroadcasterLogger").logBeginEvent(d);var e=this.get("streamSettings"),f=this.get("vp8")?{video:"VP8/90000"}:{video:"H264/90000"};b("RTCCallActions").addListener("onIceConnectionStateChange",function(a){a==="disconnected"?b("LiveVideoBroadcastActions").errorConnectionBroken():a==="connected"?b("LiveVideoBroadcastActions").webRTCConnectionEstablished():b("LiveVideoBroadcastActions").iceConnectionStateChanged(a),a==="failed"&&b("LiveVideoBroadcastActions").attemptReconnection()});var g={};e&&(g={"H264/90000":{"x-google-start-bitrate":e.initialBitrate},"opus/48000/2":{minaveragebitrate:e.minAudioBitrate,maxaveragebitrate:e.maxAudioBitrate},"VP8/90000":e.maxVideoBitrate?{"x-google-max-bitrate":e.maxVideoBitrate}:{}});var h=b("RTCCallStore").getState();h=h.localUser;h=[].concat(h.streams.toArray(),h.screenStreams.toArray());var i=void 0;e&&e.firefoxSimpleConstraints&&(i=function(a){var b=c.$LiveVideoBroadcastBroadcastStore3?c.$LiveVideoBroadcastBroadcastStore3/360:1;a.setParameters(babelHelpers["extends"]({},a.getParameters(),{encodings:[{maxBitrate:1e6,scaleResolutionDownBy:b}]}))});e=new(b("RTCMWProtocolHandler"))();e.startCall([],h,"LIVE:"+d,{addStreamCallback:i,callTrigger:"live_video",formatParameters:g,preferredCodecs:f});b("LiveVideoBroadcastCopyrightUtils").subscribeToCopyrightEvents(d);e=Math.max(b("LiveVideoBroadcastConstants").PUBLISH_FAILURE_TIMEOUT_S-5,0);b("setTimeout")(function(){return c.$LiveVideoBroadcastBroadcastStore21()},e*b("DateConsts").MS_PER_SEC);h=null;if(a){i=this.get("mediaStream");g={mimeType:"video/webm; codecs=vp9"};h=new(b("MediaRecorder"))(i,g);h.ondataavailable=function(a){return c.$LiveVideoBroadcastBroadcastStore18(a)};h.start()}return h};d.sendLiveVideoPublishBroadcastRequest=function(){__p&&__p();var a=this.get("broadcastId");a=b("XLiveVideoPublishBroadcastController").getURIBuilder().setFBID("broadcast_id",a);a=b("ActorURI").create(a.getURI(),this.get("actorID"));var c=this.get("formData"),d=b("LiveVideoBroadcastUIStore").getState().toObject();d=d.composerConfig;if(d){d=b("LiveVideoBroadcastUtils").getComposerFormData(d.contextConfig.composerID,d.contextConfig.targetID,d.config.contextInfo);for(var e in c)d[e]!==null&&(c[e]=d[e])}new(b("AsyncRequest"))().setURI(a).setData(c).setHandler(function(){return b("LiveVideoBroadcastActions").startLiveBroadcastSuccess()}).setErrorHandler(function(a){return b("LiveVideoBroadcastActions").errorBroadcastCouldNotStart()}).send()};d.attemptReconnection=function(a,c){__p&&__p();var d=b("LiveVideoBroadcastUIStore").getState().toObject(),e=d.connectionBroken;d=d.broadcastState;if(a<c&&d===i.LIVE&&e){a=this.get("broadcastId");if(a!=null){c=new(b("RTCMWProtocolHandler"))();c.iceRestart("LIVE:"+a,b("RTCCallStore").getState().callInfo.serverInfoData)}b("setTimeout")(function(){return b("LiveVideoBroadcastActions").attemptReconnection()},(this.get("retryTimeoutSeconds")||b("LiveVideoBroadcastConstants").DEFAULT_RETRY_TIMEOUT_SECONDS)*1e3)}else e&&b("setTimeout")(function(){return b("LiveVideoBroadcastActions").errorConnectionFailed()},1)};d.$LiveVideoBroadcastBroadcastStore21=function(a){__p&&__p();var c=this,d=this.get("broadcastId")||"";a=a?b("LiveVideoBroadcastConstants").PUBLISH_FAILURE_TIMEOUT_S*1.5:b("LiveVideoBroadcastConstants").PUBLISH_FAILURE_TIMEOUT_S;var e=this.getCurrentBroadcastTime()>a;a=b("XLiveVideoCheckIsPublishedController").getURIBuilder().setFBID("broadcast_id",d).setBool("end_if_unpublished",e).getURI();var f=function(a,d){var f=b("LiveVideoBroadcastUIStore").getState().toObject();f=f.broadcastState;if(f===i.FINISHED)return;f=a.payload;f.is_published||(e?b("LiveVideoBroadcastActions").errorTimeOutWaitingForPublish("CLIENT"):b("setTimeout")(function(){c.$LiveVideoBroadcastBroadcastStore21(d)},n))};new(b("AsyncRequest"))().setURI(a).setHandler(function(a){return f(a,!1)}).setErrorHandler(function(a){return f(a,!0)}).send()};d.$LiveVideoBroadcastBroadcastStore6=function(){__p&&__p();var a=b("LiveVideoBroadcastIDStore").get("broadcastID"),c=this.get("targetID");if(!a||!c){b("setTimeout")(function(){return b("LiveVideoBroadcastActions").requestUFI()},n);return}a=b("XLiveVideoInitCommentsController").getURIBuilder().setFBID("broadcast_id",a).setFBID("target_id",c);c=b("ActorURI").create(a.getURI(),this.get("actorID"));a=function(a){a=a.payload;if(!a.success){b("setTimeout")(function(){return b("LiveVideoBroadcastActions").requestUFI()},n);return}b("LiveVideoBroadcastActions").updateBroadcastUIConfig({feedbackID:a.feedbackID})};new(b("AsyncRequest"))().setURI(c).setHandler(a).setErrorHandler(a).send()};d.$LiveVideoBroadcastBroadcastStore7=function(){var a=b("LiveVideoBroadcastUIStore").getState().toObject();a=a.inputSource;a!==l.CAMERA&&this.$LiveVideoBroadcastBroadcastStore9()};d.finishBroadcast=function(){__p&&__p();var a=b("LiveVideoBroadcastUIStore").getState().toObject();a=a.inputSource;if(a!==l.CAMERA)return;var c=this.get("broadcastId"),d=this.get("videoId");if(c==null||d==null){this.$LiveVideoBroadcastBroadcastStore22();b("setTimeout")(function(){return b("LiveVideoBroadcastActions").errorEndBroadcastMutationFail("No broadcast ID")},0);return}b("setTimeout")(function(){return b("RTCCallActions").removeAllLocalStreams(!0)},0);b("setTimeout")(function(){b("RTCMWProtocolHandler").endCall("LIVE:"+c,b("RTCCallStore").getState().callInfo.serverInfoData,b("FBRTCHangupReason").HANGUP_CALL,"User ending live stream"),b("Bootloader").loadModules(["ModernLiveVideoEndMutation","RelayFBEnvironment"],function(a,c){var e=this;a.commit(c,{videoID:d},{onCompleted:function(){b("LiveVideoBroadcastActions").finishBroadcastSuccess()},onError:function(a){b("LiveVideoBroadcastActions").errorEndBroadcastMutationFail(a),e.$LiveVideoBroadcastBroadcastStore22()}})},"LiveVideoBroadcastBroadcastStore")},1e3*3);a=this.get("recorder");var e=this.get("recordedChunks");if(a&&e){a.stop();a=new Blob(e,{type:"video/webm"});e=URL.createObjectURL(a);a=document.createElement("a");document.body&&(document.body.appendChild(a),a.style.cssText="display: none",a.href=e,a.download="test.webm",a.click(),window.URL.revokeObjectURL(e))}};d.$LiveVideoBroadcastBroadcastStore11=function(){var a=this.get("videoId");a&&this.deleteVideo(a)};d.deleteVideo=function(a){new(b("AsyncRequest"))().setURI("/ajax/video/actions/delete/").setData({fbid:a,redirect:!1}).setHandler(function(a){}).send()};d.prepareThumbnailUri=function(){this.get("videoId")||"";var a=b("ThisControllerNoLongerExists").__DEADURI__("5g1c01ti");new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return b("LiveVideoBroadcastActions").setThumbnailUri(a.getPayload())}).send()};d.getCurrentBroadcastTime=function(){var a=this.get("broadcastStartTime");return typeof a==="number"?Math.floor((Date.now()-a)/1e3):0};d.$LiveVideoBroadcastBroadcastStore22=function(){b("ErrorDialog").show(g._("End broadcast error"),g._("Error ending broadcast, please try again"))};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoBroadcastDispatcher"))}),null);
__d("LiveVideoBroadcastIDStore",["FluxDerivedStore","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastDispatcher","LiveVideoBroadcastUIStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastUIStore")]};d.__getData=function(a){a=b("LiveVideoBroadcastUIStore").get("inputSource");var c=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),d=c.apiBroadcastID;c=c.apiVideoID;var e=b("LiveVideoBroadcastBroadcastStore").getState().toObject();return{inputSource:a,apiBroadcastID:d,apiVideoID:c,cameraBroadcastID:e.broadcastId,cameraVideoID:e.videoId}};d.__computeResult=function(a,b){if(b.inputSource==="CAMERA"||b.inputSource==="EDIT")switch(a){case"broadcastID":return b.cameraBroadcastID;case"videoID":return b.cameraVideoID}if(b.inputSource==="API"||b.inputSource==="VIDEO_GAME"||b.inputSource==="EDIT_SCHEDULE")switch(a){case"broadcastID":return b.apiBroadcastID;case"videoID":return b.apiVideoID}return null};return c}(b("FluxDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoBroadcastDispatcher"))}),null);
__d("ComposerVideoShowsState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={composerID:null,isEpisode:null,isRecap:!1,shouldShowPlaylistSelector:!1,playlistIDs:[],seasonID:null,seriesID:null,playlistOptions:{},seasonOptions:{},seriesOptionsMap:b("immutable").Map(),seriesToSeasonOptionsMap:b("immutable").Map()};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("ComposerVideoShowsStore",["AsyncRequest","AsyncTypedRequest","ComposerVideoShowsActions","ComposerVideoShowsActionTypes","ComposerVideoShowsDispatcher","ComposerVideoShowsState","ComposerVideoUploadActions","FluxReduceStore","LiveVideoBroadcastActions","PageContentTabShowsStore","ReactComposerLiveBroadcastPreviewActions","XPagesVideoListsController","XVideoComposerBootloadEditDistributionTabController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("ComposerVideoShowsState"))()};d.initialize=function(a,c,d){__p&&__p();this.getState().composerID===a&&d?(d=this.getState(),d=d.set("shouldShowPlaylistSelector",!0)):(d=this.getInitialState(),d=d.set("composerID",a),d=d.set("shouldShowPlaylistSelector",!1));c==="page_content_tab_season_details"&&(d=d.set("isEpisode",!0),d=d.set("seasonID",b("PageContentTabShowsStore").getVideoListID()||null));if(c==="page_content_tab_playlist_details"){a=b("PageContentTabShowsStore").getVideoListID();d=d.set("playlistIDs",a?[a]:[]);d=d.set("shouldShowPlaylistSelector",!0)}(c==="shows_home_episodes_card"||c==="page_composer_episode_card")&&(d=d.set("isEpisode",!0));c==="live_broadcast"&&(d=d.set("shouldShowPlaylistSelector",!0));return d};d.reduce=function(a,c){__p&&__p();switch(c.type){case b("ComposerVideoShowsActionTypes").INITIALIZE:a=this.initialize(c.composerID,c.composerEntryPoint,c.isEditing);this.$ComposerVideoShowsStore1(a);break;case b("ComposerVideoShowsActionTypes").SET_IS_EPISODE:a=a.set("isEpisode",c.isEpisode);c.isEpisode||(a=a.set("seriesID",null),a=a.set("seasonID",null));this.$ComposerVideoShowsStore1(a);break;case b("ComposerVideoShowsActionTypes").SET_PLAYLISTS:a=a.set("playlistIDs",c.playlistIDs);this.$ComposerVideoShowsStore1(a);break;case b("ComposerVideoShowsActionTypes").SET_SEASON:a=a.set("seasonID",c.seasonID);this.$ComposerVideoShowsStore1(a);break;case b("ComposerVideoShowsActionTypes").SET_SERIES:a=a.set("seriesID",c.seriesID);this.$ComposerVideoShowsStore1(a);break;case b("ComposerVideoShowsActionTypes").SET_SERIES_AND_SEASON_OPTIONS:a=a.set("seriesToSeasonOptionsMap",c.seriesToSeasonOptionsMap);a=a.set("seriesOptionsMap",c.seriesOptionsMap);return a;case b("ComposerVideoShowsActionTypes").LOAD_EPISODE_DATA:a=this.initialize(c.composerID,"",!0);a=a.set("isEpisode",c.isEpisode);a=a.set("seasonID",c.seasonID);a=a.set("seriesID",c.seriesID);a=a.set("playlistIDs",c.playlistIDs);this.$ComposerVideoShowsStore1(a);break;case b("ComposerVideoShowsActionTypes").SET_PLAYLIST_OPTIONS:return a.set("playlistOptions",c.value);case b("ComposerVideoShowsActionTypes").SET_SEASON_OPTIONS:return a.set("seasonOptions",c.value);case b("ComposerVideoShowsActionTypes").REQUEST_VIDEO_LIST_OPTIONS:this.$ComposerVideoShowsStore2(c.pageID);break;case b("ComposerVideoShowsActionTypes").REQUEST_SHOWS_V2_VIDEO_DATA:this.$ComposerVideoShowsStore3(c.videoID);break}return a};d.$ComposerVideoShowsStore1=function(a){b("ComposerVideoUploadActions").updateEpisodeData(a.get("composerID"),{isEpisode:a.get("isEpisode"),seasonID:a.get("seasonID"),seriesID:a.get("seriesID"),playlistIDs:a.get("playlistIDs"),isRecap:a.get("isRecap")}),b("ReactComposerLiveBroadcastPreviewActions").setEpisodeData(a.get("composerID"),{isEpisode:a.get("isEpisode"),seasonID:a.get("seasonID"),seriesID:a.get("seriesID"),playlistIDs:a.get("playlistIDs"),isRecap:!1}),b("LiveVideoBroadcastActions").setEpisodeData({isEpisode:a.get("isEpisode"),seasonID:a.get("seasonID"),seriesID:a.get("seriesID"),playlistIDs:a.get("playlistIDs"),isRecap:!1})};d.$ComposerVideoShowsStore2=function(a){a=b("XPagesVideoListsController").getURIBuilder().setFBID("page_id",a).getURI();new(b("AsyncTypedRequest"))(a).setReplaceTransportMarkers().setPayloadHandler(function(a){var c=a.seasonOptions||{},d=a.playlistOptions||{},e=a.seriesOptionsMap||b("immutable").Map();a=a.seriesToSeasonOptionsMap||b("immutable").Map();b("ComposerVideoShowsActions").setSeriesAndSeasonOptions(e,a);b("ComposerVideoShowsActions").setSeasonOptions(c);b("ComposerVideoShowsActions").setPlaylistOptions(d)}).send()};d.$ComposerVideoShowsStore3=function(a){a=b("XVideoComposerBootloadEditDistributionTabController").getURIBuilder().setFBID("video_id",a).getURI();new(b("AsyncRequest"))(a).setHandler(function(a){if(a.payload.showsV2EpisodeData!=null){a=a.payload.showsV2EpisodeData;a.season_id!=null&&b("ComposerVideoShowsActions").setSeason(String(a.season_id));b("ComposerVideoShowsActions").setSeries(String(a.show_id))}}).setErrorHandler(function(a){}).send()};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ComposerVideoShowsDispatcher"))}),null);
__d("XLiveVideoBroadcastMaybeLaunchEndScreenSurveyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/live/broadcast/end_screen_survey/",{broadcast_id:{type:"FBID",required:!0}})}),null);
__d("LiveVideoBroadcastUIStore",["fbt","AsyncRequest","ComposerVideoShowsActions","ComposerVideoShowsDispatcher","ComposerVideoShowsStore","ErrorDialog","FluxMapStore","LiveVideoBroadcastAfterBootloadUtils","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastConstants","LiveVideoBroadcastDispatcher","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerFundraiserAttachmentActions","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerType","ReactDOM","VideoBroadcastFlowTypes","XLiveVideoBroadcastMaybeLaunchEndScreenSurveyController","ge","gkx","immutable","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoBroadcastFlowTypes").BroadcastPlaybackMode,i=(a=b("LiveVideoBroadcastConstants")).ACTIONS,j=a.BROADCAST_STATE,k=a.CAMERA_STATE,l=a.INPUT_SOURCE,m=a.ENCODER_TYPE,n=a.RHC_TAB_TYPE;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({broadcastCouldNotStart:!1,broadcastCouldNotPublish:!1,broadcastState:j.PREVIEW,cameraState:k.CHECK_CAMERA_ACCESS,canSeeCopyrightOption:!1,canSeeDisturbingOptions:!1,countdownTime:null,connectionBroken:!1,connectionFailed:!1,dialog:null,dialogContainerID:null,composerConfig:null,isCommentatingDisabled:!1,isIsrEnabled:!1,broadcastPlaybackMode:h.NORMAL_LATENCY,isOnline:!0,isUpdateRequestPending:!1,showNUX:!1,showReplay:!1,startTime:0,wasEverOffline:!1,ufiConfig:{},ufiMarkup:null,isDescriptionExpanded:!1,warnOnExit:!0,tagList:null,pendingCleanup:!1,peopleTaggerSource:null,inputSource:l.CAMERA,isScheduledLiveRequestPending:!1,showSaveChangesDialog:!1,showJoinGroupCTA:!1,sponsorEnabled:!1,sponsorConfig:null,isDialogLoading:!1,hideInputToggle:!1,shouldBeClosed:!0,canEndLiveVideo:!1,canEnableLiveCoverVideo:!1,isLiveCoverVideoEnabled:!1,selectedEncoderType:m.STREAM_KEY,selectedRHCTab:n.POST,isRewindEnabled:!1,canEnableRewind:!1,commentModes:[],isFundraiserSelected:!1,enableWasLivePollVoting:!1,canSeeWasLiveVotingToggle:!1,hasCreatedPollRecently:!1,videoPollWWWPlacement:"top_right",rightsManagerVersion:null,enableEventTicketPromotion:!1})};d.reduce=function(a,c){__p&&__p();switch(c.type){case i.SHOW_REPLAY:a=a.set("showReplay",!0);break;case i.SET_UPDATE_REQUEST_PENDING:a=a.set("isUpdateRequestPending",c.value);break;case i.UPDATE_CAMERA_STATE:a=a.set("cameraState",c.value);break;case i.UPDATE_COUNTDOWN:a=a.set("countdownTime",c.value);break;case i.FINISH_COUNT_DOWN:a=a.set("startTime",Date.now());a=a.set("broadcastState",j.READY_TO_LIVE);a=a.set("countdownTime",null);break;case i.API_GO_LIVE_CLICKED:a=a.set("startTime",Date.now());break;case i.START_BROADCAST_SUCCESS:a=a.set("broadcastState",j.LIVE);a=a.set("countdownTime",null);a=this.$LiveVideoBroadcastUIStore1(a);break;case i.START_LIVE_COUNTDOWN:a=a.set("countdownTime",b("LiveVideoBroadcastConstants").COUNTDOWN_START_TIME);break;case i.CANCEL_LIVE_COUNTDOWN:a=a.set("countdownTime",null);break;case i.FINISH_BROADCAST_REQUEST:a=a.set("broadcastState",j.FINISHING);break;case i.FINISH_BROADCAST_SUCCESS:a=a.set("broadcastState",j.FINISHED);a=a.set("showReplay",!0);var d=b("LiveVideoBroadcastBroadcastStore").get("broadcastId");d=b("XLiveVideoBroadcastMaybeLaunchEndScreenSurveyController").getURIBuilder().setFBID("broadcast_id",d).getURI();new(b("AsyncRequest"))().setURI(d).setMethod("GET").setReadOnly(!0).send();break;case i.API_BROADCAST_STOPPED:a=a.set("broadcastState",j.FINISHED);a=a.set("showReplay",!0);break;case i.ERROR_CONNECTION_BROKEN:a=a.set("connectionBroken",!0);break;case i.ERROR_CONNECTION_FAILED:a=a.set("connectionFailed",!0);break;case i.WEBRTC_CONNECTION_ESTABLISHED:a=a.set("connectionBroken",!1);break;case i.ERROR_BROADCAST_COULD_NOT_START:a=a.set("broadcastCouldNotStart",!0);break;case i.ERROR_BROADCAST_PUBLISH_FAIL:case i.ERROR_TIME_OUT_WAITING_FOR_PUBLISH:case i.ERROR_MWS_BAD_AUDIO_OR_VIDEO_DATA:case i.ERROR_RTC_CLIENT_ERROR:case i.ERROR_TRACK_ENDED:a=a.set("broadcastCouldNotPublish",!0);a=a.set("broadcastState",j.FINISHED);break;case i.ACCEPT_ERROR_BROADCAST_COULD_NOT_START:a=a.set("broadcastCouldNotStart",!1);break;case i.ERROR_STARTING_API_BROADCAST:b("LiveVideoBroadcastAfterBootloadUtils").showErrorDialog();break;case i.NETWORK_OFFLINE:a=a.set("isOnline",!1);a=a.set("wasEverOffline",!0);break;case i.NETWORK_ONLINE:a=a.set("isOnline",!0);break;case i.SET_SHOW_NUX:a=a.set("showNUX",c.value);break;case i.SETUP_UFI:a.get("broadcastState")===j.LIVE&&(a=a.set("ufiConfig",c.ufiConfig),a=a.set("ufiMarkup",c.ufiMarkup));break;case i.SET_DIALOG:a=a.set("dialog",c.value);break;case i.SET_DIALOG_CONTAINER_ID:a=a.set("dialogContainerID",c.value);break;case i.SET_COMPOSER_CONFIG:a=a.set("composerConfig",c.value);break;case i.SET_DESCRIPTION_EXPANDED:a=a.set("isDescriptionExpanded",c.value);break;case i.INITIALIZE:a=a.set("shouldBeClosed",!1);c.value&&c.value.inputSource!=null&&(a=a.set("inputSource",c.value.inputSource));break;case i.CLEANUP:a=this.getInitialState();a=a.set("warnOnExit",!1);a=a.set("pendingCleanup",!0);a=this.$LiveVideoBroadcastUIStore2(a);break;case i.FINISHED_CLEANUP:a=a.set("pendingCleanup",!1);break;case i.SCHEDULED_LIVE_SUCCESS:c.shouldCloseDialog?(a=this.getInitialState(),a=a.set("warnOnExit",!1),a=this.$LiveVideoBroadcastUIStore2(a,!0)):a=a.set("isScheduledLiveRequestPending",!1);break;case i.PREPARE_BROADCAST_FOR_SCHEDULED_LIVE:case i.SCHEDULED_LIVE_REQUEST:a=a.set("isScheduledLiveRequestPending",!0);break;case i.SCHEDULED_LIVE_FAIL:a=a.set("isScheduledLiveRequestPending",!1);this.$LiveVideoBroadcastUIStore3();break;case i.SET_DESCRIPTION:a=a.set("description",c.value.description);a=a.set("shortDescription",c.value.shortDescription);break;case i.SET_TAG_LIST:a=a.set("tagList",c.value);break;case i.SET_PRIVACY_SELECTOR:a=a.set("privacySelector",c.value);break;case i.SET_PEOPLE_TAGGER_SOURCE:a=a.set("peopleTaggerSource",c.value);break;case i.SET_IS_FUNDRAISER_SELECTED:a=a.set("isFundraiserSelected",c.value);break;case i.SET_TARGET:case i.CLEAR_BROADCAST_ID:a=a.set("allowBroadcastRehearsal",!1);a=a.set("composerPrivacySelector",null);a=a.set("profilePicUri",null);a=a.set("sponsorEnabled",!1);a=a.set("targetingEnabled",!1);a=a.set("canEnableRewind",!1);a=a.set("isRewindEnabled",!1);a=a.set("showJoinGroupCTA",!1);a=this.$LiveVideoBroadcastUIStore4(a,!1);break;case i.UPDATE_UI_CONFIG:c.values.encoders&&(a=a.set("encoders",c.values.encoders));c.values.composerPrivacySelector&&(a=a.set("composerPrivacySelector",c.values.composerPrivacySelector));c.values.shareMode&&(a=a.set("shareMode",c.values.shareMode));c.values.description&&(a=a.set("description",c.values.description));c.values.shortDescription&&(a=a.set("shortDescription",c.values.shortDescription));c.values.showNUX&&(a=a.set("showNUX",c.values.showNUX));c.values.tagList&&(a=a.set("tagList",c.values.tagList));a=a.set("hasCreatedPollRecently",c.values.hasCreatedPollRecently===!0);c.values.privacySelector&&(a=a.set("privacySelector",c.values.privacySelector));c.values.profileLink&&(a=a.set("profileLink",c.values.profileLink));if(c.values.gks){a=a.set("gks",c.values.gks);d=((d=c.values.gks)==null?void 0:d.live_rewind_option_in_composer)===!0;a=a.set("canEnableRewind",d);d&&c.values.isRewindEnabled!=void 0&&(a=a.set("isRewindEnabled",c.values.isRewindEnabled));d=((d=c.values.gks)==null?void 0:d.allow_broadcast_rehearsal)===!0;a=a.set("allowBroadcastRehearsal",d)}c.values.commentModes&&(a=a.set("commentModes",c.values.commentModes));c.values.targetSelectorProps&&(a=a.set("targetSelectorProps",c.values.targetSelectorProps));c.values.profilePicUri&&(a=a.set("profilePicUri",c.values.profilePicUri));c.values.accessToken&&(a=a.set("accessToken",c.values.accessToken));c.values.timezoneString&&(a=a.set("timezoneString",c.values.timezoneString));c.values.cameraEmbedHTML!==void 0&&(a=a.set("cameraEmbedHTML",c.values.cameraEmbedHTML));c.values.targetingEnabled!==void 0&&(a=a.set("targetingEnabled",c.values.targetingEnabled));c.values.fundraiserEnabled!==void 0&&(a=this.$LiveVideoBroadcastUIStore4(a,Boolean(c.values.fundraiserEnabled)));c.values.canSeeDisturbingOptions!==void 0&&(a=a.set("canSeeDisturbingOptions",c.values.canSeeDisturbingOptions));c.values.sponsorEnabled!==void 0&&(a=a.set("sponsorEnabled",c.values.sponsorEnabled));c.values.sponsorConfig&&(a=a.set("sponsorConfig",c.values.sponsorConfig));c.values.showJoinGroupCTA!==void 0&&(a=a.set("showJoinGroupCTA",c.values.showJoinGroupCTA));c.values.canSeeCopyrightOption!==void 0&&(a=a.set("canSeeCopyrightOption",c.values.canSeeCopyrightOption));c.values.rightsManagerVersion!==void 0&&(a=a.set("rightsManagerVersion",c.values.rightsManagerVersion));if(c.values.targetID&&c.values.targetID!==b("LiveVideoBroadcastBroadcastStore").get("targetID")){if(c.values.isShowPage){b("ComposerVideoShowsDispatcher").explicitlyRegisterStore(b("ComposerVideoShowsStore"));d=this.get("composerConfig");var e=d&&d.composerID;e&&b("setTimeout")(function(){return b("ComposerVideoShowsActions").initialize(e,"live_broadcast",!1)},0)}a=a.set("episodeData",null)}if(c.values.episodeData!=void 0){var f=c.values.episodeData;a=a.set("episodeData",f);b("ComposerVideoShowsDispatcher").explicitlyRegisterStore(b("ComposerVideoShowsStore"));d=this.get("composerConfig");var g=d&&d.composerID;g&&b("setTimeout")(function(){b("ComposerVideoShowsActions").initialize(g,"live_broadcast",!0),b("ComposerVideoShowsActions").loadEpisodeData(g,f)},0)}c.values.isShowPage!==void 0&&(a=a.set("isShowPage",c.values.isShowPage));c.values.canEndLiveVideo!=void 0&&(a=a.set("canEndLiveVideo",c.values.canEndLiveVideo));d=c.values.pageLiveCoverVideoData;d&&(a=a.set("isLiveCoverVideoEnabled",d.isLiveCoverVideoEnabled),a=a.set("canEnableLiveCoverVideo",d.canEnableLiveCoverVideo));c.values.hasGamingContext&&(a=a.set("hasGamingContext",c.values.hasGamingContext),a.get("inputSource")===l.API&&(a=a.set("inputSource",l.VIDEO_GAME)));c.values.enableEventTicketPromotion!=null&&(a=a.set("enableEventTicketPromotion",c.values.enableEventTicketPromotion));break;case i.SET_INPUT_SOURCE:a=a.set("inputSource",c.source);break;case i.SET_DIALOG_LOADING:a=a.set("isDialogLoading",c.value);break;case i.SET_EPISODE_DATA:a=a.set("episodeData",c.episodeData);break;case i.SET_HIDE_INPUT_TOGGLE:a=a.set("hideInputToggle",c.hideInputToggle);break;case i.SET_BROADCAST_STATE:a=a.set("broadcastState",c.broadcastState);break;case i.SET_START_TIME:a=a.set("startTime",c.startTime);break;case i.SET_LIVE_COVER_VIDEO_ENABLED:a=a.set("isLiveCoverVideoEnabled",c.value);break;case i.SET_SELECTED_ENCODER_TYPE:a=a.set("selectedEncoderType",c.encoderType);c.encoderType===m.PAIRED_ENCODER&&(a=a.set("selectedRHCTab",n.SETTINGS));break;case i.SET_SELECTED_RHC_TAB:a=a.set("selectedRHCTab",c.selectedTab);break;case i.SET_REWIND_ENABLED:a=a.set("isRewindEnabled",c.enabled);break;case i.SET_SHOW_SAVE_CHANGES_DIALOG:a=a.set("showSaveChangesDialog",c.value);break;case i.SET_COMMENT_MODES:a=a.set("commentModes",c.value);break;case i.ENABLE_WAS_LIVE_POLL_VOTING:a=a.set("enableWasLivePollVoting",c.enabled);break;case i.SET_SHOW_WAS_LIVE_VOTING_TOGGLE:a=a.set("canSeeWasLiveVotingToggle",c.shouldShow);break;case i.CHANGE_VIDEO_POLL_WWW_PLACEMENT:a=a.set("videoPollWWWPlacement",c.placement);break;case i.SET_COMMENTATING_DISABLED:a=a.set("isCommentatingDisabled",c.value);break;case i.SET_ISR_ENABLED:a=a.set("isIsrEnabled",c.value);break;case i.SET_BROADCAST_PLAYBACK_MODE:a=a.set("broadcastPlaybackMode",c.value);break;case i.SET_ENABLE_EVENT_TICKET_PROMOTION:a=a.set("enableEventTicketPromotion",c.value);break;default:break}return a};d.$LiveVideoBroadcastUIStore3=function(){b("ErrorDialog").show(g._("Broadcast error"),g._("Error scheduling broadcast, please try again"))};d.$LiveVideoBroadcastUIStore5=function(){var a=this.get("composerConfig");a=a&&a.composerID;a&&(b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").FUNDRAISER_SPROUT,b("ReactComposerTaggerType").FUNDRAISER,{}),b("ReactComposerFundraiserAttachmentActions").setMarkup(a,null))};d.$LiveVideoBroadcastUIStore4=function(a,b){a=a.set("fundraiserEnabled",b);b||this.$LiveVideoBroadcastUIStore5();return a};d.$LiveVideoBroadcastUIStore2=function(a,c){__p&&__p();var d=this.get("dialog");if(d){var e=b("ge")(this.get("dialogContainerID"));e&&b("ReactDOM").unmountComponentAtNode(e);d.destroy();a=a.set("pendingCleanup",!1)}else window.close();e=this.get("composerConfig");d=this.get("broadcastState");e=e&&e.composerID;e&&(c||d!==j.PREVIEW&&d!==j.READY_TO_LIVE?b("ReactComposerActions").reset(e):b("ReactComposerAttachmentActions").selectAttachment(e,b("ReactComposerAttachmentType").STATUS));return a};d.$LiveVideoBroadcastUIStore1=function(a){if(b("gkx")("1176856")){var c=this.get("composerConfig");c=c&&c.composerID;c&&b("ReactComposerActions").postSucceeded(c)}return a};return c}(b("FluxMapStore"));c.__moduleID=e.id;e.exports=new c(b("LiveVideoBroadcastDispatcher"))}),null);
__d("LivingRoomSidePaneTopBanner.react",["cx","LivingRoomFeedAttachmentBadgeRow.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").jsx("div",{className:"_7yso",children:b("React").jsx(b("LivingRoomFeedAttachmentBadgeRow.react"),{livingRoomID:a.livingRoomID,premiereLivingRoomBadgeText:a.badgeText,showTimerForCountdownType:a.badgeText!=null?"PREMIERE":"LOBBY"})})}e.exports=a}),null);
__d("LivingRoomActionPaneAnimationContainer.react",["cx","LivingRoomSidePaneTopBanner.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return b("React").jsxs("div",{className:"_7fj-",style:{animation:((c=a.animation)!=null?c:"living-room-side-pane-slide-left")+" 0.5s ease"},children:[a.hideBadge===!0?null:b("React").jsx(b("LivingRoomSidePaneTopBanner.react"),{livingRoomID:a.livingRoomID,badgeText:a.badgeText}),a.children]})}e.exports=a}),null);
__d("LivingRoomAddVideoPageVideoList.react",["cx","fbt","InfiniteScroll.react","LivingRoomConstants","LivingRoomTypeUtils","React","RelayModern","XUISpinner.react","getObjectValues","nullthrows","LivingRoomAddVideoPageVideoList_page.graphql","LivingRoomAddVideoPageVideoListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1,results:{}},d.$1=-1,d.$3=function(){var a;a=((a=d.props)!=null?(a=a.page)!=null?(a=a.living_room_eligible_videos)!=null?(a=a.edges)!=null?a.length:a:a:a:a)||0;if(!d.props.relay.hasMore()||d.props.relay.isLoading()||d.$1===a)return;d.$1=a;d.props.relay.loadMore(b("LivingRoomConstants").VIDEO_SEARCH_RESULTS_PER_EXTRA_PAGE,function(a){d.setState({isLoading:!0})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){__p&&__p();if(!this.props.page||!this.props.page.living_room_eligible_videos)return;var a=Object.keys(this.state.results).length,c=this.props.page.living_room_eligible_videos.edges.length,d=0,e=babelHelpers["extends"]({},this.state.results);for(var f=a;f<=a+c;f++){var g,h;g=(g=this.props.page.living_room_eligible_videos)==null?void 0:g.edges[d];d+=1;if(!g||!g.node)continue;h=b("nullthrows")((h=g.node)==null?void 0:h.id);if(h in e)continue;g=b("LivingRoomTypeUtils").convertVideo(b("nullthrows")(g.node));if(this.props.filterLivingRoomVideoFn&&!this.props.filterLivingRoomVideoFn(g))continue;e[h]=this.props.videoItemRenderer({video:g,curationContext:this.props.curationContext,key:"uploaded_video_"+h})}this.setState({results:e});Object.keys(this.state.results).length===0?(this.setState({isLoading:!0}),this.$3()):this.setState({isLoading:!1})};d.componentDidMount=function(){this.$2()};d.UNSAFE_componentWillReceiveProps=function(){this.$2()};d.render=function(){__p&&__p();if(!this.props.page||!this.props.page.living_room_eligible_videos)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});var a=this.state.isLoading?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null;if(this.props.videoLimit!=null){if(Object.keys(this.state.results).length===0)return b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")});var c=this.props.videoLimit==null?0:this.props.videoLimit;return b("getObjectValues")(this.state.results).slice(0,c)}return b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$3,distanceToEnd:1,children:[b("getObjectValues")(this.state.results),a]})};return c}(b("React").Component);e.exports=a(c,{page:i!==void 0?i:i=b("LivingRoomAddVideoPageVideoList_page.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.page)!=null?a.living_room_eligible_videos:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,id:c.id}},query:j!==void 0?j:j=b("LivingRoomAddVideoPageVideoListPaginationQuery.graphql")})}),null);
__d("LivingRoomSidePanePlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){function a(){var a;return(a=b("React")).jsxs("div",{className:"_7g9d",children:[a.jsx("div",{className:"_7g9e"}),a.jsxs("div",{className:"_7g9f",children:[a.jsx("div",{className:"_7g9g"}),a.jsx("div",{className:"_7g9h"}),a.jsx("div",{className:"_7g9i"})]})]})}e.exports=a}),null);
__d("LivingRoomAddVideoPageVideoDialogBody.react",["cx","LivingRoomAddVideoPageVideoList.react","LivingRoomSidePanePlaceholder.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","LivingRoomAddVideoPageVideoDialogBodyQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.timeRequested=new Date();b.constructLogger().setLivingRoomAction("curation_videos_requested").setCurationContext(c.props.curationContext).log();return c}var d=c.prototype;d.render=function(){__p&&__p();var a=this;return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomAddVideoPageVideoDialogBodyQuery.graphql"),render:function(c){__p&&__p();c.error;c=c.props;var d=null;if(!c||!c.page)a.props.inSidePane?d=b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{}):d=b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});else{var e=new Date();a.props.constructLogger().setLivingRoomAction("curation_videos_returned").setCurationContext(a.props.curationContext).setTimeSpent(e.getTime()-a.timeRequested.getTime()).log();d=b("React").jsx(b("LivingRoomAddVideoPageVideoList.react"),{curationContext:a.props.curationContext,filterLivingRoomVideoFn:a.props.isPrerollLivingRoom===!0?function(a){return a.is_eligible_for_preroll_living_room===!0}:void 0,page:c.page,videoItemRenderer:a.props.videoItemRenderer,videoLimit:a.props.videoLimit})}return a.props.premiereVideoItem!=null?b("React").jsxs("div",{children:[b("React").jsx("div",{children:a.props.premiereVideoItem}),d]}):d},variables:{id:this.props.pageID}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoManualSearchResult.react",["cx","fbt","LivingRoomTypeUtils","React","RelayFBEnvironment","RelayModern","XUISpinner.react","LivingRoomAddVideoManualSearchResultQuery.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k="manual";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this;return b("React").jsx(j,{environment:b("RelayFBEnvironment"),query:i!==void 0?i:i=b("LivingRoomAddVideoManualSearchResultQuery.graphql"),render:function(c){c.error;c=c.props;if(!c)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});if(!c.video)return b("React").jsx("div",{className:"_65__",children:b("React").jsx("div",{className:"_65qv",children:h._("No results found")})});a.props.onResults&&a.props.onResults();return a.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(c.video),curationContext:k,key:"key"})},variables:{id:this.props.videoID}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomFBIDUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getIDFromVideosURL:function(a){__p&&__p();var b=new RegExp("\\/videos\\/[^\\/]*\\/(\\d+)"),c=b.exec(a);if(c&&c.length>0)return c[1];b=new RegExp("\\/videos\\/(\\d+)");c=b.exec(a);if(c&&c.length>0)return c[1];b=new RegExp("\\/permalink\\/(\\d+)\\/");c=b.exec(a);return c&&c.length>0?c[1]:null}};e.exports=a}),null);
__d("LivingRoomPageOwnedVideoSearchResultsList.react",["cx","fbt","LivingRoomTypeUtils","React","RelayFBEnvironment","RelayModern","XUISpinner.react","LivingRoomPageOwnedVideoSearchResultsListQuery.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k="search_page_owned_videos";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.timeRequested=new Date(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.timeRequested=new Date(),this.props.constructLogger().setLivingRoomAction("curation_videos_requested").setCurationContext(k).log()};d.render=function(){__p&&__p();var a=this;return b("React").jsx(j,{environment:b("RelayFBEnvironment"),query:i!==void 0?i:i=b("LivingRoomPageOwnedVideoSearchResultsListQuery.graphql"),render:function(c){__p&&__p();c.error;c=c.props;if(!c)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});c=(c=c.living_room_owned_videos)==null?void 0:c.videos;if(!c||c.length===0)return b("React").jsx("div",{className:"_65__",children:b("React").jsx("div",{className:"_65qv",children:h._("No results found")})});a.props.onResults&&a.props.onResults();var d=new Date();a.props.constructLogger().setLivingRoomAction("curation_videos_returned").setCurationContext(k).setTimeSpent(d.getTime()-a.timeRequested.getTime()).log();return b("React").jsx("div",{className:"_6e67",children:c.map(function(c){c=b("LivingRoomTypeUtils").convertVideo(c);return a.props.videoItemRenderer({video:c,curationContext:k,key:"search_result_"+c.id})})})},variables:{search_query:this.props.searchQuery,page_id:this.props.pageID,filtering_mode:this.props.filteringMode}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoSubscriptionsDialogNetworkVideos.react",["cx","fbt","FBLogger","FDSSpinner.react","InfiniteScroll.react","LivingRoomTypeUtils","React","RelayModern","nullthrows","LivingRoomAddVideoSubscriptionsDialogNetworkVideos_videoList.graphql","LivingRoomAddVideoSubscriptionsDialogNetworkVideosPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$1=function(){var a=d.props.relay;if(!a.hasMore()||a.isLoading()||!d.props.shouldInfiniteScroll)return;d.setState({isLoading:!0});a.loadMore(d.props.resultsPageSize,function(a){d.setState({isLoading:!1}),a!=null&&b("FBLogger")("living_room").mustfix("Unable to load more sotto videos %s",a.toString())})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c;c=(c=this.props.videoList)==null?void 0:(c=c.video_list_videos)==null?void 0:c.edges;if(c==null||c.length<1)return b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")});var d=this.state.isLoading?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("FDSSpinner.react"),{})}):null;return b("React").jsx("div",{children:b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$1,distanceToEnd:10,children:[c.map(function(c){return a.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(b("nullthrows")(c.node)),curationContext:"subscriptions",key:"subscription_video_"+b("nullthrows")((c=c.node)==null?void 0:c.id)})}),d]})})};return c}(b("React").Component);e.exports=a(c,{videoList:i!==void 0?i:i=b("LivingRoomAddVideoSubscriptionsDialogNetworkVideos_videoList.graphql")},{direction:"forward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.videoList)==null?void 0:a.video_list_videos},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,videoListID:a.videoList.id}},query:j!==void 0?j:j=b("LivingRoomAddVideoSubscriptionsDialogNetworkVideosPaginationQuery.graphql")})}),null);
__d("LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainer.react",["LivingRoomAddVideoSubscriptionsDialogNetworkVideos.react","React","RelayModern","LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainer_videoList.graphql","LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainerRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("LivingRoomAddVideoSubscriptionsDialogNetworkVideos.react"),{resultsPageSize:this.props.resultsPageSize,shouldInfiniteScroll:this.props.shouldInfiniteScroll,videoList:this.props.videoList,videoItemRenderer:this.props.videoItemRenderer})};return c}(b("React").Component);e.exports=a(c,{videoList:g!==void 0?g:g=b("LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainer_videoList.graphql")},h!==void 0?h:h=b("LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainerRefetchQuery.graphql"))}),null);
__d("LivingRoomSottoVideoListResultsList.react",["cx","LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainer.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","LivingRoomSottoVideoListResultsListQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=5;function a(a){return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomSottoVideoListResultsListQuery.graphql"),render:function(c){c.error;c=c.props;return(c==null?void 0:c.video_list_view)==null?b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq _7zlx",size:"large"}):b("React").jsx("div",{className:"_6m4n",children:b("React").jsx(b("LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainer.react"),{resultsPageSize:j,shouldInfiniteScroll:!0,videoList:c==null?void 0:c.video_list_view,videoItemRenderer:a.videoItemRenderer})})},variables:{videoListID:a.videoListID}})}e.exports=a}),null);
__d("LivingRoomFeaturedVideoSection.react",["cx","fbt","CurrentUser","LivingRoomTypeUtils","React","RelayFBEnvironment","RelayModern","nullthrows","LivingRoomFeaturedVideoSectionQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this;return b("React").jsx(j,{environment:b("RelayFBEnvironment"),query:i!==void 0?i:i=b("LivingRoomFeaturedVideoSectionQuery.graphql"),render:function(c){c.error;c=c.props;c=(c=c)!=null?(c=c.user)!=null?c.living_room_featured_videos:c:c;if(!c)return null;c=c.map(function(c){return a.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(b("nullthrows")(c)),curationContext:"featured",key:"featured_"+b("nullthrows")(c.id)})});return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_1i4n",children:h._("Featured")}),c]})},variables:{id:b("CurrentUser").getAccountID()}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoMainTabPane.react",["cx","LeftRight.react","Link.react","React"],(function(a,b,c,d,e,f,g){function a(a){var c;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsxs(b("LeftRight.react"),{className:"_3-8u _3-8n",children:[c.jsx("div",{"aria-label":a.title,role:"heading",className:"_7fux",children:a.title}),c.jsx("span",{className:"_7fk1",children:c.jsx(b("Link.react"),{"aria-label":a.linkTitle,onClick:a.onLinkClick,children:a.linkTitle})})]}),a.body]})}e.exports=a}),null);
__d("LivingRoomVideoCollectionItem.react",["LivingRoomTypeUtils","React","RelayModern","LivingRoomVideoCollectionItem_collection.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.videoCollectionRenderer;a=a.collection;var d=b("LivingRoomTypeUtils").convertVideos(a.videos);a=(a=a.title)!=null?a:"";return c({title:a,videos:d})}e.exports=c(a,{collection:g!==void 0?g:g=b("LivingRoomVideoCollectionItem_collection.graphql")})}),null);
__d("LivingRoomVideoSearchResultsCollections.react",["fbt","CurrentUser","LivingRoomAddVideoMainTabPane.react","LivingRoomSidePanePlaceholder.react","LivingRoomVideoCollectionItem.react","React","RelayFBEnvironment","RelayModern","LivingRoomVideoSearchResultsCollectionsQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomVideoSearchResultsCollectionsQuery.graphql"),render:function(c){c.error;c=c.props;c=c==null?void 0:(c=c.user)==null?void 0:c.living_room_suggested_collections;var d=a.props.videoCollectionRenderer,e=c!=null&&c.length>0?c.map(function(a,c){return b("React").jsx(b("LivingRoomVideoCollectionItem.react"),{collection:a,videoCollectionRenderer:d},a.title)}):b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{});return(c==null?void 0:c.length)===0?null:b("React").jsx(b("LivingRoomAddVideoMainTabPane.react"),{title:g._("Suggested Playlists"),body:b("React").jsx("div",{children:e})})},variables:{id:b("CurrentUser").getAccountID()}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomVideoSearchResultsRecommended.react",["ix","cx","fbt","CurrentUser","FBLoadShimmer.react","Image.react","LivingRoomTypeUtils","React","RelayFBEnvironment","RelayModern","SearchableEntry","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","asset","immutable","LivingRoomVideoSearchResultsRecommendedQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=b("immutable").List();for(var c=0;c<6;c++)a=a.concat(b("React").jsxs("div",{className:"_3pwa",children:[b("React").jsx(b("FBLoadShimmer.react"),{className:"_3pwb"}),b("React").jsx(b("FBLoadShimmer.react"),{className:"_695t"})]},c));return b("React").jsx("div",{className:"_3pvy",children:a})};d.$2=function(a){var c=this,d,e=a.map(function(a,c){var d=a.profile_picture.uri?b("React").jsx(b("Image.react"),{className:"_3pwb",src:a.profile_picture.uri}):null;return b("React").jsxs(b("XUICarouselItem.react"),{className:"_3pwa",children:[d,b("React").jsx("div",{className:"_695u",children:a.name})]},c)});return(d=b("React")).jsx(b("XUICarousel.react"),{animator:new(b("XUICarouselAnimator"))({centered:!1,firstAndLastAligned:e.count()>5}),initialIndex:0,initialAutoplay:!1,resizeViewport:"disabled",wrapAround:e.count()>5,viewportHeight:128,onItemClick:function(d){var e=new(b("SearchableEntry"))({photo:a.get(d).profile_picture.uri,uniqueID:a.get(d).id,title:a.get(d).name});c.props.onClick(e);c.props.constructLogger().setLivingRoomAction("click_recommended_show").updateExtraData({show_id:a.get(d).id}).log()},arrows:[d.jsx(b("XUICarouselArrow.react"),{children:d.jsx(b("Image.react"),{src:g("514569")})}),d.jsx(b("XUICarouselArrow.react"),{children:d.jsx(b("Image.react"),{src:g("514570")})})],children:e.toArray()})};d.render=function(){var a=this;return b("React").jsx(k,{environment:b("RelayFBEnvironment"),query:j!==void 0?j:j=b("LivingRoomVideoSearchResultsRecommendedQuery.graphql"),render:function(c){c.error;c=c.props;c=b("LivingRoomTypeUtils").convertRecommendedShows((c=c)!=null?(c=c.user)!=null?c.living_room_recommended_shows:c:c);c=c.count()>0?a.$2(c):a.$1();return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_3pvx",children:i._("Suggested Shows")}),b("React").jsx("div",{className:"_3pw8",children:c})]})},variables:{id:b("CurrentUser").getAccountID()}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomVideoSearchResultsRecommendedGamingVideos.react",["ix","cx","fbt","FBLoadShimmer.react","Image.react","LivingRoomTypeUtils","React","RelayFBEnvironment","RelayModern","SearchableEntry","VideoDuration.react","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","asset","immutable","LivingRoomVideoSearchResultsRecommendedGamingVideosQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=b("immutable").List();for(var c=0;c<6;c++){var d;a=a.concat((d=b("React")).jsxs("div",{className:"_3pwa",children:[d.jsx(b("FBLoadShimmer.react"),{className:"_6wd5"}),d.jsx(b("FBLoadShimmer.react"),{className:"_6wd6"}),d.jsx(b("FBLoadShimmer.react"),{className:"_6wd7"})]},c))}return b("React").jsx("div",{className:"_3pvy",children:a})};d.$2=function(a){var c=this,d,e=a.map(function(a,c){var d;d=(a==null?void 0:(d=a.preferred_thumbnail)==null?void 0:(d=d.image)==null?void 0:d.uri)?b("React").jsx(b("Image.react"),{className:"_6wd5",src:a.preferred_thumbnail.image.uri}):null;var e=b("React").jsx(b("VideoDuration.react"),{isLive:!0});return b("React").jsxs(b("XUICarouselItem.react"),{className:"_3pwa",children:[b("React").jsxs("div",{children:[d,b("React").jsx("div",{className:"_6wd8",children:e})]}),b("React").jsx("div",{className:"_6wd9",children:a.owner.name}),b("React").jsx("div",{className:"_6wda",children:a.name.length>0?a.name:a.message.text})]},c)});return(d=b("React")).jsx(b("XUICarousel.react"),{animator:new(b("XUICarouselAnimator"))({centered:!1,firstAndLastAligned:e.count()>5}),initialIndex:0,initialAutoplay:!1,resizeViewport:"disabled",wrapAround:e.count()>5,viewportHeight:130,onItemClick:function(d){var e=new(b("SearchableEntry"))({photo:a.get(d).preferred_thumbnail.image.uri,uniqueID:a.get(d).id,title:a.get(d).name});c.props.onClick(e);c.props.constructLogger().setLivingRoomAction("click_recommended_video").updateExtraData({video_id:a.get(d).id}).log()},arrows:[d.jsx(b("XUICarouselArrow.react"),{children:d.jsx(b("Image.react"),{src:g("514569")})}),d.jsx(b("XUICarouselArrow.react"),{children:d.jsx(b("Image.react"),{src:g("514570")})})],children:e})};d.render=function(){var a=this;return b("React").jsx(k,{environment:b("RelayFBEnvironment"),query:j!==void 0?j:j=b("LivingRoomVideoSearchResultsRecommendedGamingVideosQuery.graphql"),render:function(c){c.error;c=c.props;c=b("LivingRoomTypeUtils").convertVideos((c=c)!=null?(c=c.group)!=null?c.living_room_recommended_gaming_videos:c:c);c=c.count()>0?a.$2(c):a.$1();return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_3pvx",children:i._("Recommended Gaming")}),b("React").jsx("div",{className:"_3pw8",children:c})]})},variables:{id:this.props.groupID}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomVideoSearchNullStateResults.react",["cx","fbt","FDSSpinner.react","InfiniteScroll.react","LivingRoomConstants","LivingRoomFeaturedVideoSection.react","LivingRoomTypeUtils","LivingRoomVideoSearchResultsCollections.react","LivingRoomVideoSearchResultsRecommended.react","LivingRoomVideoSearchResultsRecommendedGamingVideos.react","OnVisible.react","React","RelayModern","gkx","nullthrows","qex","LivingRoomVideoSearchNullStateResults_user.graphql","LivingRoomVideoSearchNullStateResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$1=function(){if(!d.props.relay.hasMore()||d.props.relay.isLoading())return;d.setState({isLoading:!0});d.props.relay.loadMore(b("LivingRoomConstants").VIDEO_SEARCH_RESULTS_PER_EXTRA_PAGE,function(a){d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c;c=(c=this.props)!=null?(c=c.user)!=null?(c=c.living_room_suggested_videos_watch)!=null?c.edges:c:c:c;var d=c?c.map(function(c){var d;return!((d=c)!=null?(d=d.node)!=null?d.id:d:d)?null:a.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(b("nullthrows")(c.node)),curationContext:"suggested_episodes",key:"suggested_episodes_"+b("nullthrows")((d=c)!=null?(d=d.node)!=null?d.id:d:d)})}):null,e=this.state.isLoading?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("FDSSpinner.react"),{})}):null,f=this.props.isGameGroup?b("React").jsx(b("LivingRoomVideoSearchResultsRecommendedGamingVideos.react"),{groupID:this.props.groupID,constructLogger:this.props.constructLogger,onClick:this.props.onSelectRecommendedGamingVideos,videoItemRenderer:this.props.videoItemRenderer}):null,g=b("React").jsx(b("LivingRoomVideoSearchResultsRecommended.react"),{constructLogger:this.props.constructLogger,onClick:this.props.onSelectRecommended,videoItemRenderer:this.props.videoItemRenderer}),i=this.props.videoCollectionRenderer;i=i!=null&&this.props.initializedFromComposer?b("React").jsx(b("LivingRoomVideoSearchResultsCollections.react"),{videoCollectionRenderer:i}):null;var j=b("qex")._("780648"),k=j?b("qex")._("780649"):h._("Suggested For You");j=!j&&b("gkx")("678869")?b("React").jsx(b("LivingRoomFeaturedVideoSection.react"),{videoItemRenderer:this.props.videoItemRenderer}):null;if(this.props.videoLimit!=null)return d==null||d.length===0?b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")}):d.slice(0,this.props.videoLimit);return this.props.suggestionsAfter!=null?d==null||d.length<this.props.suggestionsAfter?b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")}):b("React").jsxs("div",{children:[d.slice(this.props.suggestionsAfter),b("React").jsx(b("OnVisible.react"),{onVisible:this.$1,children:b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("FDSSpinner.react"),{})})})]}):b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$1,distanceToEnd:30,children:[j,i,f,g,b("React").jsx("div",{className:"_695w",children:k}),c?d:b("React").jsx("div",{className:"_695v",children:b("React").jsx(b("FDSSpinner.react"),{})}),e]})};return c}(b("React").Component);e.exports=a(c,{user:i!==void 0?i:i=b("LivingRoomVideoSearchNullStateResults_user.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.user)!=null?a.living_room_suggested_videos_watch:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,id:c.id,living_room_id:c.living_room_id,target_id:c.target_id,video_ids:c.video_ids}},query:j!==void 0?j:j=b("LivingRoomVideoSearchNullStateResultsPaginationQuery.graphql")})}),null);
__d("LivingRoomVideoSearchNullState.react",["cx","CurrentUser","LivingRoomSidePanePlaceholder.react","LivingRoomVideoSearchNullStateResults.react","React","RelayFBEnvironment","RelayModern","LivingRoomVideoSearchNullStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;function a(a){return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomVideoSearchNullStateQuery.graphql"),render:function(c){var d=c.error;c=c.props;if((!c||!c.user)&&a.inSidePane)return b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{});d=!d&&c&&c.user?c.user:null;return b("React").jsx("div",{className:a.inSidePane?"":"_6e67",children:b("React").jsx(b("LivingRoomVideoSearchNullStateResults.react"),{user:d,groupID:a.groupID,initializedFromComposer:a.initializedFromComposer,isGameGroup:a.isGameGroup,constructLogger:a.constructLogger,videoLimit:a.videoLimit,suggestionsAfter:a.suggestionsAfter,inSidePane:a.inSidePane,onSelectRecommended:a.onSelectRecommended,onSelectRecommendedGamingVideos:a.onSelectRecommendedGamingVideos,videoItemRenderer:a.videoItemRenderer,videoCollectionRenderer:a.videoCollectionRenderer})})},variables:{id:b("CurrentUser").getAccountID(),video_ids:[a.mainVideoID],living_room_id:a.livingRoomID,target_id:a.groupID}})}e.exports=a}),null);
__d("LivingRoomVideoSearchResults.react",["cx","fbt","InfiniteScroll.react","LivingRoomConstants","LivingRoomTypeUtils","React","RelayModern","XUISpinner.react","getObjectValues","nullthrows","LivingRoomVideoSearchResults_search_query.graphql","LivingRoomVideoSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$1={},d.$2="",d.$3=function(){if(!d.props.relay.hasMore()||d.props.relay.isLoading())return;d.setState({isLoading:!0});d.props.relay.loadMore(b("LivingRoomConstants").VIDEO_SEARCH_RESULTS_PER_EXTRA_PAGE,function(a){d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();this.$2!==this.props.queryString&&(this.$1={},this.$2=this.props.queryString);if(!this.props.search_query||!this.props.search_query.results)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});var a=this.props.search_query.results.edges.length;for(var c=0;c<a;c++){var d=this.props.search_query.results.edges[c];if(!d||!d.node||d.node.id==null)continue;d=b("nullthrows")(d.node);var e=b("nullthrows")(d.id);if(e in this.$1)continue;this.$1[e]=this.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(d),curationContext:this.props.curationContext,key:"search_result_"+e})}d=this.state.isLoading?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null;return Object.keys(this.$1).length===0?b("React").jsx("div",{className:"_65__",children:b("React").jsx("div",{className:"_65qv",children:h._("No results found")})}):b("React").jsx("div",{className:"_6m4n",children:b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$3,distanceToEnd:30,children:[b("getObjectValues")(this.$1),d]})})};return c}(b("React").Component);e.exports=a(c,{search_query:i!==void 0?i:i=b("LivingRoomVideoSearchResults_search_query.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.search_query)!=null?a.results:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,query_arguments:c.query_arguments}},query:j!==void 0?j:j=b("LivingRoomVideoSearchResultsPaginationQuery.graphql")})}),null);
__d("LivingRoomVideoSearchResultsList.react",["cx","LivingRoomVideoSearchResults.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","sprintf","LivingRoomVideoSearchResultsListQuery.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.timeRequested=new Date(),this.props.constructLogger().setLivingRoomAction("curation_videos_requested").setCurationContext(this.props.curationContext).log()};d.$1=function(a){return b("sprintf")("%s(%s)",this.props.searchBQF,a)};d.$2=function(){return{bqf:this.$1(this.props.searchQuery),filtered_query_arguments:{filter_photo_location:!1}}};d.render=function(){__p&&__p();var a=this;return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomVideoSearchResultsListQuery.graphql"),render:function(c){__p&&__p();var d=c.error;c=c.props;if(d)return b("React").jsx("div",{});if(!c||!c.search_query)return b("React").jsx("div",{className:"_7u8h",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"})});a.props.onResults&&a.props.onResults();d=new Date();a.props.constructLogger().setLivingRoomAction("curation_videos_returned").setCurationContext(a.props.curationContext).setTimeSpent(d.getTime()-a.timeRequested.getTime()).log();return b("React").jsx(b("LivingRoomVideoSearchResults.react"),{curationContext:a.props.curationContext,search_query:c.search_query,queryString:a.props.searchQuery,videoItemRenderer:a.props.videoItemRenderer})},variables:{search_query:this.$2()}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoSearchDialogBody.react",["cx","fbt","AdsValidatorTests","BasicFBNux","CurrentUser","FluxContainer","LivingRoomAddVideoManualSearchResult.react","LivingRoomComposerActions","LivingRoomComposerStore","LivingRoomConstants","LivingRoomFBIDUtils","LivingRoomPageOwnedVideoSearchResultsList.react","LivingRoomSottoVideoListResultsList.react","LivingRoomTypeValues","LivingRoomVideoSearchNullState.react","LivingRoomVideoSearchResultsList.react","React","SearchableEntry","URI","WebAsyncSearchSource","XUIAmbientNUX.react","XUITypeahead.react","ads-lib-urllib","debounce"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("AdsValidatorTests").isFBIDString,k=b("LivingRoomTypeValues").OwnerTypeValue,l=b("LivingRoomTypeValues").WalkthroughStepValue;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hideNUX:!1,selectedPage:b("LivingRoomComposerStore").getAddVideoSelectedPage(),selectedVideo:b("LivingRoomComposerStore").getAddVideoSelectedVideo(),selectedVideoList:b("LivingRoomComposerStore").getAddVideoSelectedVideoList(),curationContext:"search",inputSearchQuery:b("LivingRoomComposerStore").getAddVideoInputSearchQuery(),submittedSearchQuery:b("LivingRoomComposerStore").getAddVideoSubmittedSearchQuery(),searchSource:new(b("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:{filter:["page"],viewer:b("CurrentUser").getAccountID()}}],auxiliaryFields:{verified:"is_verified"}})},d.$1=null,d.$2=function(a){__p&&__p();if(a.target.value===""){var c;d.setState({curationContext:"search"});(c=b("LivingRoomComposerActions")).clearAddVideoSearchQueries();c.clearAddVideoSelectedPage();c.clearAddVideoSelectedVideo();c.clearAddVideoSelectedVideoList()}else{var c;d.setState({curationContext:"search"});(c=b("LivingRoomComposerActions")).setAddVideoInputSearchQuery(a.target.value);c.clearAddVideoSelectedPage();c.clearAddVideoSelectedVideo();c.clearAddVideoSelectedVideoList()}},d.$3=b("debounce")(function(){if(!(d.state.selectedPage||d.state.selectedVideo||d.state.selectedVideoList)){var a=d.state.inputSearchQuery.trim();b("LivingRoomComposerActions").setAddVideoSubmittedSearchQuery(a);d.props.constructLogger().setLivingRoomAction("execute_video_search").setQuery(a).log()}},b("LivingRoomConstants").VIDEO_SEARCH_DEBOUNCING_DELAY),d.$9=function(){d.$1&&d.$1.blurInput&&d.$1.blurInput()},d.$11=function(a){var c=a.getTitle();d.setState({curationContext:"page"});b("LivingRoomComposerActions").setAddVideoInputSearchQuery(c);b("LivingRoomComposerActions").setAddVideoSubmittedSearchQuery(a.getUniqueID());b("LivingRoomComposerActions").setAddVideoSelectedPage(a);d.props.constructLogger().setLivingRoomAction("execute_page_search").setQuery(c).log()},d.$6=function(a){var c=a.getTitle();d.setState({curationContext:"recommended_shows"});b("LivingRoomComposerActions").setAddVideoInputSearchQuery(c);b("LivingRoomComposerActions").setAddVideoSubmittedSearchQuery(a.getUniqueID());b("LivingRoomComposerActions").setAddVideoSelectedPage(a);d.props.constructLogger().setLivingRoomAction("execute_page_search").setQuery(c).log()},d.$7=function(a){var c=a.getUniqueID();d.setState({curationContext:"recommended_gaming_videos"});b("LivingRoomComposerActions").setAddVideoInputSearchQuery(c);b("LivingRoomComposerActions").setAddVideoSubmittedSearchQuery(a.getUniqueID());b("LivingRoomComposerActions").setAddVideoSelectedVideo(a);d.props.constructLogger().setLivingRoomAction("execute_video_search").setQuery(c).log()},d.$8=function(a){var c=a.video,e=a.curationContext,f=a.key;a=a.onClickPageName;e={video:c,curationContext:e,key:f,onClickPageName:a};if(c.owner.type===k.PAGE&&c.owner.is_verified&&c.owner.id){var g=new(b("SearchableEntry"))({photo:c.owner.profile_picture.uri,uniqueID:c.owner.id,title:c.owner.name});e.onClickPageName=function(){return d.$11(g)}}return d.props.videoItemRenderer(e)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomComposerStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{inputSearchQuery:(a=b("LivingRoomComposerStore")).getAddVideoInputSearchQuery(),submittedSearchQuery:a.getAddVideoSubmittedSearchQuery(),selectedPage:a.getAddVideoSelectedPage(),selectedVideo:a.getAddVideoSelectedVideo(),selectedVideoList:a.getAddVideoSelectedVideoList()})};var d=c.prototype;d.componentDidMount=function(){this.forceUpdate()};d.$4=function(a){if(j(a).isValid)return a;if(!b("ads-lib-urllib").isUrl(a))return null;var c=new(i||(i=b("URI")))(a);if(!c.isSubdomainOfDomain("facebook.com"))return null;c=b("LivingRoomFBIDUtils").getIDFromVideosURL(a);return c&&j(c).isValid?c:null};d.$5=function(){return this.props.nullState?this.props.nullState:b("React").jsx(b("LivingRoomVideoSearchNullState.react"),{groupID:this.props.groupID,isGameGroup:this.props.isGameGroup,constructLogger:this.props.constructLogger,videoLimit:null,suggestionsAfter:null,inSidePane:!1,onSelectRecommended:this.$6,onSelectRecommendedGamingVideos:this.$7,initializedFromComposer:this.props.initializedFromComposer,videoItemRenderer:this.$8,videoCollectionRenderer:this.props.videoCollectionRenderer,livingRoomID:this.props.livingRoomID,mainVideoID:this.props.mainVideoID})};d.$10=function(){__p&&__p();var a=this.state,c=a.submittedSearchQuery;a=a.selectedVideoList;if(a)return b("React").jsx(b("LivingRoomSottoVideoListResultsList.react"),{videoListID:a.getUniqueID(),videoItemRenderer:this.$8});if((this.props.isSponsoredLivingRoom||this.props.isPrerollLivingRoom)&&this.props.pageID!=null)return b("React").jsx(b("LivingRoomPageOwnedVideoSearchResultsList.react"),{constructLogger:this.props.constructLogger,filteringMode:this.props.isPrerollLivingRoom?"page_and_brand_safe":"page",onResults:this.props.onResults,pageID:this.props.pageID,searchQuery:c,videoItemRenderer:this.$8});a=this.state.selectedPage||this.state.curationContext==="page";if(!a){var d=this.$4(c);if(d)return b("React").jsx(b("LivingRoomAddVideoManualSearchResult.react"),{videoID:d,videoItemRenderer:this.$8})}return b("React").jsx(b("LivingRoomVideoSearchResultsList.react"),{constructLogger:this.props.constructLogger,onResults:this.props.onResults,curationContext:this.state.curationContext,searchQuery:c,searchBQF:a?b("LivingRoomConstants").VIDEO_SEARCH_PAGE_BQF:b("LivingRoomConstants").VIDEO_SEARCH_BQF,videoItemRenderer:this.$8})};d.$12=function(){var a=this;if(this.props.walkthroughStep!==l.SHOW_SEARCH)return null;b("BasicFBNux").onView(b("LivingRoomConstants").NUX_HOST_WALKTHROUGH);return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return a.$1},onCloseButtonClick:function(){return a.setState({hideNUX:!0})},shown:!this.state.hideNUX,width:"auto",children:h._("{Part of sentence which is emphasized} Search for videos to play during your watch party.",[h._param("Part of sentence which is emphasized",b("React").jsx("div",{className:"_3m7o",children:h._("Add Videos to Get Started")}))])})};d.render=function(){var a=this;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:(this.props.inSidePane?"":"_64v4")+(this.props.inSidePane?" _7g99":""),children:b("React").jsx(b("XUITypeahead.react"),{className:(this.props.inSidePane?"":"_4r-j")+(this.props.inSidePane?" _7g9a":""),clearable:!0,onFocus:function(){a.props.constructLogger().setLivingRoomAction("curation_click_search").log(),a.setState({hideNUX:!0})},showEntriesOnFocus:!0,selectedEntry:this.state.selectedPage||this.state.selectedVideo||this.state.selectedVideoList,showPhoto:!this.state.selectedPage||!this.state.selectedVideo||this.state.selectedVideoList,onChange:this.$2,onClear:function(){var a;(a=b("LivingRoomComposerActions")).clearAddVideoSearchQueries();a.clearAddVideoSelectedPage();a.clearAddVideoSelectedVideo();a.clearAddVideoSelectedVideoList()},onKeyDown:this.$3,onEnterWithoutSelection:this.$9,onSelectAttempt:this.$11,maxEntries:4,queryString:this.state.selectedPage?this.state.inputSearchQuery.toString():this.state.selectedVideo?this.state.selectedVideo.getTitle():this.state.inputSearchQuery.toString(),placeholder:this.props.isSponsoredLivingRoom||this.props.isPrerollLivingRoom?h._("Search for your videos..."):h._("Search for videos or pages..."),ref:function(b){return a.$1=b},searchSource:this.props.isSponsoredLivingRoom||this.props.isPrerollLivingRoom?null:this.state.searchSource,showSelection:!0,viewStyle:"rich"})}),this.state.submittedSearchQuery!==""?this.$10():this.$5(),this.$12()]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LivingRoomSidePaneHeader.react",["ix","cx","Image.react","ImageBlock.react","Link.react","React","asset"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_7fl0",children:[this.props.backButton?b("React").jsxs(b("ImageBlock.react"),{spacing:"small",className:"_7fl1",children:[b("React").jsx(b("Link.react"),{onClick:this.props.onBackClick,children:b("React").jsx(b("Image.react"),{src:g("512665")})}),b("React").jsx("div",{className:"_7fk0 _3-9a",children:this.props.title})]}):b("React").jsx("div",{className:"_7fk0",children:this.props.title}),this.props.onLinkClick?b("React").jsx("div",{className:"_7fk1",children:b("React").jsx(b("Link.react"),{onClick:this.props.onLinkClick,children:this.props.linkTitle})}):null]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomMonetizedAddVideoPane.react",["cx","fbt","LivingRoomActionPaneAnimationContainer.react","LivingRoomActions","LivingRoomAddVideoPageVideoDialogBody.react","LivingRoomAddVideoSearchDialogBody.react","LivingRoomSidePaneHeader.react","LivingRoomTypedLogger","LivingRoomTypeValues","React","nullthrows"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("LivingRoomTypeValues").SidePaneTypeValue;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.livingRoomID!=null&&b("LivingRoomActions").setActiveSidePane(d.props.livingRoomID,i.DEFAULT),d.props.onClose()},d.$2=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_view_queue").setLivingRoomID(d.props.livingRoomID).log(),b("LivingRoomActions").setActiveSidePane(d.props.livingRoomID,i.QUEUE),d.props.onClose()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.canViewerPlayContent!=null&&this.props.canViewerPlayContent===!0,c=a?h._("Add Video"):h._("Suggest Video");a=a?h._("Edit Queue"):h._("View Queue");return b("React").jsxs(b("LivingRoomActionPaneAnimationContainer.react"),{livingRoomID:this.props.livingRoomID,badgeText:this.props.badgeText,children:[b("React").jsx("div",{className:"_7fj_",children:b("React").jsx(b("LivingRoomSidePaneHeader.react"),{title:c,linkTitle:a,backButton:!0,onBackClick:this.$1,onLinkClick:this.$2})}),b("React").jsx(b("LivingRoomAddVideoSearchDialogBody.react"),{constructLogger:this.props.constructLogger,videoItemRenderer:this.props.videoItemRenderer,walkthroughStep:this.props.walkthroughStep,groupID:null,isGameGroup:!1,inSidePane:!0,isSponsoredLivingRoom:this.props.isSponsored,isPrerollLivingRoom:this.props.isPreroll,pageID:this.props.pageID,nullState:b("React").jsx(b("LivingRoomAddVideoPageVideoDialogBody.react"),{constructLogger:this.props.constructLogger,curationContext:"page",pageID:b("nullthrows")(this.props.pageID),premiereVideoItem:this.props.pagePremiereVideoItem,videoItemRenderer:this.props.videoItemRenderer,videoLimit:null,inSidePane:!0}),initializedFromComposer:!1})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomReplayAutoplayController",["VideoAutoplayControllerX","VideoAutoplayPlayerBase","getViewportDimensions","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=42,h=.5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){__p&&__p();var e;e=a.call(this)||this;e.$LivingRoomReplayAutoplayController1=new Set();e.$LivingRoomReplayAutoplayController2=b;e.$LivingRoomReplayAutoplayController4=c;e.$LivingRoomReplayAutoplayController5=d;e.$LivingRoomReplayAutoplayController6=!1;e.$LivingRoomReplayAutoplayController4.registerOption("FeedAutoplay","isVisibleForAutoplay",function(){return e.isVisible()});return e}c.registerVideoUnit=function(a,d,e){a=new c(a,d,e);a.$LivingRoomReplayAutoplayController3=b("VideoAutoplayControllerX").registerVideoUnit(a);return a};var d=c.prototype;d.$LivingRoomReplayAutoplayController7=function(){return this.$LivingRoomReplayAutoplayController4.isState("destroyed")};d.isVisible=function(){__p&&__p();if(this.$LivingRoomReplayAutoplayController7())return!1;if(this.$LivingRoomReplayAutoplayController4.isFullscreen())return!0;var a=b("getViewportDimensions")().height,c=b("getViewportDimensions")().width,d=this.getDOMPosition();if(d.height===0)return!1;var e=d.y-g+(1-h)*d.height,f=d.y+h*d.height,i=d.x+(1-h)*d.width;d=d.x+h*d.width;return e<0||f>=a||i<0||d>=c?!1:!0};d.getDistanceToViewport=function(){if(this.$LivingRoomReplayAutoplayController7())return-Infinity;if(this.$LivingRoomReplayAutoplayController4.isFullscreen())return 0;var a=b("getViewportDimensions")().height,c=this.getDOMPosition();if(c.height===0)return-Infinity;c=c.y+(1-h)*c.height;return c-a/2};d.getDOMPosition=function(){return this.$LivingRoomReplayAutoplayController4.getDOMPosition()};d.getVideoPlayerController=function(){return this.$LivingRoomReplayAutoplayController4};d.logDisplayed=function(){this.$LivingRoomReplayAutoplayController4.logEvent("displayed")};d.playWithoutUnmute=function(a){if(a==="page_visibility_initiated"&&this.$LivingRoomReplayAutoplayController6)return;this.$LivingRoomReplayAutoplayController4.getVideoState()!=="playing"&&this.$LivingRoomReplayAutoplayController4.play(a)};d.pause=function(a){this.$LivingRoomReplayAutoplayController6=a==="page_visibility_initiated"&&this.$LivingRoomReplayAutoplayController4.getVideoState()==="paused",this.$LivingRoomReplayAutoplayController4.pause(a)};d.preload=function(){this.$LivingRoomReplayAutoplayController4.preload&&this.$LivingRoomReplayAutoplayController4.preload()};d.isLooping=function(){return!1};d.isState=function(a){return this.$LivingRoomReplayAutoplayController4.isState(a)};d.initialAutoplay=function(){this.$LivingRoomReplayAutoplayController4.play("autoplay_initiated")};d.pauseIfInvisible=function(){this.isVisible()||this.pause("video_visibility_initiated")};d.isAutoplayable=function(){return this.isVisible()&&this.$LivingRoomReplayAutoplayController5};d.unregister=function(){this.$LivingRoomReplayAutoplayController3&&this.$LivingRoomReplayAutoplayController3()};d.isMuted=function(){return this.$LivingRoomReplayAutoplayController4.isMuted()};d.isPlaying=function(){return this.$LivingRoomReplayAutoplayController4.isState("playing")};d.shouldPauseWhenScrolledOffscreen=function(){return!0};d.setDimensions=function(a,b){this.$LivingRoomReplayAutoplayController4.setDimensions(a,b)};d.isRegistered=function(){return this.$LivingRoomReplayAutoplayController3==null};return c}(b("VideoAutoplayPlayerBase"));e.exports=a}),null);
__d("LivingRoomAdvanceQueueMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomAdvanceQueueMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomAdvanceQueueMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c,living_room_id:a.living_room_id,current_content_item_id:a.current_content_item_id,next_content_item_id:a.next_content_item_id,action_id:a.action_id}}})})}e.exports={commit:a}}),null);
__d("LivingRoomCancelAutoPlayVideoMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomCancelAutoPlayVideoMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomCancelAutoPlayVideoMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c,living_room_id:a.living_room_id,video_id:a.video_id}}})})}e.exports={commit:a}}),null);
__d("LivingRoomContentItemPlayNowMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomContentItemPlayNowMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomContentItemPlayNowMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c,living_room_id:a.living_room_id,content_item_id:a.content_item_id,video_event:a.video_event,action_id:a.action_id}}})})}e.exports={commit:a}}),null);
__d("LivingRoomContentItemRemoveMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomContentItemRemoveMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomContentItemRemoveMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{action_id:a.action_id,actor_id:c,content_item_id:a.content_item_id,message_actor_id:c,video_event:a.video_event}},onCompleted:a.onCompleted})})}e.exports={commit:a}}),null);
__d("LivingRoomContentQueueAppendMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomContentQueueAppendMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomContentQueueAppendMutation.graphql");function a(a,c){return h(a.living_room_id,function(d){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{action_id:a.action_id,actor_id:d,creator_actor_id:d,living_room_id:a.living_room_id,video_id:a.video_id,message_actor_id:d,video_event:a.video_event,suggested_item_id:a.suggested_item_id}},onError:c.onError,onCompleted:c.onCompleted})})}e.exports={commit:a}}),null);
__d("LivingRoomContentQueuePrependMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomContentQueuePrependMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomContentQueuePrependMutation.graphql");function a(a,c){return h(a.living_room_id,function(d){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{action_id:a.action_id,actor_id:d,creator_actor_id:d,living_room_id:a.living_room_id,video_id:a.video_id,message_actor_id:d,video_event:a.video_event,suggested_item_id:a.suggested_item_id}},onError:c.onError,onCompleted:c.onCompleted})})}e.exports={commit:a}}),null);
__d("LivingRoomContentSuggestMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomContentSuggestMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomContentSuggestMutation.graphql");function a(a,c){return h(a.living_room_id,function(d){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:d,living_room_id:a.living_room_id,video_id:a.video_id,tracking:a.tracking}},onError:c.onError})})}e.exports={commit:a}}),null);
__d("LivingRoomCustomNameUpdateMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomCustomNameUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomCustomNameUpdateMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c,living_room_id:a.living_room_id,custom_name:a.custom_name}},optimisticUpdater:function(b){b=b.get(a.living_room_id);b!=null&&b.setValue(a.custom_name,"custom_name")}})})}e.exports={commit:a}}),null);
__d("LivingRoomEndSessionMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomEndSessionMutation.graphql"],(function(a,b,c,d,e,f){var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomEndSessionMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c,living_room_id:a.living_room_id}}})})}e.exports={commit:a}}),null);
__d("LivingRoomInviteMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomInviteMutation.graphql"],(function(a,b,c,d,e,f){var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomInviteMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c,living_room_id:a.living_room_id,recipient_ids:a.recipient_ids,sender_id:a.sender_id,send_in_messenger:a.send_in_messenger}}})})}e.exports={commit:a}}),null);
__d("LivingRoomNotifSubscriptionStatusUpdateMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomNotifSubscriptionStatusUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomNotifSubscriptionStatusUpdateMutation.graphql");function a(a,c){return h(a.living_room_id,function(d){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:d,living_room_id:a.living_room_id,profile_id:a.profile_id,notif_subscription_type:a.notif_subscription_type}},onError:c})})}e.exports={commit:a}}),null);
__d("LivingRoomPromoteHostMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomPromoteHostMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomPromoteHostMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c,living_room_id:a.living_room_id,user_id:a.user_id}}})})}e.exports={commit:a}}),null);
__d("LivingRoomReactionCreateMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomReactionCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithActorID,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomReactionCreateMutation.graphql");function a(a){return h(a.actor_id,function(){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{living_room_id:a.living_room_id,reaction_type:a.reaction_id,tracking:a.tracking,actor_id:a.actor_id,living_room_content_item_id:a.living_room_content_item_id,live_content_time_offset:a.live_content_time_offset,on_demand_content_time_offset:a.on_demand_content_time_offset}}})})}e.exports={commit:a}}),null);
__d("LivingRoomRevokeHostMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomRevokeHostMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomRevokeHostMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c,living_room_id:a.living_room_id,user_id:a.user_id}}})})}e.exports={commit:a}}),null);
__d("LivingRoomSetAutoPlayStateMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomSetAutoPlayStateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomSetAutoPlayStateMutation.graphql");function a(a,c){return h(a.living_room_id,function(d){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:d,living_room_id:a.living_room_id,auto_play_enabled:a.auto_play_enabled}},onCompleted:c.onCompleted})})}e.exports={commit:a}}),null);
__d("LivingRoomSuggestedContentItemRemoveAllMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomSuggestedContentItemRemoveAllMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomSuggestedContentItemRemoveAllMutation.graphql");function a(a,c){return h(a.living_room_id,function(d){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:d,living_room_id:a.living_room_id}},onCompleted:c.onCompleted})})}e.exports={commit:a}}),null);
__d("LivingRoomSuggestedContentItemRemoveMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomSuggestedContentItemRemoveMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomSuggestedContentItemRemoveMutation.graphql");function a(a,c){return h(a.living_room_id,function(d){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:d,living_room_id:a.living_room_id,suggested_item_id:a.suggested_item_id}},onCompleted:c.onCompleted})})}e.exports={commit:a}}),null);
__d("LivingRoomVideoPlayNowMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomVideoPlayNowMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomVideoPlayNowMutation.graphql");function a(a,c){return h(a.living_room_id,function(d){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{action_id:a.action_id,actor_id:d,living_room_id:a.living_room_id,message_actor_id:d,video_id:a.video_id,video_event:a.video_event,suggested_item_id:a.suggested_item_id}},onError:c.onError,onCompleted:c.onCompleted})})}e.exports={commit:a}}),null);
__d("LivingRoomVideoStateUpdateMutation",["LivingRoomActorUtils","RelayFBEnvironment","RelayModern","LivingRoomVideoStateUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivingRoomVideoStateUpdateMutation.graphql");function a(a){return h(a.living_room_id,function(c){return i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{action_id:a.action_id,actor_id:c,content_item_id:a.content_item_id,living_room_id:a.living_room_id,marker_offset_seconds:a.marker_offset_seconds,message_actor_id:c,video_event:a.video_event,video_player_state:a.video_player_state,live_clock_timestamp_ms:a.live_clock_timestamp_ms}}})})}e.exports={commit:a}}),null);
__d("LivingRoomBannerNotificationSubscription",["LivingRoomActorUtils","RelayModern","LivingRoomBannerNotificationSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomActorUtils").runWithLivingRoomActor;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("LivingRoomBannerNotificationSubscription.graphql");function a(a,b,c){var d={input:b};return h(b.living_room_id,function(b){return i(a,{subscription:j,variables:d,onNext:c.onNext})})}e.exports={subscribe:a}}),null);
__d("LivingRoomIsRtcCallOngoingSubscription",["RelayModern","LivingRoomIsRtcCallOngoingSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=g!==void 0?g:g=b("LivingRoomIsRtcCallOngoingSubscription.graphql");function a(a,b,c){b={input:b};return h(a,{subscription:i,variables:b,onNext:c.onNext})}e.exports={subscribe:a}}),null);
__d("LivingRoomReactionsSubscription",["RelayModern","LivingRoomReactionsSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=g!==void 0?g:g=b("LivingRoomReactionsSubscription.graphql");function a(a,b,c){b={input:b};return h(a,{subscription:i,variables:b,onNext:c.onNext})}e.exports={subscribe:a}}),null);
__d("LivingRoomAddCohostButton.react",["fbt","FDSButton.react","LivingRoomActions","LivingRoomTypedLogger","LivingRoomTypeValues","React"],(function(a,b,c,d,e,f,g){var h=b("LivingRoomTypeValues").SidePaneTypeValue;function a(a){var c=function(){b("LivingRoomActions").setActiveSidePane(a.livingRoomID,h.ADD_COHOST),new(b("LivingRoomTypedLogger"))().setLivingRoomAction("show_manage_participants").setLivingRoomID(a.livingRoomID).log()};return b("React").jsx(b("FDSButton.react"),{label:g._("Add Co-host"),onClick:c,width:a.width})}e.exports=a}),null);
__d("LivingRoomAddVideoUploadedList.react",["cx","fbt","InfiniteScroll.react","LivingRoomConstants","LivingRoomTypeUtils","React","RelayModern","XUISpinner.react","nullthrows","LivingRoomAddVideoUploadedList_user.graphql","LivingRoomAddVideoUploadedListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("React").useEffect,l=b("React").useState;c=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c=l(!1),d=c[0],e=c[1];k(function(){if(!d)return;a.relay.loadMore(b("LivingRoomConstants").VIDEO_SEARCH_RESULTS_PER_EXTRA_PAGE,function(a){e(!1)})},[d,a.relay]);if(!(a==null?void 0:(c=a.user)==null?void 0:c.living_room_user_uploaded_videos))return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});c=a==null?void 0:(c=a.user)==null?void 0:(c=c.living_room_user_uploaded_videos)==null?void 0:c.edges;c=c?c.map(function(c){var d;return!c.node||((d=c.node)==null?void 0:d.is_live_streaming)?null:a.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(b("nullthrows")(c.node)),curationContext:a.curationContext,key:"uploaded_videos_"+b("nullthrows")((d=c.node)==null?void 0:d.id)})}):null;if(c==null||c.length===0)return b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")});var f=d?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null;return a.videoLimit!=null?c.slice(0,a.videoLimit):b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:function(){if(!a.relay.hasMore()||a.relay.isLoading())return;e(!0)},distanceToEnd:1,children:[c,f]})}e.exports=c(a,{user:i!==void 0?i:i=b("LivingRoomAddVideoUploadedList_user.graphql")},{direction:"forward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.user)==null?void 0:a.living_room_user_uploaded_videos},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,id:c.id}},query:j!==void 0?j:j=b("LivingRoomAddVideoUploadedListPaginationQuery.graphql")})}),null);
__d("LivingRoomAddUploadedVideoDialogBody.react",["cx","CurrentUser","LivingRoomAddVideoUploadedList.react","LivingRoomSidePanePlaceholder.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","LivingRoomAddUploadedVideoDialogBodyQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("React").useState,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;function a(a){__p&&__p();var c=i(new Date()),d=c[0];a.constructLogger().setLivingRoomAction("curation_videos_requested").setCurationContext(a.curationContext).log();return b("React").jsx(j,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomAddUploadedVideoDialogBodyQuery.graphql"),render:function(c){c=c.props;if(!c||!c.user)return a.inSidePane?b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{}):b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});a.onResults&&a.onResults();var e=new Date();a.constructLogger().setLivingRoomAction("curation_videos_returned").setCurationContext(a.curationContext).setTimeSpent(e.getTime()-d.getTime()).log();return b("React").jsx(b("LivingRoomAddVideoUploadedList.react"),{curationContext:a.curationContext,user:c.user,videoItemRenderer:a.videoItemRenderer,videoLimit:a.videoLimit})},variables:{id:b("CurrentUser").getID()}})}e.exports=a}),null);
__d("LivingRoomContentQueueUtils",["LivingRoomAdvanceQueueMutation","LivingRoomContentItemPlayNowMutation","LivingRoomContentItemRemoveMutation","LivingRoomContentQueueAppendMutation","LivingRoomContentQueuePrependMutation","LivingRoomContentSuggestMutation","LivingRoomSetAutoPlayStateMutation","LivingRoomSuggestedContentItemRemoveAllMutation","LivingRoomSuggestedContentItemRemoveMutation","LivingRoomTypedLogger","LivingRoomVideoPlayNowMutation","guid"],(function(a,b,c,d,e,f){__p&&__p();a={playContentItem:function(a,c,d){var e=b("guid")();b("LivingRoomContentItemPlayNowMutation").commit({living_room_id:a,content_item_id:c,video_event:"PLAY_FROM_QUEUE",action_id:e});new(b("LivingRoomTypedLogger"))().setLivingRoomAction("play_now").setLivingRoomID(a).setContentItemID(c).setCurationContext(d).setVideoEvent("PLAY_FROM_QUEUE").log();return e},advanceQueue:function(a,c,d){var e=b("guid")();b("LivingRoomAdvanceQueueMutation").commit({living_room_id:a,current_content_item_id:c.id,next_content_item_id:(a=d)!=null?a.id:a,action_id:e});return e},playVideo:function(a,c,d,e,f,g,h){f===void 0&&(f=function(){});g===void 0&&(g=function(){});var i=b("guid")();b("LivingRoomVideoPlayNowMutation").commit({living_room_id:a,video_id:c,suggested_item_id:e,video_event:"PLAY_DIRECT",action_id:i},{onError:f,onCompleted:g});f=h==null?new(b("LivingRoomTypedLogger"))():h();f.setLivingRoomAction("play_now").setLivingRoomID(a).setCurationContext(d).setSuggestedItemID(e).setVideoIDMarauder(c).log();return i},appendVideo:function(a,c,d,e,f,g,h){f===void 0&&(f=function(){});g===void 0&&(g=function(){});var i=b("guid")();b("LivingRoomContentQueueAppendMutation").commit({living_room_id:a,video_id:c,video_event:"ADDED_VIDEO",action_id:i,suggested_item_id:e},{onError:f,onCompleted:g});f=h==null?new(b("LivingRoomTypedLogger"))():h();f.setLivingRoomAction("add_to_queue").setLivingRoomID(a).setCurationContext(d).setSuggestedItemID(e).setVideoIDMarauder(c).log();return i},prependVideo:function(a,c,d,e,f,g,h){f===void 0&&(f=function(){});g===void 0&&(g=function(){});var i=b("guid")();b("LivingRoomContentQueuePrependMutation").commit({living_room_id:a,video_id:c,video_event:"ADDED_VIDEO",action_id:i,suggested_item_id:e},{onError:f,onCompleted:g});f=h==null?new(b("LivingRoomTypedLogger"))():h();f.setLivingRoomAction("play_next").setLivingRoomID(a).setCurationContext(d).setSuggestedItemID(e).setVideoIDMarauder(c).log();return i},suggestVideo:function(a,c,d,e,f,g){e===void 0&&(e=function(){});var h=b("guid")();b("LivingRoomContentSuggestMutation").commit({living_room_id:a,video_id:c,tracking:g},{onError:e});c=f==null?new(b("LivingRoomTypedLogger"))():f();c.setLivingRoomAction("suggest_video").setLivingRoomID(a).setCurationContext(d).log();return h},removeContentItemWithMessage:function(a,c,d,e,f){f===void 0&&(f=function(){});var g=b("guid")();b("LivingRoomContentItemRemoveMutation").commit({living_room_id:a,content_item_id:c,video_event:"REMOVED_VIDEO",action_id:g,onCompleted:f});new(b("LivingRoomTypedLogger"))().setLivingRoomAction("remove_from_queue").setLivingRoomID(a).setVideoIDMarauder(d).setContentItemID(c).setCurationContext(e).log()},removeContentItem:function(a,c,d,e){e===void 0&&(e=function(){});var f=b("guid")();b("LivingRoomContentItemRemoveMutation").commit({living_room_id:a,content_item_id:c,video_event:"REMOVED_VIDEO_WITH_PLAY",action_id:f,onCompleted:e});new(b("LivingRoomTypedLogger"))().setLivingRoomAction("remove_from_queue").setLivingRoomID(a).setVideoIDMarauder(d).setContentItemID(c).log()},dismissSuggestedContentItem:function(a,c,d,e,f){e===void 0&&(e=function(){});b("LivingRoomSuggestedContentItemRemoveMutation").commit({living_room_id:a,suggested_item_id:c},{onCompleted:e});d=f==null?new(b("LivingRoomTypedLogger"))():f();d.setContentItemID(c).setLivingRoomAction("dismiss_suggested").setLivingRoomID(a).log()},dismissAllSuggestedContent:function(a,c,d){d===void 0&&(d=function(){}),b("LivingRoomSuggestedContentItemRemoveAllMutation").commit({living_room_id:a},{onCompleted:d}),new(b("LivingRoomTypedLogger"))().setLivingRoomAction("dismiss_all_suggested").setLivingRoomID(a).log()},setAutoPlayState:function(a,c,d,e){d===void 0&&(d=function(){});b("LivingRoomSetAutoPlayStateMutation").commit({living_room_id:a,auto_play_enabled:c},{onCompleted:d});d=e==null?new(b("LivingRoomTypedLogger"))():e();d.setLivingRoomID(a).setLivingRoomAction(c?"auto_play_enabled":"auto_play_disabled").log()}};e.exports=a}),null);
__d("LivingRoomVideoListItemAddCollectionUpsell.react",["ix","cx","fbt","FDSButton.react","FDSButtonSpinner.react","Image.react","Layout.react","LayoutFillColumn.react","LivingRoomCreationSource","LivingRoomTypedLogger","LivingRoomTypeUtils","React","RelayFBEnvironment","RelayModern","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","asset","immutable","promiseDone","LivingRoomVideoListItemAddCollectionUpsellQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("RelayModern").fetchQuery;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={generatePlaylistButtonNuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").LIVING_ROOM_AVD_UPSELL_ADD_PLAYLIST),loadingPlaylist:!1},d.$3=function(){__p&&__p();var a=d.props,c=a.addVideosToQueue;a=a.videoID;var e="unknown_composer";a=[a];d.setState({loadingPlaylist:!0});new(b("LivingRoomTypedLogger"))().setLivingRoomAction("add_video_collection_avd_upsell_button_pressed").updateExtraData({queued_video_ids:a.toString()}).log();b("promiseDone")(k(b("RelayFBEnvironment"),j!==void 0?j:j=b("LivingRoomVideoListItemAddCollectionUpsellQuery.graphql"),{queuedVideos:a,creationSource:e}).then(function(a){d.$1();d.setState({loadingPlaylist:!1});a=(a=a==null?void 0:(a=a.living_room_video_collection)==null?void 0:a.videos)!=null?a:[];a=b("LivingRoomTypeUtils").convertVideos(a);c(a)}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.state.generatePlaylistButtonNuxShown&&b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").LIVING_ROOM_AVD_UPSELL_ADD_PLAYLIST),this.forceUpdate()};d.$1=function(){this.setState({generatePlaylistButtonNuxShown:!1})};d.$2=function(){var a=this;return b("React").jsx(b("React").Fragment,{children:b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.avdAttachPlaylistCTAButton},alignment:"center",position:"above",shown:this.state.generatePlaylistButtonNuxShown,onCloseButtonClick:function(){a.$1()},children:i._("Click here to automatically create a playlist based on your selected video.")})})};d.render=function(){var a,c=i._("Add Suggestions");return(a=b("React")).jsxs("div",{className:"_81tt",children:[a.jsxs(b("Layout.react"),{children:[a.jsx(b("LayoutFillColumn.react"),{className:"_81tl",children:a.jsxs("div",{className:"_81tl",children:[a.jsx(b("Image.react"),{src:g("947942")}),a.jsx("span",{className:"_81tm",children:i._("Automatically add similar videos to your queue.")})]})}),a.jsx(b("FDSButton.react"),{ref:"avdAttachPlaylistCTAButton",isDisabled:this.state.loadingPlaylist,busyIndicator:this.state.loadingPlaylist?b("React").jsx(b("FDSButtonSpinner.react"),{}):null,use:"primary",onClick:this.$3,label:c})]}),this.$2()]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomVideoListItem.react",["ix","cx","fbt","Arbiter","Badge.react","ClickableArea.react","FlexLayout.react","Image.react","ImageBlock.react","LineClamp.react","Link.react","LiveVideoBadge.react","LivingRoomVideoListItemAddCollectionUpsell.react","PopoverMenu.react","React","ReactXUIMenu","ScaledImage.react","SubscriptionsHandler","Tooltip.react","VideoBroadcastStatus","VideoDuration.react","asset","cxMargin","immutable","intlSummarizeNumber","qex"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=105,k=172;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={mouseHovered:!1,showPlaylistUpsell:!1},d.$1=new(b("SubscriptionsHandler"))(),d.$3=function(){d.setState({mouseHovered:!0})},d.$4=function(){d.setState({mouseHovered:!1})},d.$5=function(){d.props.disableClick||d.props.onClickItem()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1.addSubscriptions(b("Arbiter").subscribe("livingRoomAVD/hideCTA",function(b,c){c.videoID!==a.props.video.id&&a.setState({showPlaylistUpsell:!1})}))};d.componentWillUnmount=function(){this.$1.release()};d.componentDidUpdate=function(a,b){a.isQueued===!0&&this.props.isQueued==!1&&this.setState({showPlaylistUpsell:!1}),a.isQueued===!1&&this.props.isQueued===!0&&this.$2()};d.$2=function(){var a=b("qex")._("951372");if(a!==!0)return;b("Arbiter").inform("livingRoomAVD/hideCTA",{videoID:this.props.video.id});this.setState({showPlaylistUpsell:!0})};d.render=function(){__p&&__p();var a,c,d,e,f=this.props,h=f.addVideosToQueue,l=f.creatorName,m=f.imgHeight,n=f.imgWidth,o=f.isCondensed,p=f.isSuggested,q=f.onClickPageName,r=f.thumbnailPopoverMenu;f=f.video;if((e=f)!=null?e.is_spherical:e)return null;e=null;l&&(e=p?b("React").jsx("span",{children:i._("Suggested by {Creator name}",[i._param("Creator name",l)])}):b("React").jsx("span",{children:i._("From {Creator name}",[i._param("Creator name",l)])}));l=(p=f)!=null?(p=p.preferred_thumbnail)!=null?(p=p.image)!=null?p.width:p:p:p;p=(p=f)!=null?(p=p.preferred_thumbnail)!=null?(p=p.image)!=null?p.height:p:p:p;d=(d=f)!=null?(d=d.preferred_thumbnail)!=null?(d=d.image)!=null?d.uri:d:d:d;if(d===null){var s;l=(s=f)!=null?(s=s.image)!=null?s.width:s:s;p=(s=f)!=null?(s=s.image)!=null?s.height:s:s;d=(s=f)!=null?(s=s.image)!=null?s.uri:s:s}s=(s=f)!=null?(s=s.owner)!=null?s.name:s:s;c=f.name||((c=f)!=null?(c=c.message)!=null?c.text:c:c);a=(a=f)!=null?(a=a.owner)!=null?(a=a.logo_for_show)!=null?a.uri:a:a:a;var t=null,u=null;if(this.props.showErrorMessage){var v,w=(v=b("React")).jsx("div",{className:"_7hyf",children:i._("The video you selected may not be eligible to play in a watch party")});u=v.jsx(b("FlexLayout.react"),{align:"center",className:"_2pq8",children:v.jsx(b("Tooltip.react"),{tooltip:w,children:v.jsxs("div",{className:"_7hyg",children:[v.jsx(b("Image.react"),{className:"_3-8r",src:g("504076")}),i._("Unable to Add Video")]})})})}else this.state.mouseHovered&&this.props.inSidePane?u=b("React").jsx(b("ClickableArea.react"),{onClick:function(a){a.stopPropagation()},children:b("React").jsx("div",{children:b("React").jsx(b("FlexLayout.react"),{align:"center",className:"_7g79",children:this.props.badgeControls})})}):this.props.premiereLivingRoomBadgeText?u=b("React").jsxs(b("FlexLayout.react"),{className:"_73ns",align:"center",children:[b("React").jsx(b("Image.react"),{src:g("570657")}),b("React").jsx("span",{className:"_73nt",children:this.props.premiereLivingRoomBadgeText})]}):f.broadcast_status===b("VideoBroadcastStatus").LIVE?(u=b("React").jsx(b("LiveVideoBadge.react"),{position:"bottomRight"}),f.live_viewer_count_read_only!=null&&f.live_viewer_count_read_only>0&&(t=i._("{count} Watching",[i._param("count",b("intlSummarizeNumber")(f.live_viewer_count_read_only))]))):f.playable_duration&&(u=b("React").jsx(b("VideoDuration.react"),{duration:f.playable_duration}));v=(w=f)!=null?(w=w.owner)!=null?w.is_verified:w:w;w=v?b("React").jsx(b("Badge.react"),{size:"xsmall",type:"verified"}):null;v=b("React").jsx(b("ScaledImage.react"),{height:m||j,imageSize:{height:p||j,width:l||k},src:d,width:n||k});m=a&&!o&&b("React").jsx(b("Image.react"),{className:"_2niq",src:a});p=r||b("React").jsx(b("ReactXUIMenu"),{});l=r?b("React").jsxs(b("PopoverMenu.react"),{className:"_4cxi",menu:p,children:[v,b("React").jsxs("div",{className:"_2niu",children:[m,u]})]}):b("React").jsxs("div",{className:"_4cxi",children:[v,b("React").jsxs("div",{className:"_2niu",children:[m,u]})]});d=q?b("React").jsx(b("Link.react"),{onClick:function(a){q(),a.stopPropagation()},children:s}):s;n=b("React").jsx(b("LineClamp.react"),{lines:2,className:"_1k_6",children:c});o=f.broadcast_status!==b("VideoBroadcastStatus").LIVE&&f.play_count?b("React").jsx("span",{children:i._({"*":"{count} Views","_1":"{count} View"},[i._param("count",b("intlSummarizeNumber")(f.play_count)),i._plural(f.play_count)])}):null;a=b("React").jsx("div",{className:this.props.inSidePane?"":"_7qqz",children:b("React").jsxs("div",{children:[n,this.props.premiereVideoDescription?this.props.premiereVideoDescription:b("React").jsxs(b("React").Fragment,{children:[b("React").jsxs("div",{className:"_7pav",children:[d,w]}),o&&b("React").jsx("div",{className:"_7g7c",children:o}),t&&b("React").jsx("div",{className:"_7g7c",children:t}),b("React").jsx("div",{className:"_7g7c",children:e})]})]})});r=this.state.showPlaylistUpsell&&h?b("React").jsx(b("LivingRoomVideoListItemAddCollectionUpsell.react"),{addVideosToQueue:h,videoID:f.id}):null;p=this.props.inSidePane?b("React").jsxs(b("ImageBlock.react"),{children:[l,a]}):b("React").jsxs("div",{className:"_7qq-",children:[l,a,b("React").jsx(b("ClickableArea.react"),{onClick:function(a){a.stopPropagation()},children:b("React").jsx("div",{className:"_7qq_",children:this.props.badgeControls})})]});return b("React").jsxs("div",{children:[b("React").jsx(b("ClickableArea.react"),{onClick:this.$5,children:b("React").jsx("div",{className:(this.props.showErrorMessage?"_68x0":"")+(this.props.isAutoPlayVideo?" _8sy_":"")+(this.state.mouseHovered&&!this.props.isAutoPlayVideo?" _7g7d":"")+(this.state.mouseHovered&&this.props.isAutoPlayVideo?" _8ud-":"")+" _7g7e"+(this.state.mouseHovered&&!this.props.disableClick?" _7g7f":""),onMouseEnter:this.$3,onMouseLeave:this.$4,children:p})}),r]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoItem.react",["ix","cx","fbt","FDSButton.react","FDSDropdownMenu.react","FDSSplitButton.react","Image.react","LivingRoomActions","LivingRoomContentQueueUtils","LivingRoomVideoListItem.react","React","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isAddToQueueClicked:!1,isRemoveFromQueueEnabled:!1,hasErrors:!1,isPlayNowClicked:!1,isSuggestClicked:!1,isSuggestionDismissed:!1,controlOpen:!1},d.$1=function(){d.props.constructLogger().setLivingRoomAction("curation_action_sheet_open").setLivingRoomID(d.props.livingRoomID).setCurationContext(d.props.curationContext).log(),d.setState({controlOpen:!0})},d.$2=function(){d.props.constructLogger().setLivingRoomAction("curation_action_sheet_cancel").setLivingRoomID(d.props.livingRoomID).setCurationContext(d.props.curationContext).log()},d.onError=function(){d.props.inSidePane||b("LivingRoomActions").setAddVideoErrorDialogShown(d.props.livingRoomID,!0),d.setState({hasErrors:!0})},d.onCompleted=function(a,b){if(!a||b)return;d.setState({isSuggestionDismissed:!0})},d.onAddToQueueCompleted=function(a,b){if(!a||b)return;d.setState({isRemoveFromQueueEnabled:!0});d.setState({isSuggestionDismissed:!0})},d.playNow=function(){d.setState({isPlayNowClicked:!0,isAddToQueueClicked:!1}),b("LivingRoomContentQueueUtils").playVideo(d.props.livingRoomID,b("nullthrows")(d.props.video.id),d.props.curationContext,d.props.suggestedItemID,d.onError,d.onCompleted,d.props.constructLogger)},d.playNext=function(){d.setState({isPlayNowClicked:!1,isAddToQueueClicked:!0,isRemoveFromQueueEnabled:!1}),b("LivingRoomContentQueueUtils").prependVideo(d.props.livingRoomID,b("nullthrows")(d.props.video.id),d.props.curationContext,d.props.suggestedItemID,d.onError,d.onAddToQueueCompleted,d.props.constructLogger)},d.addToQueue=function(){d.setState({isPlayNowClicked:!1,isAddToQueueClicked:!0,isRemoveFromQueueEnabled:!1}),b("LivingRoomContentQueueUtils").appendVideo(d.props.livingRoomID,b("nullthrows")(d.props.video.id),d.props.curationContext,d.props.suggestedItemID,d.onError,d.onAddToQueueCompleted,d.props.constructLogger)},d.suggestVideo=function(){b("LivingRoomContentQueueUtils").suggestVideo(d.props.livingRoomID,b("nullthrows")(d.props.video.id),d.props.curationContext,d.onError,d.props.constructLogger,d.props.feedTrackingData),d.setState({isSuggestClicked:!0})},d.dismissSuggestion=function(){b("LivingRoomContentQueueUtils").dismissSuggestedContentItem(d.props.livingRoomID,b("nullthrows")(d.props.suggestedItemID),d.props.curationContext,d.onCompleted,d.props.constructLogger)},d.$4=function(){__p&&__p();var a=d.props,b=a.isVideoPlaying;a=a.canViewerPlayContent;var c=d.state.isAddToQueueClicked;if(!a)return;if(!b){d.playNow();return}c||d.addToQueue()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.removeFromQueue=function(){if(this.props.onRemoveFromQueueClick!=null){var a=this.props.onRemoveFromQueueClick(this.props.video.id);a&&this.setState({isAddToQueueClicked:!1})}};d.$3=function(){return this.props.isVideoItemPlaying?i._("Playing"):this.props.isVideoItemUpNext?i._("Up Next"):this.state.isAddToQueueClicked?i._("Added to Queue"):i._("Add to Queue")};d.$5=function(){__p&&__p();var a=this,c=this.props,d=c.inSidePane,e=c.isVideoPlaying,f=c.isVideoItemPlaying,h=c.isVideoItemUpNext;c=c.isSuggested;var j=this.state,k=j.isAddToQueueClicked,l=j.hasErrors,m=j.isPlayNowClicked;j=j.isRemoveFromQueueEnabled;var n=f?i._("Playing Now"):i._("Play Now");n={type:"item",label:n,isDisabled:m||f,onClick:this.playNow};var o=h?i._("Up Next"):i._("Play Next");o={type:"item",label:o,isDisabled:h,onClick:this.playNext};n=[n,o];if(c){o={type:"item",label:i._("Dismiss"),onClick:this.dismissSuggestion};n.push(o)}return e?d?b("React").jsx(b("FDSSplitButton.react"),{label:i._("Add to Queue"),labelIsHidden:!0,isDisabled:l||k&&!j,icon:k&&j?b("React").jsx(b("Image.react"),{src:g("505217")}):b("React").jsx(b("Image.react"),{src:g("482647")}),onClick:this.$4,use:"primary",menu:b("React").jsx(b("FDSDropdownMenu.react"),{items:n,onOpen:function(){a.setState({controlOpen:!0})},onClose:function(){a.setState({controlOpen:!1})},shouldHideOnMouseLeave:!0})}):b("React").jsx(b("FDSSplitButton.react"),{isDisabled:l||f||h,label:this.$3(),onClick:k?null:this.addToQueue,use:"default",menu:b("React").jsx(b("FDSDropdownMenu.react"),{items:n,onOpen:this.$1,onClose:function(){a.setState({controlOpen:!1})},shouldHideOnMouseLeave:!0})}):b("React").jsx(b("FDSButton.react"),{isDisabled:l||m,label:m?i._("Playing"):i._("Play Now"),onClick:this.playNow,use:"primary"})};d.$6=function(){var a=this.props.canViewerSuggestContent,c=this.state,d=c.hasErrors;c=c.isSuggestClicked;return a?b("React").jsx(b("FDSButton.react"),{isDisabled:d||c,label:c?i._("Suggested"):i._("Suggest"),use:"primary",onClick:this.suggestVideo}):null};d.render=function(){__p&&__p();var a=this.props,c=a.canViewerPlayContent,d=a.creatorName,e=a.livingRoomID,f=a.isSuggested;a=a.video;var g=this.state,h=g.hasErrors,i=g.isPlayNowClicked,j=g.isSuggestClicked,k=g.isSuggestionDismissed;g=g.controlOpen;if(f&&k)return null;k=c?this.$5():this.$6();g=b("React").jsxs("div",{className:g?"_7g9p":"",children:[b("React").jsx("div",{className:"_7g9q",onClick:this.$2}),k]});k=c?this.$4:j?function(){}:this.suggestVideo;return b("React").jsx(b("LivingRoomVideoListItem.react"),{livingRoomID:e,onClickPageName:this.props.onClickPageName,video:a,creatorName:d,isSuggested:f,badgeControls:g,disableClick:h||i,onClickItem:k,showErrorMessage:h,inSidePane:!0})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoItemContainer.react",["FluxContainer","LivingRoomAddVideoItem.react","LivingRoomStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d,e,f,g,h;for(var i=arguments.length,j=new Array(i),k=0;k<i;k++)j[k]=arguments[k];return(g=h=a.call.apply(a,[this].concat(j))||this,h.currentContentItem=b("LivingRoomStore").getCurrentContentItem(h.props.livingRoomID),h.nextContentItem=b("LivingRoomStore").getNextContentItem(h.props.livingRoomID),h.state={canViewerPlayContent:b("LivingRoomStore").getPermissions(h.props.livingRoomID).canViewerPlayContent,canViewerSuggestContent:b("LivingRoomStore").getPermissions(h.props.livingRoomID).canViewerSuggestContent,feedTrackingData:b("LivingRoomStore").getFeedTracking(h.props.livingRoomID),isVideoPlaying:h.currentContentItem!==null,isVideoItemPlaying:((c=h.currentContentItem)==null?void 0:(d=c.video)==null?void 0:d.id)===h.props.video.id,isVideoItemUpNext:((e=h.nextContentItem)==null?void 0:(f=e.video)==null?void 0:f.id)===h.props.video.id},g)||babelHelpers.assertThisInitialized(h)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){var d=(a=b("LivingRoomStore")).getCurrentContentItem(c.livingRoomID),e=a.getNextContentItem(c.livingRoomID);return{canViewerPlayContent:a.getPermissions(c.livingRoomID).canViewerPlayContent,canViewerSuggestContent:a.getPermissions(c.livingRoomID).canViewerSuggestContent,feedTrackingData:a.getFeedTracking(c.livingRoomID),isVideoPlaying:d!==null,isVideoItemPlaying:(d==null?void 0:(a=d.video)==null?void 0:a.id)==c.video.id,isVideoItemUpNext:(e==null?void 0:(d=e.video)==null?void 0:d.id)===c.video.id}};var d=c.prototype;d.render=function(){return b("React").jsx(b("LivingRoomAddVideoItem.react"),{canViewerPlayContent:this.state.canViewerPlayContent,canViewerSuggestContent:this.state.canViewerSuggestContent,creatorName:this.props.creatorName,constructLogger:this.props.constructLogger,curationContext:this.props.curationContext,feedTrackingData:this.state.feedTrackingData,isVideoPlaying:this.state.isVideoPlaying,isVideoItemPlaying:this.state.isVideoItemPlaying,isVideoItemUpNext:this.state.isVideoItemUpNext,isSuggested:this.props.isSuggested,onClickPageName:this.props.onClickPageName,suggestedItemID:this.props.suggestedItemID,livingRoomID:this.props.livingRoomID,video:this.props.video,inSidePane:this.props.inSidePane,onRemoveFromQueueClick:this.props.onRemoveFromQueueClick})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LivingRoomAddVideoCrowdSuggestions.react",["cx","fbt","FluxContainer","Link.react","LivingRoomAddVideoItemContainer.react","LivingRoomContentQueueUtils","LivingRoomStore","React","immutable"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={suggestedItems:b("LivingRoomStore").getSuggestedItems(d.props.livingRoomID)},d.$1=function(){b("LivingRoomContentQueueUtils").dismissAllSuggestedContent(d.props.livingRoomID,d.props.curationContext,function(){})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.timeRequested=new Date(),this.props.constructLogger().setLivingRoomAction("curation_videos_requested").setCurationContext(this.props.curationContext).log()};c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{suggestedItems:b("LivingRoomStore").getSuggestedItems(c.livingRoomID)})};d.$2=function(){var a=this;if(this.props.videoLimit==null)return null;if(this.state.suggestedItems.size===0)return b("React").jsx("div",{className:"_7g8y",children:h._("No videos have been suggested by viewers.")});var c=this.props.videoLimit==null?0:this.props.videoLimit;c=this.state.suggestedItems.slice(0,c).map(function(c,d){return c.video?b("React").jsx(b("LivingRoomAddVideoItemContainer.react"),{constructLogger:a.props.constructLogger,curationContext:a.props.curationContext,livingRoomID:a.props.livingRoomID,video:c.video,creatorName:c==null?void 0:(d=c.creator)==null?void 0:d.name,isSuggested:!0,suggestedItemID:c.id,inSidePane:a.props.inSidePane,onRemoveFromQueueClick:null},"crowd_suggestions_"+c.id):null});return c};d.render=function(){__p&&__p();var a=this;if(this.props.videoLimit!=null)return this.$2();var c=b("React").jsx("span",{children:h._("Watch Party Suggestions")}),d=this.state.suggestedItems.map(function(c,d){return c.video?b("React").jsx(b("LivingRoomAddVideoItemContainer.react"),{curationContext:a.props.curationContext,constructLogger:a.props.constructLogger,livingRoomID:a.props.livingRoomID,video:c.video,creatorName:(d=c)!=null?(d=d.creator)!=null?d.name:d:d,isSuggested:!0,suggestedItemID:c.id,inSidePane:a.props.inSidePane,onRemoveFromQueueClick:null},"crowd_suggestions_"+c.id):null});if(this.props.inSidePane)return this.state.suggestedItems.size===0?b("React").jsx("div",{className:"_7g8y",children:h._("No videos have been suggested by viewers.")}):b("React").jsxs("div",{className:"_7p31",children:[d,b("React").jsx("div",{className:"_7hye",children:b("React").jsx(b("Link.react"),{onClick:this.$1,children:h._("Dismiss All")})})]});if(this.state.suggestedItems.size===0){var e;return(e=b("React")).jsxs(e.Fragment,{children:[e.jsx("div",{className:"_31ax",children:c}),e.jsx("div",{className:"_2g8u",children:h._("No videos have been suggested by viewers.")})]})}e=this.state.suggestedItems.size>0?h._("Clear All"):null;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsxs("div",{className:"_31ax",children:[c,b("React").jsx("span",{className:"_2g8v",children:b("React").jsx(b("Link.react"),{className:"_2g8w",onClick:this.$1,children:e})})]}),d]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LivingRoomAddVideoGroupVideoList.react",["cx","fbt","invariant","InfiniteScroll.react","LivingRoomConstants","LivingRoomTypeUtils","React","RelayModern","XUISpinner.react","getObjectValues","nullthrows","LivingRoomAddVideoGroupVideoList_group.graphql","LivingRoomAddVideoGroupVideoListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$2=function(){if(!d.props.relay.hasMore()||d.props.relay.isLoading())return;d.setState({isLoading:!0});d.props.relay.loadMore(b("LivingRoomConstants").VIDEO_SEARCH_RESULTS_PER_EXTRA_PAGE,function(a){d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){__p&&__p();if(!this.props.group.group_watch_party_shared_videos)return null;var a={},c=Object.keys(a).length,d=this.props.group.group_watch_party_shared_videos.edges.length,e=0;for(var f=c;f<=c+d;f++){var g,h=this.props.group.group_watch_party_shared_videos.edges[e];e+=1;if(!h||!h.node)continue;g=b("nullthrows")((g=h.node)==null?void 0:g.id);if(g in a)continue;a[g]=this.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(b("nullthrows")(h.node)),curationContext:this.props.curationContext,key:"uploaded_video_"+g})}return b("getObjectValues")(a)};d.render=function(){__p&&__p();var a=this;if(!this.props.group||!this.props.group.channel&&!this.props.group.group_watch_party_shared_videos)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});this.props.group.group_watch_party_shared_videos!==null&&this.props.group.group_watch_party_shared_videos!==void 0&&this.props.group.channel!==null&&this.props.group.channel!==void 0||i(0,2769);if(!this.props.group.channel.edges&&!this.props.group.group_watch_party_shared_videos.edges)return b("React").jsx("div",{className:"_65qu",children:b("React").jsx("div",{className:"_65qv",children:h._("No Videos Found")})});var c=this.props.group.channel.edges.map(function(a){return!a||!a.node||!a.node.attachments?null:a.node.attachments.length>0?a.node.attachments[0].media:null});c=c.map(function(c,d){return!c||c.id==null?null:a.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(c),curationContext:a.props.curationContext,key:"group_video_"+d})});var d=this.state.isLoading?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null,e=this.$1();e=e!==null?c.concat(e):c;return this.props.videoLimit!=null?e.length===0?b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")}):e.slice(0,this.props.videoLimit):b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$2,distanceToEnd:1,children:[e,d]})};return c}(b("React").Component);e.exports=a(c,{group:j!==void 0?j:j=b("LivingRoomAddVideoGroupVideoList_group.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.group)!=null?a.channel:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,id:c.id}},query:k!==void 0?k:k=b("LivingRoomAddVideoGroupVideoListPaginationQuery.graphql")})}),null);
__d("LivingRoomAddVideoGroupVideoDialogBody.react",["cx","LivingRoomAddVideoGroupVideoList.react","LivingRoomSidePanePlaceholder.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","LivingRoomAddVideoGroupVideoDialogBodyQuery.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.timeRequested=new Date(),this.props.constructLogger().setLivingRoomAction("curation_videos_requested").setCurationContext(this.props.curationContext).log()};d.render=function(){var a=this;return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomAddVideoGroupVideoDialogBodyQuery.graphql"),render:function(c){c.error;c=c.props;if(!c||!c.group)return a.props.inSidePane?b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{}):b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});var d=new Date();a.props.constructLogger().setLivingRoomAction("curation_videos_returned").setCurationContext(a.props.curationContext).setTimeSpent(d.getTime()-a.timeRequested.getTime()).log();return b("React").jsx(b("LivingRoomAddVideoGroupVideoList.react"),{curationContext:a.props.curationContext,group:c.group,videoItemRenderer:a.props.videoItemRenderer,videoLimit:a.props.videoLimit})},variables:{id:this.props.groupID}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoLiveList.react",["cx","fbt","InfiniteScroll.react","LivingRoomConstants","LivingRoomTypeUtils","React","RelayModern","VideoBroadcastStatus","XUISpinner.react","getObjectValues","nullthrows","LivingRoomAddVideoLiveList_relevant_live_video_channel.graphql","LivingRoomAddVideoLiveListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$1=null,d.$2={},d.$4=function(){var a;a=(a=d.props.relevant_live_video_channel.video_channel_feed)==null?void 0:(a=a.edges)==null?void 0:a.length;if(!d.props.relay.hasMore()||d.props.relay.isLoading()||d.$1===a)return;d.$1=a;d.setState({isLoading:!0});d.props.relay.loadMore(b("LivingRoomConstants").VIDEO_SEARCH_RESULTS_PER_EXTRA_PAGE,function(a){d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){if(this.props.videoLimit==null)return null;if(Object.keys(this.$2).length===0)return b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")});var a=this.props.videoLimit==null?0:this.props.videoLimit;return b("getObjectValues")(this.$2).slice(0,a)};d.render=function(){__p&&__p();var a=this,c;if(this.props.relevant_live_video_channel==null)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});c=((c=(c=this.props.relevant_live_video_channel.video_channel_feed)==null?void 0:c.edges)!=null?c:[]).map(function(a){a=(a=(a=a.node)==null?void 0:a.attachments)!=null?a:[];return a[0]!=null?a[0].media:null});c.map(function(c,d){if(c==null||c.id==null||c.broadcast_status!==b("VideoBroadcastStatus").LIVE)return;a.$2[b("nullthrows")(c.id)]=a.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(c),curationContext:a.props.curationContext,key:b("nullthrows")(c.id)})});if(this.props.videoLimit!=null)return this.$3();if(Object.keys(this.$2).length===0)return b("React").jsx("div",{className:"_65qu",children:b("React").jsx("div",{className:"_65qv",children:h._("No Videos Found")})});c=this.state.isLoading?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null;return b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$4,distanceToEnd:1,children:[b("getObjectValues")(this.$2),c]})};return c}(b("React").Component);e.exports=a(c,{relevant_live_video_channel:i!==void 0?i:i=b("LivingRoomAddVideoLiveList_relevant_live_video_channel.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a.relevant_live_video_channel)==null?void 0:a.video_channel_feed},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,caller:c.caller}},query:j!==void 0?j:j=b("LivingRoomAddVideoLiveListPaginationQuery.graphql")})}),null);
__d("LivingRoomAddVideoLiveDialogBody.react",["cx","LivingRoomAddVideoLiveList.react","LivingRoomSidePanePlaceholder.react","React","RelayFBEnvironment","RelayModern","VideoChainingCaller","XUISpinner.react","nullthrows","LivingRoomAddVideoLiveDialogBodyQuery.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.timeRequested=new Date(),this.props.constructLogger().setLivingRoomAction("curation_videos_requested").setCurationContext(this.props.curationContext).log()};d.render=function(){__p&&__p();var a=this;return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomAddVideoLiveDialogBodyQuery.graphql"),render:function(c){var d;c.error;c=c.props;if((c==null?void 0:(d=c.viewer)==null?void 0:d.relevant_live_video_channel)==null)return a.props.inSidePane?b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{}):b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});a.props.onResults&&a.props.onResults();d=new Date();a.props.constructLogger().setLivingRoomAction("curation_videos_returned").setCurationContext(a.props.curationContext).setTimeSpent(d.getTime()-a.timeRequested.getTime()).log();return b("React").jsx(b("LivingRoomAddVideoLiveList.react"),{curationContext:a.props.curationContext,relevant_live_video_channel:b("nullthrows")(c==null?void 0:(d=c.viewer)==null?void 0:d.relevant_live_video_channel),videoItemRenderer:a.props.videoItemRenderer,videoLimit:a.props.videoLimit})},variables:{trigger_data:{},caller:"living_room"}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoRecentList.react",["cx","fbt","InfiniteScroll.react","LivingRoomConstants","LivingRoomTypeUtils","React","RelayModern","XUISpinner.react","getObjectValues","nullthrows","LivingRoomAddVideoRecentList_user.graphql","LivingRoomAddVideoRecentListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$1={},d.$2=-1,d.$4=function(){var a;a=(a=d.props)!=null?(a=a.user)!=null?(a=a.living_room_watched_videos)!=null?(a=a.edges)!=null?a.length:a:a:a:a;if(!d.props.relay.hasMore()||d.props.relay.isLoading()||d.$2===a)return;d.$2=a;d.setState({isLoading:!0});d.props.relay.loadMore(b("LivingRoomConstants").VIDEO_SEARCH_RESULTS_PER_EXTRA_PAGE,function(a){d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){if(this.props.videoLimit==null)return null;if(Object.keys(this.$1).length===0)return b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")});var a=this.props.videoLimit==null?0:this.props.videoLimit;return b("getObjectValues")(this.$1).slice(0,a)};d.render=function(){__p&&__p();if(!this.props.user||!this.props.user.living_room_watched_videos)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});var a=Object.keys(this.$1).length,c=this.props.user.living_room_watched_videos.edges.length,d=0;for(var e=a;e<=a+c;e++){var f=this.props.user.living_room_watched_videos.edges[d];d+=1;if(!f||!f.node)continue;var g=b("nullthrows")(f.node.id);if(g in this.$1)continue;this.$1[g]=this.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(b("nullthrows")(f.node)),curationContext:this.props.curationContext,key:"recently_watched_"+g})}f=this.state.isLoading?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null;return this.props.videoLimit!=null?this.$3():b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$4,distanceToEnd:1,children:[b("getObjectValues")(this.$1),f]})};return c}(b("React").Component);e.exports=a(c,{user:i!==void 0?i:i=b("LivingRoomAddVideoRecentList_user.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.user)!=null?a.living_room_watched_videos:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;var d=c.id;c=c.living_room_id;return{count:a,cursor:b,id:d,living_room_id:c}},query:j!==void 0?j:j=b("LivingRoomAddVideoRecentListPaginationQuery.graphql")})}),null);
__d("LivingRoomAddVideoRecentDialogBody.react",["cx","CurrentUser","LivingRoomAddVideoRecentList.react","LivingRoomSidePanePlaceholder.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","LivingRoomAddVideoRecentDialogBodyQuery.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.timeRequested=new Date(),this.props.constructLogger().setLivingRoomAction("curation_videos_requested").setCurationContext(this.props.curationContext).log()};d.render=function(){__p&&__p();var a=this;return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomAddVideoRecentDialogBodyQuery.graphql"),render:function(c){c.error;c=c.props;if(!c||!c.user)return a.props.inSidePane?b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{}):b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});a.props.onResults&&a.props.onResults();var d=new Date();a.props.constructLogger().setLivingRoomAction("curation_videos_returned").setCurationContext(a.props.curationContext).setTimeSpent(d.getTime()-a.timeRequested.getTime()).log();return b("React").jsx(b("LivingRoomAddVideoRecentList.react"),{curationContext:a.props.curationContext,user:c.user,videoItemRenderer:a.props.videoItemRenderer,videoLimit:a.props.videoLimit})},variables:{id:b("CurrentUser").getAccountID(),living_room_id:this.props.livingRoomID}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoSavedList.react",["cx","fbt","InfiniteScroll.react","LivingRoomConstants","LivingRoomTypeUtils","React","RelayModern","XUISpinner.react","getObjectValues","nullthrows","LivingRoomAddVideoSavedList_user.graphql","LivingRoomAddVideoSavedListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$1={},d.$3=function(){if(!d.props.relay.hasMore()||d.props.relay.isLoading())return;d.setState({isLoading:!0});d.props.relay.loadMore(b("LivingRoomConstants").VIDEO_SEARCH_RESULTS_PER_EXTRA_PAGE,function(a){d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){if(this.props.videoLimit==null)return null;var a=Object.keys(this.$1).length;if(a===0)return b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")});a=this.props.videoLimit==null?0:this.props.videoLimit;return b("getObjectValues")(this.$1).slice(0,a)};d.render=function(){__p&&__p();if(!this.props.user||!this.props.user.living_room_saved_videos)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});var a=Object.keys(this.$1).length,c=this.props.user.living_room_saved_videos.edges.length,d=0;for(var e=a;e<=a+c;e++){var f=this.props.user.living_room_saved_videos.edges[d];d+=1;if(!f||!f.node)continue;var g=b("nullthrows")(f.node.id);if(g in this.$1)continue;this.$1[g]=this.props.videoItemRenderer({video:b("LivingRoomTypeUtils").convertVideo(b("nullthrows")(f.node)),curationContext:this.props.curationContext,key:"saved_videos_"+g})}f=this.state.isLoading?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null;if(this.props.videoLimit!=null)return this.$2();return Object.keys(this.$1).length===0?b("React").jsx("div",{className:"_65qu",children:b("React").jsx("div",{className:"_65qv",children:h._("No results found")})}):b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$3,distanceToEnd:1,children:[b("getObjectValues")(this.$1),f]})};return c}(b("React").Component);e.exports=a(c,{user:i!==void 0?i:i=b("LivingRoomAddVideoSavedList_user.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.user)!=null?a.living_room_saved_videos:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,id:c.id}},query:j!==void 0?j:j=b("LivingRoomAddVideoSavedListPaginationQuery.graphql")})}),null);
__d("LivingRoomAddVideoSavedDialogBody.react",["cx","CurrentUser","LivingRoomAddVideoSavedList.react","LivingRoomSidePanePlaceholder.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","LivingRoomAddVideoSavedDialogBodyQuery.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.timeRequested=new Date(),this.props.constructLogger().setLivingRoomAction("curation_videos_requested").setCurationContext(this.props.curationContext).log()};d.render=function(){__p&&__p();var a=this;return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomAddVideoSavedDialogBodyQuery.graphql"),render:function(c){c.error;c=c.props;if(!c||!c.user)return a.props.inSidePane?b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{}):b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq",size:"large"});a.props.onResults&&a.props.onResults();var d=new Date();a.props.constructLogger().setLivingRoomAction("curation_videos_returned").setCurationContext(a.props.curationContext).setTimeSpent(d.getTime()-a.timeRequested.getTime()).log();return b("React").jsx(b("LivingRoomAddVideoSavedList.react"),{curationContext:a.props.curationContext,user:c.user,videoItemRenderer:a.props.videoItemRenderer,videoLimit:a.props.videoLimit})},variables:{id:b("CurrentUser").getAccountID()}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoSubscriptionsDialogSingleNetworkBody.react",["cx","fbt","FBLogger","FDSSpinner.react","InfiniteScroll.react","LeftRight.react","Link.react","LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainer.react","LivingRoomComposerActions","React","RelayModern","SearchableEntry","LivingRoomAddVideoSubscriptionsDialogSingleNetworkBody_videoCatalog.graphql","LivingRoomAddVideoSubscriptionsDialogSingleNetworkBodyPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=5;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$2=function(){var a=d.props.relay;if(!a.hasMore()||a.isLoading())return;d.setState({isLoading:!0});a.loadMore(k,function(a){d.setState({isLoading:!1}),a!=null&&b("FBLogger")("living_room").mustfix("Unable to load more sotto videos %s",a.toString())})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c,d){a=new(b("SearchableEntry"))({photo:a,uniqueID:c,title:d});c=a.getTitle();b("LivingRoomComposerActions").setAddVideoInputSearchQuery(c);b("LivingRoomComposerActions").setAddVideoSubmittedSearchQuery(a.getUniqueID());b("LivingRoomComposerActions").setAddVideoSelectedVideoList(a)};d.render=function(){__p&&__p();var a=this,c;c=(c=this.props)==null?void 0:(c=c.videoCatalog)==null?void 0:(c=c.video_catalog_video_lists)==null?void 0:c.edges;if(c==null||c.length<1)return b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")});var d=this.state.isLoading?b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("FDSSpinner.react"),{})}):null;return b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$2,distanceToEnd:50,children:[b("React").jsx("div",{children:c.filter(function(a){return Object.getOwnPropertyNames(a).length>0&&(a==null?void 0:(a=a.node)==null?void 0:a.title)}).map(function(c){var d;c=c==null?void 0:c.node;if(c==null)return null;var e=c==null?void 0:(d=c.video_list_cover_photo)==null?void 0:d.uri,f=c.id,g=c.title;return b("React").jsxs("div",{className:"_7zid",children:[b("React").jsxs(b("LeftRight.react"),{className:"_3-8u _3-8n",children:[b("React").jsx("div",{className:"_7zie",children:c==null?void 0:c.title}),b("React").jsx("span",{className:"_7zif",children:e!=null&&f!=null&&g!=null?b("React").jsx(b("Link.react"),{onClick:function(){return a.$1(e,f,g)},children:h._("See All")}):null})]}),b("React").jsx(b("LivingRoomAddVideoSubscriptionsDialogNetworkVideoContainer.react"),{resultsPageSize:2,shouldInfiniteScroll:!1,videoList:c,videoItemRenderer:a.props.videoItemRenderer})]},c==null?void 0:c.id)})}),d]})};return c}(b("React").Component);e.exports=a(c,{videoCatalog:i!==void 0?i:i=b("LivingRoomAddVideoSubscriptionsDialogSingleNetworkBody_videoCatalog.graphql")},{direction:"forward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.videoCatalog)==null?void 0:a.video_catalog_video_lists},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,pageID:c.pageID}},query:j!==void 0?j:j=b("LivingRoomAddVideoSubscriptionsDialogSingleNetworkBodyPaginationQuery.graphql")})}),null);
__d("LivingRoomAddVideoSubscriptionsDialogSingleNetworkBodyContainer.react",["cx","fbt","LivingRoomAddVideoSubscriptionsDialogSingleNetworkBody.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","LivingRoomAddVideoSubscriptionsDialogSingleNetworkBodyContainerQuery.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return this.props.pageID==null?b("React").jsx("div",{}):b("React").jsx(j,{environment:b("RelayFBEnvironment"),query:i!==void 0?i:i=b("LivingRoomAddVideoSubscriptionsDialogSingleNetworkBodyContainerQuery.graphql"),render:function(c){var d;c.error;c=c.props;if((c==null?void 0:c.page)==null)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_1brq _7zlx",size:"large"});return(c==null?void 0:(d=c.page)==null?void 0:d.page_video_catalog)==null?b("React").jsx("div",{className:"_7g8y",children:h._("No results found.")}):b("React").jsx(b("LivingRoomAddVideoSubscriptionsDialogSingleNetworkBody.react"),{videoItemRenderer:a.props.videoItemRenderer,videoCatalog:c==null?void 0:c.page.page_video_catalog})},variables:{pageID:this.props.pageID}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoSubscriptionsDialogBody.react",["ix","cx","fbt","CurrentUser","FDSSpinner.react","FDSText.react","Image.react","LineClamp.react","LivingRoomAddVideoSubscriptionsDialogSingleNetworkBodyContainer.react","React","RelayFBEnvironment","RelayModern","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","asset","LivingRoomAddVideoSubscriptionsDialogBodyQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={activePageIndex:0},c.$1=function(a){c.setState({activePageIndex:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this;return b("React").jsx(k,{environment:b("RelayFBEnvironment"),query:j!==void 0?j:j=b("LivingRoomAddVideoSubscriptionsDialogBodyQuery.graphql"),render:function(c){c.error;c=c.props;if((c==null?void 0:c.user)==null)return b("React").jsx("div",{className:"_1y_w",children:b("React").jsx(b("FDSSpinner.react"),{size:"large"})});c=c==null?void 0:(c=c.user)==null?void 0:c.living_room_active_subscriptions;return c==null||c.length<1?b("React").jsx("div",{className:"_7g8y",children:i._("No results found.")}):b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_7zie _3-8u _3-8n",children:"Networks"}),b("React").jsx(b("XUICarousel.react"),{animator:new(b("XUICarouselAnimator"))({centered:!1,firstAndLastAligned:!1}),onItemClick:a.$1,initialIndex:0,viewportHeight:140,className:"_7zlv",initialAutoplay:!1,resizeViewport:"disabled",moveStep:1,arrows:[b("React").jsx(b("XUICarouselArrow.react"),{children:b("React").jsx(b("Image.react"),{src:g("514569")})}),b("React").jsx(b("XUICarouselArrow.react"),{children:b("React").jsx(b("Image.react"),{src:g("514570")})})],wrapAround:!1,children:c.map(function(c,d){var e;return(e=b("React")).jsx(b("XUICarouselItem.react"),{className:"_7zlw",children:e.jsxs("div",{children:[e.jsx(b("Image.react"),{className:"_7zig",src:c.profile_picture.uri}),e.jsx("div",{className:a.state.activePageIndex!=d?"_7zih":""}),b("React").jsx("div",{children:b("React").jsx(b("FDSText.react"),{size:"body3",color:"secondary",weight:"bold",children:b("React").jsx(b("LineClamp.react"),{className:"_7zii",lines:2,children:c.name})})})]})},c.id)})}),b("React").jsx(b("LivingRoomAddVideoSubscriptionsDialogSingleNetworkBodyContainer.react"),{videoItemRenderer:a.props.videoItemRenderer,pageID:c[a.state.activePageIndex].id})]})},variables:{id:b("CurrentUser").getAccountID()}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoBody.react",["cx","fbt","invariant","FDSTabGroup.react","LivingRoomAddUploadedVideoDialogBody.react","LivingRoomAddVideoCrowdSuggestions.react","LivingRoomAddVideoGroupVideoDialogBody.react","LivingRoomAddVideoLiveDialogBody.react","LivingRoomAddVideoMainTabPane.react","LivingRoomAddVideoPageVideoDialogBody.react","LivingRoomAddVideoRecentDialogBody.react","LivingRoomAddVideoSavedDialogBody.react","LivingRoomAddVideoSearchDialogBody.react","LivingRoomAddVideoSubscriptionsDialogBody.react","LivingRoomTypeUtils","LivingRoomTypeValues","LivingRoomVideoSearchNullState.react","LivingRoomVideoSearchResultsCollections.react","React","nullthrows","qex"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("LivingRoomTypeValues").AddVideoTabValue,k=3;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=function(a){c.props.onTabClick(a)},c.$7=function(){if(c.$1!=null){var a=c.$1.parentElement;a!=null?a.scrollTop=c.$1.offsetTop-a.getBoundingClientRect().top:c.$1.scrollIntoView()}c.$8(j.MAIN)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(a){__p&&__p();switch(a){case j.SAVED:return h._("Saved");case j.SEARCH:return h._("Search");case j.SUGGESTED:return h._("Suggested");case j.LIVE:return h._("Live");case j.RECENT:return h._("Watched");case j.GROUP:return h._("Group");case j.AUTO:return h._("Auto");case j.PAGE:return h._("Page");case j.SUBSCRIPTIONS:return h._("Subscriptions");case j.MAIN:return h._("For You");case j.UPLOADED:return h._("My Videos")}i(0,1440,a)};d.$4=function(){var a=this,c=this.props.tabs.map(function(b){return{label:a.$3(b),value:b}});c.unshift({label:this.$3(j.MAIN),value:j.MAIN});return b("React").jsx("div",{className:"_7g97",children:b("React").jsx(b("FDSTabGroup.react"),{onChange:this.$2,tabs:c,value:this.props.selectedTab})})};d.$5=function(a,c){__p&&__p();var d=c?b("LivingRoomTypeUtils").convertMainTabSection(a):b("LivingRoomTypeUtils").convertTab(a);switch(a){case j.MAIN:return this.$6();case j.SUGGESTED:return this.props.livingRoomID!=null?b("React").jsx(b("LivingRoomAddVideoCrowdSuggestions.react"),{constructLogger:this.props.constructLogger,curationContext:"crowdsourced",livingRoomID:this.props.livingRoomID,videoItemRenderer:this.props.videoItemRenderer,videoLimit:c?k:null,inSidePane:!0}):null;case j.SAVED:return b("React").jsx(b("LivingRoomAddVideoSavedDialogBody.react"),{constructLogger:this.props.constructLogger,curationContext:d,videoItemRenderer:this.props.videoItemRenderer,videoLimit:c?k:null,inSidePane:!0});case j.LIVE:return b("React").jsx(b("LivingRoomAddVideoLiveDialogBody.react"),{constructLogger:this.props.constructLogger,curationContext:d,videoItemRenderer:this.props.videoItemRenderer,videoLimit:c?k:null,inSidePane:!0});case j.RECENT:return b("React").jsx(b("LivingRoomAddVideoRecentDialogBody.react"),{constructLogger:this.props.constructLogger,curationContext:d,livingRoomID:this.props.livingRoomID,videoItemRenderer:this.props.videoItemRenderer,videoLimit:c?k:null,inSidePane:!0});case j.GROUP:return b("React").jsx(b("LivingRoomAddVideoGroupVideoDialogBody.react"),{constructLogger:this.props.constructLogger,curationContext:d,groupID:b("nullthrows")(this.props.groupID),videoItemRenderer:this.props.videoItemRenderer,videoLimit:c?k:null,inSidePane:!0});case j.PAGE:return b("React").jsx(b("LivingRoomAddVideoPageVideoDialogBody.react"),{constructLogger:this.props.constructLogger,curationContext:d,pageID:b("nullthrows")(this.props.pageID),premiereVideoItem:this.props.pagePremiereVideoItem,videoItemRenderer:this.props.videoItemRenderer,videoLimit:c?k:null,inSidePane:!0});case j.SUBSCRIPTIONS:return b("React").jsx(b("LivingRoomAddVideoSubscriptionsDialogBody.react"),{videoItemRenderer:this.props.videoItemRenderer});case j.UPLOADED:return b("React").jsx(b("LivingRoomAddUploadedVideoDialogBody.react"),{constructLogger:this.props.constructLogger,curationContext:d,inSidePane:!0,videoItemRenderer:this.props.videoItemRenderer,videoLimit:c?k:null});default:return null}};d.$8=function(a){this.props.constructLogger().setLivingRoomAction("curation_click_see_all").setLivingRoomID(this.props.livingRoomID).setCurationContext(b("LivingRoomTypeUtils").convertMainTabSection(a)).log()};d.$6=function(){var a=this,c=!!b("qex")._("1153880");c=this.props.videoCollectionRenderer!=null&&!c?b("React").jsx(b("LivingRoomVideoSearchResultsCollections.react"),{videoCollectionRenderer:this.props.videoCollectionRenderer}):null;var d=!!b("qex")._("953689"),e=this.props.tabs.map(function(c){return b("React").jsx(b("LivingRoomAddVideoMainTabPane.react"),{title:a.$3(c),linkTitle:h._("See All"),onLinkClick:function(){a.$8(c),a.$2(c)},body:a.$5(c,!0)},c)}),f=b("React").jsx(b("LivingRoomVideoSearchNullState.react"),{groupID:this.props.groupID,isGameGroup:this.props.isGameGroup,constructLogger:this.props.constructLogger,videoLimit:k,suggestionsAfter:null,inSidePane:!0,onSelectRecommended:function(a){},onSelectRecommendedGamingVideos:function(a){},initializedFromComposer:!1,videoItemRenderer:this.props.videoItemRenderer,livingRoomID:this.props.livingRoomID,mainVideoID:this.props.mainVideoID}),g=b("React").jsx(b("LivingRoomVideoSearchNullState.react"),{groupID:this.props.groupID,isGameGroup:this.props.isGameGroup,constructLogger:this.props.constructLogger,videoLimit:null,suggestionsAfter:k,inSidePane:!0,onSelectRecommended:function(a){},onSelectRecommendedGamingVideos:function(a){},initializedFromComposer:!1,videoItemRenderer:this.props.videoItemRenderer,livingRoomID:this.props.livingRoomID,mainVideoID:this.props.mainVideoID});return b("React").jsxs(b("React").Fragment,{children:[!d&&c,b("React").jsx(b("LivingRoomAddVideoMainTabPane.react"),{title:h._("Videos You May Like"),linkTitle:h._("See All"),onLinkClick:this.$7,body:f}),d&&c,e,b("React").jsx("div",{ref:function(b){return a.$1=b},children:b("React").jsx(b("LivingRoomAddVideoMainTabPane.react"),{title:h._("More Videos You May Like"),body:g})})]})};d.$9=function(){return b("React").jsxs(b("React").Fragment,{children:[this.props.isSponsoredLivingRoom===!0||this.props.isPrerollLivingRoom===!0?null:this.$4(),b("React").jsx("div",{className:"_7u8h",children:this.$5(this.props.selectedTab,!1)})]})};d.componentDidMount=function(){this.forceUpdate()};d.render=function(){return b("React").jsx(b("LivingRoomAddVideoSearchDialogBody.react"),{constructLogger:this.props.constructLogger,videoItemRenderer:this.props.videoItemRenderer,walkthroughStep:this.props.walkthroughStep,groupID:this.props.groupID,isGameGroup:this.props.isGameGroup,isSponsoredLivingRoom:this.props.isSponsoredLivingRoom,isPrerollLivingRoom:this.props.isPrerollLivingRoom,inSidePane:!0,nullState:this.$9(),initializedFromComposer:!1,livingRoomID:this.props.livingRoomID,mainVideoID:this.props.mainVideoID,pageID:this.props.pageID})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomAddVideoButton.react",["fbt","Arbiter","FDSButton.react","FluxContainer","LivingRoomActions","LivingRoomConstants","LivingRoomStore","LivingRoomTypedLogger","LivingRoomTypeValues","React","SubscriptionsHandler","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("LivingRoomTypeValues").AddVideoTabValue,i=b("LivingRoomTypeValues").SidePaneTypeValue,j=b("LivingRoomTypeValues").WalkthroughStepValue;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),k=0;k<e;k++)f[k]=arguments[k];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=new(b("SubscriptionsHandler"))(),d.state={walkthroughStep:b("LivingRoomStore").getWalkthroughStep(d.props.livingRoomID),label:d.$2()},d.$3=null,d.$4=g._("Add more videos and control how they're played."),d.$7=function(){var a=d.props.livingRoomID;d.setState({label:d.$5()});new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_add_video_in_queue").setLivingRoomID(a).log();b("LivingRoomActions").setActiveSidePane(a,i.ADD_VIDEO);d.state.walkthroughStep===j.SHOW_ADD_BUTTON&&b("LivingRoomActions").setWalkthroughStep(a,j.SHOW_SECOND_ADD_DIALOG);b("LivingRoomStore").getSuggestedItemsCount(a)!==0&&b("LivingRoomActions").setAddVideoDialogTab(a,h.SUGGESTED)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{walkthroughStep:b("LivingRoomStore").getWalkthroughStep(c.livingRoomID)})};var d=c.prototype;d.$2=function(){var a=this.props.livingRoomID;if(b("LivingRoomStore").getSuggestedItemsCount(a)===0)return this.$5();else return this.$6()};d.$5=function(){return g._("Add Video")};d.$6=function(){return g._("{dot to indicate new activity} Add Video",[g._param("dot to indicate new activity","\u2022")])};d.render=function(){var a=this,c=this.props.use||"default";return b("React").jsxs("span",{children:[b("React").jsx(b("FDSButton.react"),{label:this.state.label,onClick:this.$7,ref:function(b){return a.$3=b},use:c,width:this.props.width}),this.$8()]})};d.$8=function(){var a=this;return this.state.walkthroughStep!==j.SHOW_ADD_BUTTON?null:b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:function(){return a.$3},onCloseButtonClick:function(){b("LivingRoomActions").setWalkthroughStep(a.props.livingRoomID,j.SHOW_INVITE)},shown:!0,width:"auto",children:this.$4})};d.componentDidMount=function(){var a=this;this.$1.addSubscriptions(b("Arbiter").subscribe(b("LivingRoomConstants").UPDATE_SUGGESTED_ITEMS,function(b,c){c.suggestedItemsCount===0&&a.setState({label:a.$5()})}))};d.componentWillUnmount=function(){this.$1.release()};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LivingRoomAddVideoPane.react",["cx","fbt","LivingRoomActionPaneAnimationContainer.react","LivingRoomActions","LivingRoomAddVideoBody.react","LivingRoomSidePaneHeader.react","LivingRoomTypedLogger","LivingRoomTypeValues","React","gkx"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("LivingRoomTypeValues").AddVideoTabValue,j=b("LivingRoomTypeValues").SidePaneTypeValue;function a(a){__p&&__p();var c=function(){a.livingRoomID!=null&&b("LivingRoomActions").setActiveSidePane(a.livingRoomID,j.DEFAULT),a.onClose()},d=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_view_queue").setLivingRoomID(a.livingRoomID).log(),b("LivingRoomActions").setActiveSidePane(a.livingRoomID,j.QUEUE),a.onClose()},e=function(){__p&&__p();return Object.keys(i).filter(function(c){__p&&__p();if(c===i.SEARCH||c===i.AUTO||c===i.MAIN)return!1;var d=a.canViewerPlayContent!=null&&a.canViewerPlayContent;if(c===i.SUGGESTED&&!d)return!1;if(c===i.GROUP&&(a.groupID==null||a.groupID==""))return!1;if(c===i.SUBSCRIPTIONS&&!b("gkx")("919060"))return!1;if(c===i.UPLOADED&&!b("gkx")("1002503"))return!1;return c===i.PAGE&&(a.pageID==null||a.pageID=="")?!1:!0})},f=a.canViewerPlayContent!=null&&a.canViewerPlayContent===!0,g=f?h._("Add Video"):h._("Suggest Video");f=f?h._("Edit Queue"):h._("View Queue");var k=a.badgeText,l=babelHelpers.objectWithoutPropertiesLoose(a,["badgeText"]);return b("React").jsxs(b("LivingRoomActionPaneAnimationContainer.react"),{livingRoomID:a.livingRoomID,badgeText:k,children:[b("React").jsx("div",{className:"_7fj_",children:b("React").jsx(b("LivingRoomSidePaneHeader.react"),{title:g,linkTitle:f,backButton:!0,onBackClick:c,onLinkClick:d})}),b("React").jsx(b("LivingRoomAddVideoBody.react"),babelHelpers["extends"]({tabs:e(),selectedTab:a.selectedTab},l))]})}e.exports=a}),null);
__d("LivingRoomAddVideoDialogContainer.react",["FluxContainer","LivingRoomActions","LivingRoomAddVideoItemContainer.react","LivingRoomAddVideoPane.react","LivingRoomContentQueueUtils","LivingRoomMonetizedAddVideoPane.react","LivingRoomStore","LivingRoomTypedLogger","LivingRoomTypeUtils","LivingRoomTypeValues","React","RelayModern","gkx","guid","LivingRoomAddVideoDialogContainer_livingRoom.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LivingRoomTypeValues").WalkthroughStepValue;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={canViewerPlayContent:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerPlayContent,pageID:b("LivingRoomStore").getPageID(d.props.livingRoomID),selectedTab:b("LivingRoomStore").getSelectedAddVideoTab(d.props.livingRoomID),walkthroughStep:b("LivingRoomStore").getWalkthroughStep(d.props.livingRoomID),sessionID:null},d.$1=function(){d.state.walkthroughStep===h.SHOW_SEARCH&&b("LivingRoomActions").setWalkthroughStep(d.props.livingRoomID,h.SHOW_ADD_BUTTON),d.state.walkthroughStep===h.SHOW_SECOND_ADD_DIALOG&&b("LivingRoomActions").setWalkthroughStep(d.props.livingRoomID,h.SHOW_INVITE)},d.$2=function(){return new(b("LivingRoomTypedLogger"))().setLivingRoomID(d.props.livingRoomID).setVideoDialogID(d.state.sessionID)},d.$3=function(a){b("LivingRoomActions").setAddVideoDialogTab(d.props.livingRoomID,a),d.$2().setLivingRoomID(d.props.livingRoomID).setLivingRoomAction("curation_tab_impression").setCurationContext(b("LivingRoomTypeUtils").convertTab(a)).log()},d.$4=function(a){var c=b("LivingRoomStore").getContentItemIDForVideo(d.props.livingRoomID,a);if(c!=null){b("LivingRoomContentQueueUtils").removeContentItemWithMessage(d.props.livingRoomID,c,a);return!0}return!1},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{canViewerPlayContent:(a=b("LivingRoomStore")).getPermissions(c.livingRoomID).canViewerPlayContent,pageID:a.getPageID(c.livingRoomID),selectedTab:a.getSelectedAddVideoTab(c.livingRoomID),walkthroughStep:a.getWalkthroughStep(c.livingRoomID)})};var d=c.prototype;d.componentDidMount=function(){if(this.props.inSidePane){var a=b("guid")();this.setState({sessionID:a});new(b("LivingRoomTypedLogger"))().setVideoDialogID(a).setLivingRoomAction("curation_open").setLivingRoomID(this.props.livingRoomID).log()}};d.componentWillUnmount=function(){this.props.inSidePane&&new(b("LivingRoomTypedLogger"))().setVideoDialogID(this.state.sessionID).setLivingRoomAction("curation_close").setLivingRoomID(this.props.livingRoomID).log()};d.render=function(){var a=this,c;c=this.props.hasJustCreatedSponsoredLivingRoom===!0||!!((c=this.props.livingRoom.displayable_sponsor_page)==null?void 0:c.id);var d=!!(this.props.livingRoom.enabled_ads||[]).length&&!b("gkx")("898275");return(c||d)&&this.state.pageID!=null?b("React").jsx(b("LivingRoomMonetizedAddVideoPane.react"),{badgeText:this.props.livingRoom.badge_text,canViewerPlayContent:this.state.canViewerPlayContent,constructLogger:this.$2,isSponsored:c,isPreroll:d,livingRoomID:this.props.livingRoomID,onClose:this.$1,pageID:this.state.pageID,videoItemRenderer:function(c){return b("React").jsx(b("LivingRoomAddVideoItemContainer.react"),babelHelpers["extends"]({livingRoomID:a.props.livingRoomID,inSidePane:a.props.inSidePane,constructLogger:a.$2,onRemoveFromQueueClick:a.$4},c))},walkthroughStep:this.state.walkthroughStep}):b("React").jsx(b("LivingRoomAddVideoPane.react"),{badgeText:this.props.livingRoom.badge_text,canViewerPlayContent:this.state.canViewerPlayContent,constructLogger:this.$2,groupID:(c=this.props.livingRoom.profile)==null?void 0:c.groupID,livingRoomID:this.props.livingRoomID,onClose:this.$1,onTabClick:this.$3,pageID:this.state.pageID,selectedTab:this.state.selectedTab,videoItemRenderer:function(c){return b("React").jsx(b("LivingRoomAddVideoItemContainer.react"),babelHelpers["extends"]({livingRoomID:a.props.livingRoomID,inSidePane:a.props.inSidePane,constructLogger:a.$2,onRemoveFromQueueClick:a.$4},c))},walkthroughStep:this.state.walkthroughStep,isGameGroup:!!((d=this.props.livingRoom.profile)==null?void 0:d.is_game_group)})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:g!==void 0?g:g=b("LivingRoomAddVideoDialogContainer_livingRoom.graphql")})}),null);
__d("LivingRoomAutoPlayButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("FDSButton.react"),{label:c.label,onClick:this.props.onClick,use:this.props.autoPlayEnabled?"primary":"default",ref:function(b){return a.$1=b},icon:this.props.autoPlayEnabled?b("React").jsx(b("Image.react"),{src:g("512844")}):null,width:this.props.width,isDisabled:this.props.isDisabled})};return c}(b("React").Component);a.label=h._("Autoplay");e.exports=a}),null);
__d("LivingRoomVideoBannerNotificationBody.react",["ix","cx","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_8e_4",children:a.jsxs(b("Layout.react"),{className:"_2pid",children:[a.jsx(b("LayoutColumn.react"),{className:"_8e_5",children:a.jsx(b("Image.react"),{src:this.props.banner.videoCoverImage,height:40,width:70})}),a.jsx(b("LayoutFillColumn.react"),{children:a.jsxs("div",{className:"_8e_6",children:[a.jsx("div",{className:"_8e_7",children:this.props.banner.videoTitle}),a.jsx("div",{className:"_8e_8",children:this.props.banner.videoAuthor})]})}),a.jsxs(b("LayoutColumn.react"),{className:"_8e_9",children:[a.jsx("div",{className:"_8e_a",children:a.jsx(b("Image.react"),{onClick:this.props.onCancel,src:g("481012")})}),a.jsx("div",{className:"_8e_a",children:a.jsx(b("Image.react"),{onClick:this.props.onAccept,src:g("512856")})})]})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomVideoBannerNotificationHeader.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").jsx("div",{className:"_8e_2",children:b("React").jsx("div",{className:"_8e_3",children:a.banner.bannerTitle})})}e.exports=a}),null);
__d("LivingRoomVideoBannerNotification.react",["cx","ClickableArea.react","LivingRoomVideoBannerNotificationBody.react","LivingRoomVideoBannerNotificationHeader.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.state={shouldShow:!0},c.$2=function(a){a.stopPropagation(),c.props.onAccept(),c.setState({shouldShow:!1}),c.props.onComplete()},c.$3=function(a){a.stopPropagation(),c.props.onCancel(),c.setState({shouldShow:!1}),c.props.onComplete()},c.$4=function(){c.props.onBannerClick&&c.props.onBannerClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;window.setTimeout(function(){a.$1&&a.state.shouldShow===!0&&(a.setState({shouldShow:!1}),a.props.onComplete())},this.props.banner.notificationDuration+500)};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){return b("React").jsx(b("ClickableArea.react"),{onClick:this.$4,children:b("React").jsxs("div",{className:"_8e_0"+(this.state.shouldShow?"":" _8e_1"),children:[b("React").jsx(b("LivingRoomVideoBannerNotificationHeader.react"),{banner:this.props.banner}),b("React").jsx(b("LivingRoomVideoBannerNotificationBody.react"),{banner:this.props.banner,onAccept:this.$2,onCancel:this.$3})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomVideoBannerAutoplayNotification.react",["LivingRoomCancelAutoPlayVideoMutation","LivingRoomTypedLogger","LivingRoomVideoBannerNotification.react","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("LivingRoomCancelAutoPlayVideoMutation").commit({living_room_id:d.props.livingRoomID,video_id:b("nullthrows")(d.props.banner.videoID)}),new(b("LivingRoomTypedLogger"))().setLivingRoomID(d.props.livingRoomID).setLivingRoomAction("click_auto_play_video_banner_cancel").setVideoIDMarauder(d.props.banner.videoID).log()},d.$2=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomID(d.props.livingRoomID).setLivingRoomAction("click_auto_play_video_banner_accept").setVideoIDMarauder(d.props.banner.videoID).log()},d.$3=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomID(d.props.livingRoomID).setLivingRoomAction("click_auto_play_video_banner").setVideoIDMarauder(d.props.banner.videoID).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomID(this.props.livingRoomID).setLivingRoomAction("banner_auto_play_video_rendered").setVideoIDMarauder(this.props.banner.videoID).log()};d.render=function(){return b("React").jsx(b("LivingRoomVideoBannerNotification.react"),{banner:this.props.banner,livingRoomID:this.props.livingRoomID,onAccept:this.$2,onBannerClick:this.$3,onCancel:this.$1,onComplete:this.props.onComplete})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomVideoMultipleSuggestionBannerNotification.react",["cx","FDSLink.react","FDSText.react","LivingRoomActions","LivingRoomTypeValues","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LivingRoomTypeValues").AddVideoTabValue,i=b("LivingRoomTypeValues").SidePaneTypeValue;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={shouldShow:!0},d.$2=null,d.$3=function(){b("LivingRoomActions").setActiveSidePane(d.props.livingRoomID,i.ADD_VIDEO),b("LivingRoomActions").setAddVideoDialogTab(d.props.livingRoomID,h.SUGGESTED),d.$4()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){this.setState({shouldShow:!1}),this.props.onComplete()};d.componentDidMount=function(){var a=this;this.$1=!0;this.$2=window.setTimeout(function(){a.$1&&a.state.shouldShow===!0&&a.$4()},this.props.banner.notificationDuration+500)};d.componentWillUnmount=function(){this.$1=!1};d.componentDidUpdate=function(a,b){var c=this;if(!b.shouldShow)return;this.$2===null&&window.clearTimeout(this.$2);this.$2=null;this.$2===null&&(this.$2=window.setTimeout(function(){c.$1&&c.state.shouldShow===!0&&c.$4()},this.props.banner.notificationDuration+500))};d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_8e_0",children:a.jsxs("div",{className:"_8e_2",children:[a.jsx("div",{className:"_8e_3",children:a.jsx(b("FDSText.react"),{size:"body3",color:"white",children:this.props.banner.bannerTitle})}),a.jsx("div",{className:"_8jg4",children:a.jsx(b("FDSLink.react"),{onClick:this.$3,showUnderline:"never",children:a.jsx(b("FDSText.react"),{size:"body3",color:"white",weight:"bold",children:"See All"})})})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomVideoSuggestionBannerNotification.react",["LivingRoomContentQueueUtils","LivingRoomTypedLogger","LivingRoomVideoBannerNotification.react","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=function(){b("LivingRoomContentQueueUtils").dismissSuggestedContentItem(a.livingRoomID,b("nullthrows")(a.banner.suggestedItemID),null,function(){},e)},d=function(){b("LivingRoomContentQueueUtils").appendVideo(a.livingRoomID,b("nullthrows")(a.banner.videoID),null,b("nullthrows")(a.banner.suggestedItemID),function(){},function(){},e)},e=function(){return new(b("LivingRoomTypedLogger"))().setLivingRoomID(a.livingRoomID)};return b("React").jsx(b("LivingRoomVideoBannerNotification.react"),{banner:a.banner,livingRoomID:a.livingRoomID,onAccept:d,onCancel:c,onComplete:a.onComplete})}e.exports=a}),null);
__d("LivingRoomBannerNotification.react",["cx","LivingRoomBannerNotificationSubscription","LivingRoomTypeUtils","LivingRoomVideoBannerAutoplayNotification.react","LivingRoomVideoMultipleSuggestionBannerNotification.react","LivingRoomVideoSuggestionBannerNotification.react","React","RelayFBEnvironment","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=new(b("SubscriptionsHandler"))(),d.state={payload:null},d.$2=function(){d.setState({payload:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props.livingRoomID;this.$1.addSubscriptions(b("LivingRoomBannerNotificationSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(b){if(!b)return;a.setState({payload:b})}}))};d.$3=function(a,c){__p&&__p();if(a!==this.props.livingRoomID)return null;c=c==null?void 0:(c=c.living_room_banner_notification_subscribe)==null?void 0:c.living_room_banner;if(c==null)return null;var d=b("LivingRoomTypeUtils").convertLivingRoomBanner(c);if(d==null)return null;c=c.banner_type;switch(c){case"VIDEO_SUGGESTION_SINGLE":return b("React").jsx("div",{className:"_7_pk",children:b("React").jsx(b("LivingRoomVideoSuggestionBannerNotification.react"),{banner:d,livingRoomID:a,onComplete:this.$2})});case"AUTO_PLAY_VIDEO":return b("React").jsx("div",{className:"_7_pk",children:b("React").jsx(b("LivingRoomVideoBannerAutoplayNotification.react"),{banner:d,livingRoomID:a,onComplete:this.$2})});case"VIDEO_SUGGESTION_MULTIPLE":return b("React").jsx("div",{className:"_7_pk",children:b("React").jsx(b("LivingRoomVideoMultipleSuggestionBannerNotification.react"),{banner:d,livingRoomID:this.props.livingRoomID,onComplete:this.$2})})}return null};d.render=function(){return this.state.payload!=null?this.$3(this.props.livingRoomID,this.state.payload):null};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomCallAudio.react",["FluxContainer","React","RTCCallStore","RTCIncallAudio.react","immutable"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={remoteUsers:b("immutable").Set()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("RTCCallStore")]};c.calculateState=function(a,c){var d=b("RTCCallStore").getState().localUser;d=b("RTCCallStore").getState().remoteUsers.add(d);a?(c.onRemoteUsersAdded(d.subtract(a.remoteUsers)),c.onRemoteUsersDeleted(a.remoteUsers.subtract(d))):c.onRemoteUsersAdded(d);return{remoteUsers:d}};var d=c.prototype;d.$1=function(){return Array.from(this.state.remoteUsers.map(function(a){return a&&a.getStream()?b("React").jsx(b("RTCIncallAudio.react"),{mediaStream:a.getStream()},a.FBID):null}))};d.render=function(){return b("React").jsx("div",{children:this.$1()})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LivingRoomCommentatingViewerFunnelLogger",["WebFunnelLogger","uniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i;function a(){if(h===null||h===void 0)return;new(b("WebFunnelLogger"))("LivingRoomCommentatingViewerFunnelDefinition").setAction("did_playback_end").setSessionKey(h).addFunnelPayload("living_room_id",g).addFunnelPayload("video_id",i).markEnd().log();h=null;g=null}function c(a,c){h=b("uniqueID")(),g=a,new(b("WebFunnelLogger"))("LivingRoomCommentatingViewerFunnelDefinition").setAction("did_fetch_commentating_video").setSessionKey(h).addFunnelPayload("living_room_id",g).addFunnelPayload("video_id",c).markStart().log()}function d(a){if(h===null||h===void 0)return;new(b("WebFunnelLogger"))("LivingRoomCommentatingViewerFunnelDefinition").setAction(a).setSessionKey(h).addFunnelPayload("living_room_id",g).addFunnelPayload("video_id",i).log()}f={startFunnel:c,endFunnel:a,appendAction:d};e.exports=f}),null);
__d("LivingRoomCommentatingProfileTile.react",["ix","cx","fbt","AsyncRequest","Bootloader","ContextualDialogArrow","FRXURI","LivingRoomCommentatingViewerFunnelLogger","LivingRoomProfileTileBadge.react","PopoverMenu.react","ProfileTile.react","React","ReactXUIMenu","VideoBroadcastStatus","VideoDataContainer.react","VideoPlayer.react","XUISpinner.react","asset","assignMediaStream","clearTimeout","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReactXUIMenu").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={buffering:!1,loaded:!1,muted:d.props.shouldMute,playbackDone:!1},d.$3=function(){d.setState(function(a){if(a.muted){b("LivingRoomCommentatingViewerFunnelLogger").appendAction("did_unmute");return{muted:!1}}else{b("LivingRoomCommentatingViewerFunnelLogger").appendAction("did_mute");return{muted:!0}}})},d.$4=function(){var a=d.props.livingRoomID;b("Bootloader").loadModules(["LivingRoomActions"],function(b){b.stopLiveCommentatingRequest(a)},"LivingRoomCommentatingProfileTile.react")},d.$5=function(){var a=b("FRXURI").withEntReportable({reportable_ent_token:d.props.videoID,story_location:"living_room"});new(b("AsyncRequest"))().setURI(a).send()},d.$7=function(){b("LivingRoomCommentatingViewerFunnelLogger").appendAction("did_show_playback"),d.setState({loaded:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.props.isViewerCommentator&&this.props.localMediaStream!==null&&this.$1!=null&&!this.state.loaded&&(b("assignMediaStream")(this.$1,this.props.localMediaStream),this.$2!==null&&b("clearTimeout")(this.$2),this.$2=b("setTimeout")(function(){a.setState({loaded:!0,buffering:!0})},1e3))};d.componentDidUpdate=function(a){this.props.videoID!==a.videoID&&this.props.videoID!=null&&(!this.state.playbackDone?b("LivingRoomCommentatingViewerFunnelLogger").endFunnel():this.setState({playbackDone:!1}),b("LivingRoomCommentatingViewerFunnelLogger").startFunnel(this.props.livingRoomID,this.props.videoID)),this.props.isViewerCommentator&&a.localMediaStream!==this.props.localMediaStream&&!this.state.playbackDone&&this.setState({playbackDone:!0}),this.props.isViewerCommentator&&this.props.localMediaStream!==null&&this.props.broadcastStatus===b("VideoBroadcastStatus").LIVE&&this.state.buffering&&this.setState({buffering:!1})};d.componentWillUnmount=function(){b("LivingRoomCommentatingViewerFunnelLogger").endFunnel()};d.$6=function(a){__p&&__p();var c=this;a.runOnceOnApiEventLogged("started_playing",function(){b("LivingRoomCommentatingViewerFunnelLogger").appendAction("did_start_playing")});a.addListener("finishPlayback",function(){c.setState({playbackDone:!0})});a.addListener("streamInterrupted",function(){c.setState({playbackDone:!0})});a.addListener("streamResumed",function(){c.setState({playbackDone:!1})});a.addListener("error",function(){b("LivingRoomCommentatingViewerFunnelLogger").appendAction("did_playback_fail"),c.setState({buffering:!0})});a.addListener("buffering",function(){c.setState({buffering:!0})});a.addListener("buffered",function(){c.setState({buffering:!1})});a.addListener("networkInterrupted",function(){c.setState({buffering:!0})});a.addListener("networkResumed",function(){c.setState({buffering:!1})})};d.$8=function(){__p&&__p();switch(this.props.entrySource){case"WATCH_TAB":return"video_home";case"NOTIFICATIONS":return"notifications";case"TAHOE":return"living_room";case"FEED":return"newsfeed";case"COMPOSER":return"composer";case"TAHOE_TO_FEED":return"permalink";case"GROUP_FEED":return"group";case"USER_TIMELINE":return"user_timeline";case"PAGE_TIMELINE":return"page_timeline";case"DASHBOARD":return"living_room_dashboard"}return this.props.isFullscreen?"permalink":"newsfeed"};d.$9=function(){var a=this.props.isFullscreen?"full_screen":"inline";return{player_format:a}};d.$10=function(){var a,c=b("React").jsx(j,{onClick:this.$3,children:this.state.muted?i._("Unmute Video"):i._("Mute Video")});a=!((a=this.props)==null?void 0:a.isViewerCommentator)&&b("React").jsx(j,{onClick:this.$5,children:i._("Report Video")});var d=this.props.isViewerCommentator&&this.props.localMediaStream&&b("React").jsx(j,{onClick:this.$4,children:i._("End Broadcast")});return b("React").jsxs(b("ReactXUIMenu"),{children:[c,a,d]})};d.$11=function(){var a=this;return b("React").jsx(b("VideoDataContainer.react"),{onVideoLoaded:this.$7,videoID:b("nullthrows")(this.props.videoID),children:b("React").jsx(b("VideoPlayer.react"),{autoplay:!0,className:"_748z",customLoggingProps:this.$9(),disableClickPlayPause:!0,startMuted:this.state.muted,playerOrigin:this.$8(),subOrigin:"living_room_commentating",videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,livingRoomSessionID:this.props.livingRoomID,width:80,height:80,onVpcUpdate:function(b){return a.$6(b)}})})};d.$12=function(){var a;return(a=b("React")).jsxs(a.Fragment,{children:[a.jsx("div",{className:"_747- _747_"}),a.jsx("div",{className:"_747- _7480"}),a.jsx("div",{className:"_747- _7486"}),a.jsx("div",{className:"_747- _7487"})]})};d.$13=function(){var a;return(a=b("React")).jsxs(a.Fragment,{children:[this.$14(!0),a.jsx("div",{className:"_87hj",children:a.jsx(b("ProfileTile.react"),{id:b("nullthrows")(this.props.commentatorID),imageProps:{className:"_87hk"},shouldNameLinkToProfile:!1,shouldShowProfileCardOnHover:!1,size:80})}),a.jsxs("div",{className:"_7488 _7489"+(this.state.loaded?" _748z":""),children:[this.$11(),this.$12()]})]})};d.$15=function(){var a=this,c=this.props.isFullscreenVideo?{offsetType:"vertical",offsetValue:-65}:{};return b("React").jsx("div",{className:"_7a6-",children:b("React").jsx(b("VideoDataContainer.react"),{onVideoLoaded:this.$7,videoID:b("nullthrows")(this.props.videoID),children:b("React").jsx(b("VideoPlayer.react"),babelHelpers["extends"]({autoplay:!0,customLoggingProps:this.$9(),disableClickPlayPause:!0,startMuted:this.state.muted,playerOrigin:this.$8(),subOrigin:"living_room_commentating",videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,livingRoomSessionID:this.props.livingRoomID,width:160,onVpcUpdate:function(b){return a.$6(b)}},c))})})};d.$14=function(a){return b("React").jsxs(b("React").Fragment,{children:[this.props.commentatorID!=null?b("React").jsx(b("ProfileTile.react"),{id:this.props.commentatorID,imageProps:{className:"_7a6i"},shouldNameLinkToProfile:!1,shouldShowProfileCardOnHover:!1,size:160}):null,a?b("React").jsx("div",{className:"_7a66"}):null]})};d.$16=function(){var a=this;return b("React").jsx("video",{autoPlay:!0,className:"_841z",muted:!0,ref:function(b){return a.$1=b}})};d.$17=function(){if(!this.props.isFullscreen)return this.$14(!1);if(!this.props.isAudioOnly&&this.props.isViewerCommentator&&this.props.localMediaStream!==null)return this.$16();if(this.props.videoID==null)return null;return this.props.isAudioOnly?this.$13():this.$15()};d.$18=function(){if(this.state.buffering){b("LivingRoomCommentatingViewerFunnelLogger").appendAction("did_playback_stall");return b("React").jsx("div",{className:"_7a5u",children:b("React").jsx("div",{className:"_7a5v",children:b("React").jsx(b("XUISpinner.react"),{background:"light",size:"large"})})})}return null};d.$19=function(){if(this.props.isFullscreen)return this.props.isViewerCommentator&&this.props.localMediaStream!==null?g("480712"):this.state.muted?g("559897"):g("497825");else return this.props.isAudioOnly?g("497660"):g("495225")};d.render=function(){if(this.state.playbackDone){b("LivingRoomCommentatingViewerFunnelLogger").endFunnel();return null}var a=b("React").jsxs("div",{className:"_6zis"+(this.props.isFullscreen?"":" _6zh2")+(this.state.loaded&&this.props.isFullscreen?" _6zh3":""),children:[b("React").jsx(b("LivingRoomProfileTileBadge.react"),{asset:this.$19(),isCommentating:!0,isSpeaking:!1,size:this.props.isFullscreen?this.state.loaded?"extra large":"regular":"large",useBackgroundColor:!this.props.isViewerCommentator}),this.$17(),this.$18()]});return!this.props.isFullscreen?b("React").jsx("div",{className:"_748a",children:a}):b("React").jsx("div",{className:"_6zh4"+(this.state.loaded?" _6zh5":""),children:b("React").jsx(b("PopoverMenu.react"),{alignh:"center",alignv:"baseline",className:"_71yf",position:"above",layerBehaviors:[b("ContextualDialogArrow")],menu:this.$10(),children:a})})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomCommentatingProfileTileContainer.react",["LivingRoomCommentatingProfileTile.react","LivingRoomCommentatingViewerFunnelLogger","React","RelayModern","VideoBroadcastStatus","gkx","LivingRoomCommentatingProfileTileContainer_livingRoom.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c,d=a.livingRoom,e=a.onCommentatingSet,f=a.viewerID,g=babelHelpers.objectWithoutPropertiesLoose(a,["livingRoom","onCommentatingSet","viewerID"]);if(!!(d==null?void 0:d.is_active)===!1)return null;d=d.live_commentating_videos;d=d.length===0?null:d[0].video;c=d==null?void 0:(c=d.owner)==null?void 0:c.id;var h=d==null?void 0:d.broadcast_status;if(h===b("VideoBroadcastStatus").LIVE_STOPPED){if(c===a.viewerID)return null;h=b("VideoBroadcastStatus").LIVE}var i=a.localMediaStream!==null&&b("gkx")("956973");if((h!==b("VideoBroadcastStatus").LIVE||!b("gkx")("686625"))&&!i)return null;var j=!!(d==null?void 0:d.is_live_audio_format),k=d==null?void 0:d.id;d=(d==null?void 0:d.height)!==(d==null?void 0:d.width);c!=null&&k!=null&&(e&&e(c),a.isFullscreen&&b("LivingRoomCommentatingViewerFunnelLogger").startFunnel(a.livingRoomID,k));return b("React").jsx(b("LivingRoomCommentatingProfileTile.react"),babelHelpers["extends"]({},g,{commentatorID:c,shouldMute:c===f||!a.isFullscreen,isAudioOnly:j,isFullscreenVideo:d,isViewerCommentator:c===f||i,videoID:k,localMediaStream:a.localMediaStream,broadcastStatus:h}))}e.exports=c(a,{livingRoom:g!==void 0?g:g=b("LivingRoomCommentatingProfileTileContainer_livingRoom.graphql")})}),null);
__d("LivingRoomSecondScreenItem.react",["cx","fbt","ImageBlock.react","InlineBlock.react","LeftRight.react","React","ScaledImage.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=90,j=160;function a(a){__p&&__p();function c(c){var d,e,f,g,h,k=a.imgHeight,l=a.imgWidth;d=(d=c.away_team)==null?void 0:(d=d.official_page)==null?void 0:(d=d.profile_picture)==null?void 0:d.width;e=(e=c.away_team)==null?void 0:(e=e.official_page)==null?void 0:(e=e.profile_picture)==null?void 0:e.height;f=(f=c.home_team)==null?void 0:(f=f.official_page)==null?void 0:(f=f.profile_picture)==null?void 0:f.width;g=(g=c.home_team)==null?void 0:(g=g.official_page)==null?void 0:(g=g.profile_picture)==null?void 0:g.height;h=(h=c.away_team)==null?void 0:(h=h.official_page)==null?void 0:(h=h.profile_picture)==null?void 0:h.uri;c=(c=c.home_team)==null?void 0:(c=c.official_page)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri;return b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsx(b("ScaledImage.react"),{height:k!=null?k:i,imageSize:{height:e!=null?e:i,width:d!=null?d:j},src:h,width:l!=null?l/2:j/2}),b("React").jsx(b("ScaledImage.react"),{height:k!=null?k:i,imageSize:{height:g!=null?g:i,width:f!=null?f:j},src:c,width:l!=null?l/2:j/2})]})}function d(c){var d,e,f=a.imgHeight,g=a.imgWidth;d=(d=c.related_page)==null?void 0:(d=d.profile_picture)==null?void 0:d.width;e=(e=c.related_page)==null?void 0:(e=e.profile_picture)==null?void 0:e.height;c=(c=c.related_page)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri;return b("React").jsx(b("ScaledImage.react"),{height:f!=null?f:i,imageSize:{height:e!=null?e:i,width:d!=null?d:j},src:c,width:g!=null?g:j})}var e=a.creatorName,f=a.secondScreenContent;c=(f==null?void 0:f.away_team)!=null&&(f==null?void 0:f.home_team)!=null?c(f):d(f);d=null;e!=null&&(d=b("React").jsx("span",{children:h._("From {Creator name}",[h._param("Creator name",e)])}));e=b("React").jsx("div",{className:"_4cxi",children:c});f=b("React").jsx("div",{className:"_6_sg _1k_6",children:(c=f.related_page)==null?void 0:c.name});c=b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:86,children:b("React").jsxs("div",{className:"_6_sh",children:[f,b("React").jsx("div",{className:"_6_sg _6-gr",children:d})]})});return b("React").jsx("div",{className:"_2b6j",children:b("React").jsxs(b("ImageBlock.react"),{children:[e,c]})})}e.exports=a}),null);
__d("LivingRoomContentQueueItem.react",["ix","cx","fbt","AsyncRequest","FDSDropdownMenu.react","FDSSplitButton.react","FRXURI","Image.react","LivingRoomContentQueueUtils","LivingRoomSecondScreenItem.react","LivingRoomStore","LivingRoomTypedLogger","LivingRoomVideoListItem.react","React","asset","cxMargin","nullthrows"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={disablePlayNow:!1,disablePlayNext:!1,badgeControlOpen:!1},d.$1=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("curation_action_sheet_open").setLivingRoomID(d.props.livingRoomID).setCurationContext(d.props.curationContext).log(),d.setState({badgeControlOpen:!0})},d.$2=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("curation_action_sheet_cancel").setLivingRoomID(d.props.livingRoomID).setCurationContext(d.props.curationContext).log()},d.$3=function(){var a=d.props.contentItem;a=b("FRXURI").withEntReportable({reportable_ent_token:(a=a.video)==null?void 0:a.id,story_location:"living_room"});new(b("AsyncRequest"))().setURI(a).send()},d.$4=function(){var a=d.props,c=a.livingRoomID;a=a.contentItem;b("LivingRoomContentQueueUtils").playContentItem(c,a.id,d.props.curationContext);d.setState({disablePlayNow:!0})},d.$5=function(){var a,c=d.props,e=c.livingRoomID;c=c.contentItem;new(b("LivingRoomTypedLogger"))().setLivingRoomAction("play_next_from_queue").setLivingRoomID(d.props.livingRoomID).setCurationContext(d.props.curationContext).log();b("LivingRoomContentQueueUtils").prependVideo(e,b("nullthrows")((a=c.video)==null?void 0:a.id),d.props.curationContext);b("LivingRoomContentQueueUtils").removeContentItem(e,c.id,(a=c.video)==null?void 0:a.id);d.setState({disablePlayNext:!0})},d.$6=function(){var a=d.props,c=a.livingRoomID;a=a.contentItem;b("LivingRoomContentQueueUtils").removeContentItemWithMessage(c,a.id,(c=a.video)==null?void 0:c.id,d.props.curationContext)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$7=function(){__p&&__p();var a=this,c=this.props,d=c.canViewerPlayContent;c=c.contentItem;var e=this.state.disablePlayNow;if(!d)return null;var f=this.props.hidesPlayNext?i._("Up Next"):i._("Play Next");f={type:"item",label:f,isDisabled:this.props.hidesPlayNext||this.state.disablePlayNext,onClick:this.$5};d=!d||(c==null?void 0:c.badge_text)!=null;c={type:"item",label:i._("Remove from Queue"),isDisabled:d,onClick:this.$6};d=[f,c];if(((f=this.props.contentItem.video)==null?void 0:(c=f.owner)==null?void 0:c.id)!==b("LivingRoomStore").getSelf(this.props.livingRoomID).profile.id){f={type:"item",label:i._("Report Video"),onClick:this.$3};c={type:"separator"};d.push(c,f)}return b("React").jsxs("div",{className:this.state.badgeControlOpen?"_7g9p":"",children:[b("React").jsx("div",{className:"_7g9q",onClick:this.$2}),b("React").jsx(b("FDSSplitButton.react"),{isDisabled:e,label:e?i._("Playing"):i._("Play Now"),use:"primary",onClick:this.$4,menu:b("React").jsx(b("FDSDropdownMenu.react"),{items:d,shouldHideOnMouseLeave:!0,onOpen:this.$1,onClose:function(){a.setState({badgeControlOpen:!1})}})})]})};d.$8=function(){var a=this,c;if(((c=this.props.contentItem.video)==null?void 0:(c=c.owner)==null?void 0:c.id)===b("LivingRoomStore").getSelf(this.props.livingRoomID).profile.id)return null;c={type:"item",label:i._("Report Video"),onClick:this.$3};return b("React").jsxs("div",{className:this.state.badgeControlOpen?"_7g9p":"",children:[b("React").jsx("div",{className:"_7g9q",onClick:this.$2}),b("React").jsx(b("FDSDropdownMenu.react"),{buttonIcon:b("React").jsx(b("Image.react"),{src:g("481882")}),fdsOverride_isChevronHidden:!0,labelIsHidden:!0,width:25,margin:"_4jnw",items:[c],shouldHideOnMouseLeave:!0,onOpen:this.$1,onClose:function(){a.setState({badgeControlOpen:!1})}})]})};d.render=function(){var a=this.props.contentItem,c=a.creator?a.creator.name:null,d=a==null?void 0:a.second_screen_content;return a.video===null&&d===null?null:d!=null?b("React").jsx(b("LivingRoomSecondScreenItem.react"),{creatorName:c,secondScreenContent:d}):b("React").jsx(b("LivingRoomVideoListItem.react"),{creatorName:c,premiereLivingRoomBadgeText:a.badge_text,video:b("nullthrows")(a.video),badgeControls:this.props.canViewerPlayContent&&!this.props.isPlayingNow?this.$7():this.$8(),disableClick:!this.props.canViewerPlayContent||this.props.isPlayingNow,onClickItem:this.$4,showErrorMessage:!1,inSidePane:!0,isAutoPlayVideo:this.props.isAutoPlayVideo})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomContentQueueLink.react",["cx","fbt","Link.react","LivingRoomActions","LivingRoomTypedLogger","LivingRoomTypeValues","React"],(function(a,b,c,d,e,f,g,h){var i=b("LivingRoomTypeValues").SidePaneTypeValue;function a(a){var c=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_view_queue").setLivingRoomID(a.livingRoomID).log(),b("LivingRoomActions").setActiveSidePane(a.livingRoomID,i.QUEUE)};return b("React").jsx(b("Link.react"),{className:a.isSessionEnded?"hidden_elem":"",onClick:c,children:h._("See All")})}e.exports=a}),null);
__d("LivingRoomCommentatingHostFunnelLogger",["WebFunnelLogger","uniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;function a(a){h=b("uniqueID")(),g=a,new(b("WebFunnelLogger"))("LivingRoomCommentatingHostFunnelDefinition").setAction("did_tap_commentating_start_fbb").setSessionKey(h).addFunnelPayload("living_room_id",g).markStart().log()}function c(){if(h===null||h===void 0)return;new(b("WebFunnelLogger"))("LivingRoomCommentatingHostFunnelDefinition").setAction("did_end_commentating").setSessionKey(h).addFunnelPayload("living_room_id",g).markEnd().log();h=null;g=null}function d(a){if(h===null||h===void 0)return;new(b("WebFunnelLogger"))("LivingRoomCommentatingHostFunnelDefinition").setAction(a).setSessionKey(h).addFunnelPayload("living_room_id",g).log()}f={startFunnel:a,endFunnel:c,appendAction:d};e.exports=f}),null);
__d("LivingRoomLiveCommentatingButton.react",["ix","cx","fbt","Bootloader","FBRTCMWProtocolStore","FDSButton.react","FDSButtonSpinner.react","FDSModal.react","FDSModalFooter.react","FDSSection.react","FDSSpinner.react","FDSText.react","FlexLayout.react","FluxContainer","Image.react","LiveVideoBroadcastActions","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastConstants","LiveVideoBroadcastDispatcher","LiveVideoBroadcastUIStore","LiveVideoBroadcastUtils","LivingRoomActions","LivingRoomCommentatingHostFunnelLogger","LivingRoomStore","ProfileTile.react","React","RTCAppDispatcher","RTCCallStore","Run","SimpleNUXMessage","SimpleNUXMessageTypes","VideoBroadcastStatus","XUIAmbientNUX.react","asset","assignMediaStream","clearInterval","clearTimeout","setInterval","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LiveVideoBroadcastConstants").CAMERA_STATE,k=30,l=273465416184080;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastUIStore")]};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$7=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").LIVING_ROOM_START_LIVE_COMMENTATING),d.setState({startBroadcastNUXShown:!1})};d.$11=function(){__p&&__p();if(!d.state.liveCommentaryStarted){d.setState({isModalShown:!0});b("LiveVideoBroadcastActions").cleanup();b("LiveVideoBroadcastActions").initialize({});b("LivingRoomCommentatingHostFunnelLogger").startFunnel(d.props.livingRoomID);if(d.state.cameraState!==j.BROADCAST){d.$3!==null&&b("clearTimeout")(d.$3);d.$3=b("setTimeout")(function(){d.state.cameraState===j.CHECK_CAMERA_ACCESS&&(b("LiveVideoBroadcastActions").updateBroadcastUIConfig({streamSettings:{isLiveCommentating:!0}}),b("LiveVideoBroadcastActions").updateCameraState(j.REQUEST_CAMERA_ACCESS),b("LiveVideoBroadcastActions").getWebcamStreamUrlRequest())},b("LiveVideoBroadcastConstants").REQUEST_ACCESS_DELAY_MS);var a=0,c=d.props.actorID,e=d.props.livingRoomID,f={to_id:e};b("Bootloader").loadModules(["ModernLiveVideoCreateMutation","RelayFBEnvironment","VideoBroadcastInfraType","VideoBroadcastInitialStatus"],function(d,e,g,h){d.commit(e,{actorID:c,audience:f,broadcastInfraType:g.RTC,numHost:a,overrideAppID:l,videoBroadcastInitialStatus:h.PRE_LIVE},{onCompleted:function(a){a=a==null?void 0:a.live_video_create;var c=a==null?void 0:a.video_broadcast_id;a=a==null?void 0:(a=a.video)==null?void 0:a.id;if(c==null||a==null)return;b("LiveVideoBroadcastActions").setBroadcastID(c);b("LiveVideoBroadcastActions").setVideoID(a)},onError:b("LiveVideoBroadcastUtils").handleCreateBroadcastError})},"LivingRoomLiveCommentatingButton.react")}}else d.state.isAudioOnly&&d.setState({isAudioOnly:!1,audioIntervalCounter:0}),d.setState({liveCommentaryStarted:!1,streamLoaded:!1}),b("LivingRoomCommentatingHostFunnelLogger").appendAction("did_tap_commentating_stop_fbb"),b("LivingRoomActions").stopLiveCommentatingRequest(d.props.livingRoomID),b("LiveVideoBroadcastActions").updateCameraState(j.CHECK_CAMERA_ACCESS)};d.$12=function(){d.setState({isModalShown:!1,streamLoaded:!1}),b("LiveVideoBroadcastActions").cleanup(),b("LiveVideoBroadcastActions").updateCameraState(j.CHECK_CAMERA_ACCESS)};b("LiveVideoBroadcastDispatcher").explicitlyRegisterStores([b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastUIStore")]);b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("FBRTCMWProtocolStore")]);return d}c.calculateState=function(a){var c,d=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),e=d.mediaStream,f=d.broadcastId;d=d.videoId;var g=b("LiveVideoBroadcastUIStore").getState().toObject();g=g.cameraState;return{liveCommentaryStarted:(c=a==null?void 0:a.liveCommentaryStarted)!=null?c:!1,startBroadcastNUXShown:(c=a==null?void 0:a.startBroadcastNUXShown)!=null?c:!1,genHasUserSeenNUX:(c=a==null?void 0:a.genHasUserSeenNUX)!=null?c:b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").LIVING_ROOM_START_LIVE_COMMENTATING),isModalShown:(c=a==null?void 0:a.isModalShown)!=null?c:!1,cameraState:g,mediaStream:e,streamLoaded:(c=a==null?void 0:a.streamLoaded)!=null?c:!1,broadcastID:f,loading:(g=a==null?void 0:a.loading)!=null?g:!1,videoID:d,isAudioOnly:(e=a==null?void 0:a.isAudioOnly)!=null?e:!1,audioIntervalCounter:(c=a==null?void 0:a.audioIntervalCounter)!=null?c:0}};var d=c.prototype;d.$6=function(){this.state.liveCommentaryStarted&&b("LivingRoomActions").stopLiveCommentatingRequest(this.props.livingRoomID)};d.componentDidMount=function(){__p&&__p();var a=this;this.state.genHasUserSeenNUX||b("setTimeout")(function(){a.setState({startBroadcastNUXShown:!0})},500);this.setState({liveCommentaryStarted:this.props.isLiveCommentating});b("Run").onUnload(function(){a.$6()});b("Run").onLeave(function(){a.$6()});b("Run").onBeforeUnload(function(){var c=b("LivingRoomStore").getMediaStream(a.props.livingRoomID);if(c!==null)return i._("You are still broadcasting");else return void 0})};d.componentDidUpdate=function(a,c){var d=this;this.state.cameraState===j.BROADCAST&&this.$1!=null&&!this.state.streamLoaded&&this.state.isModalShown&&(b("assignMediaStream")(this.$1,this.state.mediaStream),this.$2!==null&&b("clearTimeout")(this.$2),this.$2=b("setTimeout")(function(){d.setState({streamLoaded:!0})},1e3));this.props.broadcastStatus===b("VideoBroadcastStatus").LIVE&&this.state.loading&&this.setState({loading:!1});if(this.state.isAudioOnly&&this.$4!=null){a=this.$4;c=a.getContext("2d");c.clearRect(0,0,a.width,a.height)}};d.componentWillUnmount=function(){this.$5!==null&&b("clearInterval")(this.$5)};d.$8=function(){var a=this;return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.live_commentating_button},shown:this.state.startBroadcastNUXShown,position:"left",width:"custom",customwidth:240,onCloseButtonClick:this.$7,children:i._("New! You can go live in this watch party while the videos are still playing. People will be able to see and hear you.")})};d.$9=function(a){__p&&__p();var c=this;if(a){var d=this.state.videoID,e=this.$4,f=this;if(e==null)return;this.$5=b("setInterval")(function(){c.setState(function(a){return{audioIntervalCounter:a.audioIntervalCounter+1}})},b("LiveVideoBroadcastConstants").MSEC_IN_SEC/k);b("LivingRoomCommentatingHostFunnelLogger").appendAction("did_switch_to_audio_commentating");b("Bootloader").loadModules(["ModernLiveVideoEditAudioOnlyMutation","RelayFBEnvironment","RTCCallActions","RTCUtils"],function(c,g,h,i){var j=e.captureStream();return i.getUserMedia({audio:!0,video:!1}).then(function(e){e.addTrack(j.getVideoTracks()[0]),h.removeAllLocalStreams(!0),h.addLocalStream(e),c.commit(g,{videoID:d,isAudioOnly:a},{onCompleted:function(a){f.$10(e,!0)},onError:b("LiveVideoBroadcastUtils").handleCreateBroadcastError})})},"LivingRoomLiveCommentatingButton.react")}else this.$10(this.state.mediaStream,!1)};d.$10=function(a,c){this.setState({liveCommentaryStarted:!0,isModalShown:!1,loading:!0,isAudioOnly:c}),b("LivingRoomActions").startLiveCommentatingRequest(this.props.livingRoomID,a)};d.$13=function(){var a=this;return b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{busyIndicator:this.state.broadcastID==null?b("React").jsx(b("FDSButtonSpinner.react"),{shade:"light"}):null,isDisabled:this.state.broadcastID==null||this.state.cameraState!==j.BROADCAST,label:i._("Live Video"),icon:b("React").jsx(b("Image.react"),{src:g("963578")}),use:"special",onClick:function(){return a.$9(!1)}}),secondaryButton:b("React").jsx(b("FDSButton.react"),{busyIndicator:this.state.broadcastID==null?b("React").jsx(b("FDSButtonSpinner.react"),{shade:"light"}):null,label:i._("Live Audio"),icon:b("React").jsx(b("Image.react"),{src:g("497662")}),isDisabled:this.state.broadcastID==null||this.state.cameraState!==j.BROADCAST,use:"primary",onClick:function(){return a.$9(!0)}})}),isShown:this.state.isModalShown,label:i._("Broadcast Yourself"),onHide:this.$12,shade:"light",children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsxs(b("FlexLayout.react"),{align:"center",direction:"vertical",children:[b("React").jsxs("div",{className:"_841a",children:[b("React").jsx("video",{autoPlay:!0,className:"_841z",muted:!0,ref:function(b){return a.$1=b}}),this.state.streamLoaded?null:b("React").jsx("div",{className:"_841-",children:this.state.cameraState===j.CAMERA_NOT_FOUND||this.state.cameraState===j.CAMERA_NOT_ALLOWED?b("React").jsx(b("Image.react"),{src:g("511165")}):b("React").jsx("div",{className:"_841_",children:b("React").jsx(b("FDSSpinner.react"),{shade:"light",size:"large"})})}),b("React").jsx("div",{className:"_8420",children:b("React").jsx(b("ProfileTile.react"),{id:this.props.actorID,imageProps:{className:"_2pqu"},shouldNameLinkToProfile:!1,shouldShowProfileCardOnHover:!1,size:32})})]}),b("React").jsx("div",{children:b("React").jsx(b("FDSText.react"),{color:"primary",size:"header1",weight:"bold",children:i._("Broadcast Yourself")})}),b("React").jsx("div",{className:"_8421",children:b("React").jsx(b("FDSText.react"),{color:"placeholder",children:this.state.cameraState===j.MICROPHONE_NOT_FOUND||this.state.cameraState===j.CAMERA_NOT_ALLOWED||this.state.cameraState===j.CAMERA_NOT_FOUND?i._("To go live during this watch party, you need to turn on access to your camera and microphone."):i._("As a host, you can go live in this watch party from your device's camera while the videos are still playing.")})})]})})})};d.$14=function(){var a=this;return b("React").jsx("canvas",{ref:function(b){return a.$4=b},style:{display:"none"}})};d.render=function(){return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSButton.react"),{busyIndicator:this.state.loading?b("React").jsx(b("FDSButtonSpinner.react"),{}):null,label:i._("Broadcast Yourself"),labelIsHidden:!0,icon:this.state.loading?null:this.state.liveCommentaryStarted?b("React").jsx(b("Image.react"),{src:g("956965")}):b("React").jsx(b("Image.react"),{src:g("956971")}),isDisabled:this.state.loading,onClick:this.$11,width:48,ref:"live_commentating_button"}),this.$8(),this.$13(),this.$14()]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LivingRoomSuggestVideoButton.react",["fbt","FDSButton.react","LivingRoomActions","LivingRoomTypedLogger","LivingRoomTypeValues","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("LivingRoomTypeValues").SidePaneTypeValue;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_suggest_video_in_queue").setLivingRoomID(d.props.livingRoomID).log(),b("LivingRoomActions").setActiveSidePane(d.props.livingRoomID,h.ADD_VIDEO)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=this.props.use||"default";return b("React").jsx("span",{children:b("React").jsx(b("FDSButton.react"),{label:g._("Suggest Video"),onClick:this.$2,ref:function(b){return a.$1=b},use:c,width:this.props.width})})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomSidePaneButtons.react",["FluxContainer","LivingRoomAddCohostButton.react","LivingRoomAddVideoButton.react","LivingRoomLiveCommentatingButton.react","LivingRoomStore","LivingRoomSuggestVideoButton.react","React","RelayModern","VideoBroadcastStatus","cxMargin","gkx","LivingRoomSidePaneButtons_livingRoom.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={areTherePromotedUsers:b("LivingRoomStore").getPromotedUsersCount(d.props.livingRoomID)>0,canViewerGrantCohost:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerGrantCohost,canViewerAddContent:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerAddContent,canViewerSuggestContent:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerSuggestContent,isMediaStreamActive:b("LivingRoomStore").getMediaStream(d.props.livingRoomID)!==null},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{areTherePromotedUsers:(a=b("LivingRoomStore")).getPromotedUsersCount(c.livingRoomID)>0,canViewerGrantCohost:a.getPermissions(c.livingRoomID).canViewerGrantCohost,canViewerAddContent:a.getPermissions(c.livingRoomID).canViewerAddContent,canViewerSuggestContent:a.getPermissions(c.livingRoomID).canViewerSuggestContent,isMediaStreamActive:a.getMediaStream(c.livingRoomID)!==null})};var d=c.prototype;d.$1=function(a,c,d){if(a&&this.state.canViewerAddContent)return b("React").jsxs("span",{children:[d!==null?b("React").jsx("span",{className:"_3-90",children:d}):null,b("React").jsx("span",{className:"_3-90",children:c}),b("React").jsx(b("LivingRoomAddVideoButton.react"),{livingRoomID:this.props.livingRoomID,use:"primary",width:d!==null?138:166})]});else if(a&&this.state.canViewerSuggestContent)return b("React").jsxs("span",{children:[b("React").jsx("span",{className:"_3-90",children:c}),b("React").jsx(b("LivingRoomSuggestVideoButton.react"),{livingRoomID:this.props.livingRoomID,use:"primary",width:166})]});else if(this.state.canViewerAddContent)return b("React").jsx(b("LivingRoomAddVideoButton.react"),{livingRoomID:this.props.livingRoomID,use:"primary",width:340});else if(this.state.canViewerSuggestContent)return b("React").jsx(b("LivingRoomSuggestVideoButton.react"),{livingRoomID:this.props.livingRoomID,use:"primary",width:340});return null};d.render=function(){__p&&__p();var a=null,c=this.props.livingRoom.is_active!==!1;if(!c)return null;c=null;if(b("gkx")("956973")&&!this.state.areTherePromotedUsers){var d,e,f=b("LivingRoomStore").getActorID(this.props.livingRoomID);d=(d=this.props.livingRoom.live_commentating_videos)==null?void 0:(d=d[0])==null?void 0:d.video;e=d==null?void 0:(e=d.owner)==null?void 0:e.id;d=d==null?void 0:d.broadcast_status;var g=!1;e===f&&(g=d===b("VideoBroadcastStatus").LIVE);(!g||this.state.isMediaStreamActive)&&(c=b("React").jsx(b("LivingRoomLiveCommentatingButton.react"),{actorID:f,livingRoomID:this.props.livingRoomID,isLiveCommentating:g,broadcastStatus:d}))}e=b("React").jsx(b("LivingRoomAddCohostButton.react"),{livingRoomID:this.props.livingRoomID,width:c!==null?138:166});a=this.$1(this.state.canViewerGrantCohost,e,c);if(a==null)return null;return this.props.className!=null?b("React").jsx("div",{className:this.props.className,children:a}):b("React").jsx("div",{children:a})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:g!==void 0?g:g=b("LivingRoomSidePaneButtons_livingRoom.graphql")})}),null);
__d("LivingRoomContentQueuePane.react",["cx","fbt","FluxContainer","InfiniteScroll.react","LivingRoomActionPaneAnimationContainer.react","LivingRoomActions","LivingRoomAutoPlayButton.react","LivingRoomContentQueueItem.react","LivingRoomContentQueueUtils","LivingRoomHostFunnelLogger","LivingRoomSidePaneButtons.react","LivingRoomSidePaneHeader.react","LivingRoomSidePanePlaceholder.react","LivingRoomStore","LivingRoomTypeValues","React","RelayModern","clearTimeout","cxMargin","immutable","nullthrows","setTimeout","LivingRoomContentQueuePane_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("LivingRoomTypeValues").SidePaneTypeValue;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={canViewerPlayContent:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerPlayContent,canViewerAddContent:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerAddContent,contentQueue:b("LivingRoomStore").getContentQueue(d.props.livingRoomID),currentContentItem:b("LivingRoomStore").getCurrentContentItem(d.props.livingRoomID),autoPlayEnabled:b("LivingRoomStore").getAutoPlayEnabled(d.props.livingRoomID),autoPlayProcessing:b("LivingRoomStore").getAutoPlayProcessing(d.props.livingRoomID),autoPlayMutationTimer:null},d.$1=function(){var a;return(a=(a=d.props.livingRoom)==null?void 0:a.auto_play_v2_eligible)!=null?a:!1},d.$2=function(){b("LivingRoomActions").setActiveSidePane(d.props.livingRoomID,j.DEFAULT)},d.$3=function(){b("LivingRoomActions").setAutoPlayProcessing(d.props.livingRoomID,!0);b("clearTimeout")(d.state.autoPlayMutationTimer);var a=b("setTimeout").bind(babelHelpers.assertThisInitialized(d))(function(){d.state.autoPlayProcessing&&b("LivingRoomActions").setAutoPlayProcessing(d.props.livingRoomID,!1)},1e4);d.setState({autoPlayMutationTimer:a});b("LivingRoomContentQueueUtils").setAutoPlayState(d.props.livingRoomID,!d.state.autoPlayEnabled)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{contentQueue:(a=b("LivingRoomStore")).getContentQueue(c.livingRoomID),currentContentItem:a.getCurrentContentItem(c.livingRoomID),canViewerAddContent:a.getPermissions(c.livingRoomID).canViewerAddContent,autoPlayEnabled:a.getAutoPlayEnabled(c.livingRoomID),autoPlayProcessing:a.getAutoPlayProcessing(c.livingRoomID)})};var d=c.prototype;d.$4=function(a,c,d){if(a.video===null&&a.second_screen_content===null)return null;return a.is_auto_played&&!this.state.autoPlayEnabled?null:b("React").jsx("div",{className:a.is_auto_played&&this.state.autoPlayProcessing?"_68x0":"",children:b("React").jsx(b("LivingRoomContentQueueItem.react"),{canViewerPlayContent:this.state.canViewerPlayContent,contentItem:a,curationContext:"up_next",livingRoomID:this.props.livingRoomID,hidesPlayNext:c,isPlayingNow:d,isAutoPlayVideo:a.is_auto_played&&this.$1()},a.id)})};d.$5=function(){var a=this,c,d=this.state.canViewerAddContent&&this.$1()?b("React").jsx(b("LivingRoomAutoPlayButton.react"),{autoPlayEnabled:this.state.autoPlayEnabled,width:138,onClick:this.$3,isDisabled:this.state.autoPlayProcessing}):null;return b("React").jsxs("div",{children:[((c=this.props.livingRoom)==null?void 0:c.is_pending_group_admin_approval)===!0?null:b("React").jsxs("div",{className:"_3-8o _3-8u _8s_x",children:[b("React").jsx("div",{className:"_7fux",children:h._("Up Next")}),d]}),this.state.contentQueue.count()===0&&!this.state.autoPlayProcessing?b("React").jsx("div",{className:"_7g8y",children:h._("No videos in the queue.")}):b("React").jsx(b("React").Fragment,{children:this.state.contentQueue.map(function(b,c){return a.$4(b,c===0,!1)})}),this.state.autoPlayProcessing&&!this.state.autoPlayEnabled?b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{}):null]})};d.$6=function(){return this.state.currentContentItem==null?null:b("React").jsxs("div",{className:"_3-95",children:[b("React").jsx("div",{className:"_7fux _3-8o _3-9c",children:h._("Now Playing")}),this.$4(b("nullthrows")(this.state.currentContentItem),!0,!0)]})};d.render=function(){var a;return b("React").jsxs(b("LivingRoomActionPaneAnimationContainer.react"),{livingRoomID:this.props.livingRoomID,badgeText:this.props.livingRoom.badge_text,hideBadge:this.props.livingRoom.is_pending_group_admin_approval,children:[b("React").jsx("div",{className:"_7fj_",children:b("React").jsx(b("LivingRoomSidePaneHeader.react"),{title:b("LivingRoomStore").getSelf(this.props.livingRoomID).profile.id===((a=this.props.livingRoom.creator)==null?void 0:a.id)?h._("Your Queue"):h._("Queue"),linkTitle:h._("Close"),onLinkClick:((a=this.props.livingRoom)==null?void 0:a.is_pending_group_admin_approval)===!0?void 0:this.$2,backButton:((a=this.props.livingRoom)==null?void 0:a.is_pending_group_admin_approval)!==!0,onBackClick:this.$2})}),b("React").jsx(b("LivingRoomSidePaneButtons.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,className:"_7h7_"}),b("React").jsxs(b("InfiniteScroll.react"),{children:[this.$6(),this.$5()]})]})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:i!==void 0?i:i=b("LivingRoomContentQueuePane_livingRoom.graphql")})}),null);
__d("LivingRoomViewerFunnelLogger",["CurrentUser","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CurrentUser").getID(),h;function a(){new(b("WebFunnelLogger"))("LivingRoomViewerFunnelDefinition").setAction("leave").setSessionKey(g).addFunnelPayload("living_room_id",h).markEnd().log(),g=b("CurrentUser").getID(),h=null}function c(a,c,d){g=c,h=d,new(b("WebFunnelLogger"))("LivingRoomViewerFunnelDefinition").setAction(a).setSessionKey(g).addFunnelPayload("living_room_id",h).markStart().log()}function d(a){new(b("WebFunnelLogger"))("LivingRoomViewerFunnelDefinition").setAction(a).setSessionKey(g).addFunnelPayload("living_room_id",h).log()}f={startFunnel:c,endFunnel:a,appendAction:d};e.exports=f}),null);
__d("LivingRoomCrosspostingNavBar.react",["cssVar","cx","LivingRoomViewerFunnelLogger","React","RelayModern","SUIAtlasTheme","SUITabGroup.react","SUITabGroupUniform","SUITheme","SUITypeStyle","createBUITypeStyle","LivingRoomCrosspostingNavBar_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=new(b("SUITheme"))({id:"living-room-dark",components:babelHelpers["extends"]({},b("SUIAtlasTheme"),{SUITabGroup:babelHelpers["extends"]({},b("SUITabGroupUniform"),{dividerColor:"#1C1C1C",dividerSize:20,dividerHorzMargin:20}),SUITabItem:{activeBorderBottomColor:"#FFFFFF",disabledColor:"#BEC3C9",height:44,hoverBackgroundColor:"#FFFFFF",iconMargin:4,subtextTypeStyle:b("createBUITypeStyle")({color:"#606770",fontSize:"12px",fontWeight:"normal"}),activeTypeStyle:new(b("SUITypeStyle"))({color:"#FFFFFF",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px"}),typeStyle:new(b("SUITypeStyle"))({color:"#8A8D91",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px"})}})});function a(a){__p&&__p();var c=a.livingRoom.crossposted_living_rooms;if(c.length<2)return null;c=c.reduce(function(a,b){var c;c=(c=b.profile)==null?void 0:c.full_name;c!=null&&b.id!=null&&a.push({label:c,value:b.id});return a},[]);return b("React").jsx("div",{className:"_8nmv",children:b("React").jsx(b("SUITabGroup.react"),{onChange:function(c){b("LivingRoomViewerFunnelLogger").appendAction("crossposted_living_room_tab_switch"),a.handleCrosspostSwitch(c)},value:a.livingRoomID,tabs:c,theme:j})})}e.exports=c(a,{livingRoom:i!==void 0?i:i=b("LivingRoomCrosspostingNavBar_livingRoom.graphql")})}),null);
__d("LivingRoomCustomizationDialog.react",["cx","fbt","LayerFadeOnHide","LivingRoomCustomNameUpdateMutation","React","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogDoneButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={newCustomName:""},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){this.state.newCustomName&&b("LivingRoomCustomNameUpdateMutation").commit({living_room_id:this.props.livingRoomID,custom_name:this.state.newCustomName}),this.props.onCloseDialog()};d.render=function(){var a=this,c;return(c=b("React")).jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},className:"_6n-m",isStrictlyControlled:!0,onHide:this.props.onCloseDialog,shown:!0,width:500,children:[c.jsx(b("XUIDialogTitle.react"),{children:h._("Change watch party name")}),c.jsx(b("XUIDialogBody.react"),{className:"_6n-n",useCustomPadding:!0,children:c.jsxs("div",{children:[c.jsxs(b("XUIText.react"),{className:"_6n-o",weight:"bold",children:[h._("Party Name"),":"," "]}),c.jsx("span",{className:"_6n-p",children:c.jsx(b("XUITextInput.react"),{className:"_6g04",maxLength:75,placeholder:this.props.customName,onChange:function(b){return a.setState({newCustomName:b.target.value})}})})]})}),c.jsxs(b("XUIDialogFooter.react"),{children:[c.jsx(b("XUIDialogCancelButton.react"),{onClick:function(){return a.props.onCloseDialog},size:"large"}),c.jsx(b("XUIDialogDoneButton.react"),{onClick:function(){return a.$1()},size:"large"})]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomDurationCounter.react",["cx","DurationFormatter","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state={updatedStartSeconds:c.props.startSeconds},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=setInterval(function(){return a.setState(function(a){return babelHelpers["extends"]({},a,{updatedStartSeconds:a.updatedStartSeconds+1})})},1e3)};d.componentWillUnmount=function(){this.$1!==null&&clearInterval(this.$1)};d.render=function(){var a=b("DurationFormatter").formatShort(this.state.updatedStartSeconds);return b("React").jsx("span",{className:"_70vz"+(a.length===4?" _70v-":"")+(a.length===5?" _70v_":"")+(a.length===7?" _70w0":""),children:a})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomDurationCounterContainer.react",["LivingRoomDurationCounter.react","React","RelayFBEnvironment","RelayModern","LivingRoomDurationCounterContainerQuery.graphql"],(function(a,b,c,d,e,f){var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;function a(a){return b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("LivingRoomDurationCounterContainerQuery.graphql"),variables:{livingRoomID:a.livingRoomID},render:function(a){a.error;a=a.props;a=a==null?void 0:(a=a.living_room)==null?void 0:a.active_duration_seconds;return!a?null:b("React").jsx(b("LivingRoomDurationCounter.react"),{startSeconds:a})}})}e.exports=a}),null);
__d("LivingRoomEndConfirmDialog.react",["fbt","FBConfirmDialog.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.isVisible,d=a.onCancel;a=a.onConfirm;return!c?null:b("React").jsx(b("FBConfirmDialog.react"),{confirmButtonText:g._("End"),content:g._("People will no longer be able to watch videos in this watch party."),"data-testid":"end-dialog",shown:!0,title:g._("End Watch Party?"),onCancel:d,onConfirm:a,onToggle:d})}e.exports=a}),null);
__d("LivingRoomEndScreenCreationCTA.react",["ix","cx","fbt","Image.react","React","XLivingRoomVideoShareDialogController","XUIButton.react","asset","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){var c=a.viewerIsCreator,d=a.onClick;a=a.groupID;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("span",{className:"_7m4h",children:c?i._("Start another watch party"):i._("Start your own watch party")}),b("React").jsx(b("XUIButton.react"),{display:"inline-block",style:{padding:"2px 11px",marginRight:"6px"},label:c?i._("Choose Videos"):i._("Start Watch Party"),image:b("React").jsx(b("Image.react"),{src:g("576136")}),href:"#",onClick:d,ajaxify:b("XLivingRoomVideoShareDialogController").getURIBuilder().setEnum("creation_source","end_screen_cta").setEnum("entry_source","CTA_CREATION_DIALOG").setFBID("group_id",a).setBool("open_add_video_dialog_on_load",b("gkx")("1209636")).getURI(),rel:"dialog-post"})]})}e.exports=a}),null);
__d("XLivingRoomDashboardController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/watchparty/",{referrer:{type:"FBID"}})}),null);
__d("LivingRoomEndScreenLandingPageRedirectCTA.react",["ix","cx","fbt","Image.react","React","XLivingRoomDashboardController","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){var c=a.onClick;return(a=b("React")).jsxs(a.Fragment,{children:[a.jsx("span",{className:"_7m4h",children:i._("See more watch parties")}),a.jsx(b("XUIButton.react"),{display:"inline-block",style:{padding:"2px 11px",marginRight:"6px"},label:i._("See More"),image:a.jsx(b("Image.react"),{src:g("576136")}),href:"#",onClick:function(){c&&c(),b("XLivingRoomDashboardController").getURIBuilder().getURI().go(!0)},rel:"link"})]})}e.exports=a}),null);
__d("LivingRoomEndScreenProgressSpinner.react",["ix","cssVar","cx","FDSSpinner.react","Image.react","LivingRoomConstants","React","ShimButton.react","TahoeEndScreenProgressCircle.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LivingRoomConstants").END_SCREEN_CHAINING_TIMEOUT_SECONDS,k=b("React").useEffect,l=b("React").useState;function a(a){var c=a.hasDivider,d=a.isInLoadingState,e=a.timerIsGoing,f=a.upNextText,h=a.onClick,i=a.onProgressDone;a=l(a.onFirstRender);var m=a[0];k(function(){m&&m()},[m]);return b("React").jsx("div",{className:(c?"":"_7a5k")+(c?" _8stq":""),children:d?b("React").jsx(b("FDSSpinner.react"),{}):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("ShimButton.react"),{className:"_7a58",onClick:h,children:b("React").jsx(b("TahoeEndScreenProgressCircle.react"),{makeProgress:e,circleDiameter:32,circleColor:"#FFFFFF",inlineBlock:!0,ringColor:"#DADDE1",ringProgressColor:"#606770",strokeWidth:2,onProgressDone:i,timeoutSec:j,children:b("React").jsx(b("Image.react"),{className:"_7a59",src:e?g("580782"):g("489848")})})}),b("React").jsx("div",{className:"_7a5a",tabIndex:"0",role:"link",onClick:i,children:f})]})})}e.exports=a}),null);
__d("LivingRoomFeedRecapInsightsCard.react",["cx","fbt","ix","Image.react","ImageBlock.react","React","ScaledImage.react","XLivingRoomVideoShareDialogController","XUIButton.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c,d){var e;return b("React").jsx(b("ScaledImage.react"),{imageSize:{width:(e=a.width)!=null?e:c,height:(e=a.height)!=null?e:d},height:d,src:a.uri,width:c})}function k(a){if(a.length===0)return b("React").jsx(b("Image.react"),{className:"_zuh",src:i("532145")});else if(a.length===1)return j(a[0],340,185);else return b("React").jsxs(b("ImageBlock.react"),{className:"_7m4i",children:[j(a[0],168,185),a.length>2?b("React").jsxs(b("React").Fragment,{children:[j(a[1],168,90),b("React").jsxs("div",{style:{marginTop:5},children:[j(a[2],168,90),a.length>3?b("React").jsx("div",{className:"_7m4j",children:b("React").jsxs("div",{className:"_7m4k",children:["+",a.length-2]})}):null]})]}):j(a[1],168,185)]})}function a(a){var c=k(a.videoThumbnails),d=a.videoThumbnails.length===0?"_zui":"_zur",e=a.videoThumbnails.length===0?a.viewerIsCreator?h._("Start another one now"):h._("Start your own now"):a.viewerIsCreator?h._("Start another one with this playlist"):h._("Start your own with this playlist"),f=a.profileName==null?null:h._("{Group name in the feed recap insights card}",[h._param("Group name in the feed recap insights card",a.profileName)]);f=a.videoThumbnails.length>0?null:b("React").jsxs("div",{className:"_zva",children:[b("React").jsx("div",{className:"_zvc",children:f}),b("React").jsx("div",{className:"_zvd",children:a.customName})]});return b("React").jsxs("div",{className:d,children:[b("React").jsxs("div",{className:"_zv8",children:[c,f]}),b("React").jsxs("div",{className:"_zvf",children:[b("React").jsxs("div",{className:"_zvg",children:[b("React").jsx("div",{className:"_-2g",children:h._("This watch party is now over")}),b("React").jsx("div",{className:"_-2h",children:e})]}),b("React").jsx(b("XUIButton.react"),{borderShade:"dark",className:"_7m4l",display:"inline-block",label:h._("Create"),href:"#",ajaxify:b("XLivingRoomVideoShareDialogController").getURIBuilder().setEnum("creation_source","ended_living_room_story_cta").setEnum("entry_source","CTA_CREATION_DIALOG").setFBID("group_id",a.groupID).setFBID("living_room_id",a.livingRoomID).getURI(),rel:"dialog-post"})]})]})}e.exports=a}),null);
__d("LivingRoomRecapSecondScreenCard.react",["cx","fbt","Image.react","InlineBlock.react","Layout.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.addedBy;c=c.secondScreenContent;a=h._("{Title of the video}",[h._param("Title of the video",c==null?void 0:(a=c.related_page)==null?void 0:a.name)]);c=b("React").jsx(b("Image.react"),{className:"_1-2u",src:c==null?void 0:(c=c.related_page)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri});d=d!=null?b("React").jsx("div",{className:"_6_sf",children:h._("Added by {Name of the person who added this video}",[h._param("Name of the person who added this video",d)])}):null;return b("React").jsxs("div",{className:"_7j2d",children:[b("React").jsx("div",{className:"_1-2t",children:c}),b("React").jsx("div",{className:"_1-37",children:b("React").jsx(b("Layout.react"),{children:b("React").jsx(i,{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:75,children:b("React").jsxs("div",{className:"_1-3h",children:[b("React").jsx("div",{className:"_6_sf _7w5k",children:a}),d]})})})})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomRecapVideosCard.react",["ix","cx","fbt","AsyncRequest","Badge.react","Image.react","InlineBlock.react","Layout.react","Link.react","LiveVideoBadge.react","LivingRoomTypedLogger","ProfileLink.react","React","URI","VideoBroadcastStatus","VideoLink.react","XSaveController","XUISpinner.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").FillColumn,l=b("Layout.react").Column;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={saved:d.props.video.metadata.viewer_saved_state==="SAVED"},d.$1=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_recap_save").setLivingRoomID(d.props.livingRoomID).updateExtraData({videoID:d.props.video.metadata.id}).log();var a=b("XSaveController").getURIBuilder().setInt("object_id",d.props.video.metadata.id).setEnum("surface","living_room").setEnum("mechanism","living_room_recap").setEnum("action","SAVE").getURI();d.setState({saved:null});new(b("AsyncRequest"))(a).setHandler(function(){d.setState({saved:!0})}).setErrorHandler(function(){d.setState({saved:!0})}).send()},d.$2=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_recap_unsave").setLivingRoomID(d.props.livingRoomID).updateExtraData({videoID:d.props.video.metadata.id}).log();var a=b("XSaveController").getURIBuilder().setInt("object_id",d.props.video.metadata.id).setEnum("surface","living_room").setEnum("mechanism","living_room_recap").setEnum("action","UNSAVE").getURI();d.setState({saved:null});new(b("AsyncRequest"))(a).setHandler(function(){d.setState({saved:!1})}).setErrorHandler(function(){d.setState({saved:!1})}).send()},d.$3=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_recap_video").setLivingRoomID(d.props.livingRoomID).updateExtraData({videoID:d.props.video.metadata.id}).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d=this.props.video.metadata;c=d.title||((c=d)!=null?c.description:c);a=(a=d)!=null?(a=a.owner)!=null?a.is_verified:a:a;a=a?b("React").jsx(b("Badge.react"),{size:"xsmall",type:"verified"}):null;var e=d.viewer_saved_state==="ARCHIVED"||d.viewer_saved_state==="NOT_SAVABLE"?null:this.state.saved===null?b("React").jsx(b("XUISpinner.react"),{size:"large"}):this.state.saved?b("React").jsx(b("Link.react"),{onClick:this.$2,children:b("React").jsx(b("Image.react"),{src:g("505334")})}):b("React").jsx(b("Link.react"),{onClick:this.$1,children:b("React").jsx(b("Image.react"),{src:g("505345")})});a=b("React").jsxs(b("React").Fragment,{children:[i._("{Name of the owner of the video}",[i._param("Name of the owner of the video",d.owner.name)]),a]});a=d.owner.id?b("React").jsx(b("ProfileLink.react"),{uid:d.owner.id,className:"_6as4",children:a}):b("React").jsx("span",{children:a});c=i._("{Title of the video}",[i._param("Title of the video",c)]);c=this.props.shownInFeed?b("React").jsx(b("VideoLink.react"),{channelCaller:null,channelID:null,className:"_1-3i",href:new(j||(j=b("URI")))(d.url),onClick:this.$3,videoID:d.id,playerOrigin:"living_room_recap",playerSuborigin:this.props.playerSuborigin,children:c}):b("React").jsx(b("Link.react"),{className:"_1-3i",href:d.url,onClick:this.$3,target:"_blank",children:c});var f=this.props.video.metadata.broadcast_status===b("VideoBroadcastStatus").LIVE,h=b("React").jsx(b("Image.react"),{className:"_1-2u",src:d.thumbnailUri});h=this.props.shownInFeed?b("React").jsx(b("VideoLink.react"),{channelCaller:null,channelID:null,href:new(j||(j=b("URI")))(d.url),onClick:this.$3,videoID:d.id,playerOrigin:"living_room",playerSuborigin:this.props.playerSuborigin,children:h}):b("React").jsx(b("Link.react"),{href:d.url,onClick:this.$3,target:"_blank",children:h});var m=this.props.video.addedBy?b("React").jsx("div",{className:"_6_sf",children:i._("Added by {Name of the person who added this video}",[i._param("Name of the person who added this video",this.props.video.addedBy)])}):null;return b("React").jsxs("div",{className:"_7j2d",children:[b("React").jsxs("div",{className:"_1-2t",children:[f?b("React").jsx(b("LiveVideoBadge.react"),{viewerCount:this.props.video.metadata.live_viewer_count_read_only,position:"topLeft"}):null,h]}),b("React").jsx("div",{className:"_1-37",children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(l,{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:75,children:b("React").jsx(b("Image.react"),{src:d.owner.profilePictureUri,className:"_1-38"})})}),b("React").jsx(k,{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:75,children:b("React").jsxs("div",{className:"_1-3h",children:[b("React").jsx("div",{className:"_6_sf",children:a}),b("React").jsx("div",{className:"_6_sf",children:c}),m]})})}),b("React").jsx(l,{children:b("React").jsx(b("InlineBlock.react"),{className:"_1-3j",alignv:"middle",height:75,children:e})})]})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomRecapVideosCarousel.react",["ix","cx","Image.react","LivingRoomConstants","LivingRoomFeedRecapInsightsCard.react","React","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={carouselIndex:0},d.$2=function(){d.setState(function(a){if(d.$1){var c=d.$1.getItemCount(),e=a.carouselIndex+1;e=e%c;c-e<b("LivingRoomConstants").RECAP_REFETCH_PADDING&&d.props.loadMore();return{carouselIndex:e}}return{carouselIndex:a.carouselIndex}},function(){d.$1&&d.$1.next()})},d.$3=function(){d.setState(function(a){if(d.$1){var b=a.carouselIndex-1,c=d.$1.getItemCount();b=(b+c)%c;return{carouselIndex:b}}return{carouselIndex:a.carouselIndex}},function(){d.$1&&d.$1.prev()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=b("React").jsx(b("LivingRoomFeedRecapInsightsCard.react"),{customName:this.props.customName,groupID:this.props.groupID,profileName:this.props.profileName,livingRoomID:this.props.livingRoomID,videoThumbnails:this.props.videoThumbnails,viewerIsCreator:this.props.viewerIsCreator});c=this.props.showInsights?[b("React").jsx(b("XUICarouselItem.react"),{children:c},0)].concat(this.props.videos):this.props.videos;return b("React").jsx(b("XUICarousel.react"),{animator:new(b("XUICarouselAnimator"))({centered:!0,firstAndLastAligned:c.length>=2}),initialIndex:0,initialAutoplay:!1,onItemClick:function(){},resizeViewport:"disabled",viewportHeight:245,wrapAround:!1,arrows:[b("React").jsx(b("XUICarouselArrow.react"),{className:"_67zx",onClick:this.$3,children:b("React").jsx(b("Image.react"),{src:g("514569")})}),b("React").jsx(b("XUICarouselArrow.react"),{className:"_67zx",onClick:this.$2,children:b("React").jsx(b("Image.react"),{src:g("514570")})})],ref:function(b){return a.$1=b},children:c})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomRecapVideos.react",["cx","fbt","LivingRoomConstants","LivingRoomContentItemType","LivingRoomFeedRecapInsightsCard.react","LivingRoomRecapSecondScreenCard.react","LivingRoomRecapVideosCard.react","LivingRoomRecapVideosCarousel.react","LivingRoomTypeUtils","React","RelayModern","XUICarouselItem.react","keyMirror","LivingRoomRecapVideos_videos.graphql","LivingRoomRecapVideosPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=b("keyMirror")(b("LivingRoomContentItemType"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(!d.props.relay.hasMore()||d.props.relay.isLoading())return;d.props.relay.loadMore(b("LivingRoomConstants").RECAP_LOAD_SIZE)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c,d=new Set(),e=[];this.props.videos&&this.props.videos.watched_content&&this.props.videos.watched_content.edges&&(e=this.props.videos.watched_content.edges.map(function(c,e){__p&&__p();var f,g;e=null;var h=null;f=c==null?void 0:(f=c.node)==null?void 0:f.second_screen_content;if((c==null?void 0:(g=c.node)==null?void 0:g.content_item_type)===k.SECOND_SCREEN&&f!=null){if(d.has(f==null?void 0:(g=f.related_page)==null?void 0:g.id))return null;e=b("React").jsx(b("LivingRoomRecapSecondScreenCard.react"),{addedBy:c==null?void 0:(g=c.node)==null?void 0:(g=g.creator)==null?void 0:g.name,secondScreenContent:f});d.add(f==null?void 0:(g=f.related_page)==null?void 0:g.id);h=f==null?void 0:(g=f.related_page)==null?void 0:g.id}else{f=b("LivingRoomTypeUtils").convertRecapVideo(c.node);if(!f)return null;if(d.has(f.metadata.id))return null;e=b("React").jsx(b("LivingRoomRecapVideosCard.react"),{livingRoomID:a.props.livingRoomID,playerSuborigin:a.props.showInsights?"living_room_recap_inline":"living_room_recap_fullscreen",shownInFeed:a.props.showInsights,video:f});d.add(f.metadata.id);h=f.metadata.id}return b("React").jsx(b("XUICarouselItem.react"),{children:e},h)}).filter(function(a){return a!==null}));c=(c=(c=this.props.videos)==null?void 0:(c=c.watched_content)==null?void 0:c.edges)!=null?c:[];var f=c.map(function(a){var b,c;b=a==null?void 0:(b=a.node)==null?void 0:b.second_screen_content;if((a==null?void 0:(c=a.node)==null?void 0:c.content_item_type)===k.SECOND_SCREEN&&b!=null){return b==null?void 0:(c=b.related_page)==null?void 0:c.profile_picture}else{return(b=a.node)==null?void 0:(c=b.video)==null?void 0:(a=c.preferred_thumbnail)==null?void 0:a.image}}).filter(Boolean);c=c.length-f.length;for(var g=0;g<c;g+=1)f.push(b("LivingRoomConstants").NO_VIDEO_RECAP_THUMBNAIL);if(e.length===0)return this.props.showInsights?b("React").jsx(b("LivingRoomFeedRecapInsightsCard.react"),{customName:this.props.customName,groupID:this.props.groupID,profileName:this.props.profileName,livingRoomID:this.props.livingRoomID,videoThumbnails:f,viewerIsCreator:this.props.viewerIsCreator}):b("React").jsx("div",{className:"_77w8",children:h._("No videos were played.")});g=this.props.showInsights?null:b("React").jsx("div",{className:"_77w9",children:h._("Videos Watched")});return b("React").jsxs("div",{className:"_79b7",children:[g,b("React").jsx(b("LivingRoomRecapVideosCarousel.react"),{customName:this.props.customName,groupID:this.props.groupID,profileName:this.props.profileName,livingRoomID:this.props.livingRoomID,loadMore:this.$1,showInsights:this.props.showInsights,videos:e,videoThumbnails:f,viewerIsCreator:this.props.viewerIsCreator})]})};return c}(b("React").Component);e.exports=a(c,{videos:i!==void 0?i:i=b("LivingRoomRecapVideos_videos.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.videos)!=null?a.watched_content:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,id:c.id}},query:j!==void 0?j:j=b("LivingRoomRecapVideosPaginationQuery.graphql")})}),null);
__d("XGroupLivingRoomFullScreenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/{group_id}/wp/{living_room_id}/",{group_id:{type:"FBID",required:!0},living_room_id:{type:"FBID",required:!0},entry_source:{type:"Enum",enumType:1},search_results_session_id:{type:"String"},vpsb_external_log_video_id:{type:"FBID"}})}),null);
__d("LivingRoomEndScreen.react",["ix","cx","fbt","CurrentUser","FDSButton.react","FDSSpinner.react","FDSText.react","Image.react","Layer.react","LivingRoomActions","LivingRoomEndScreenCreationCTA.react","LivingRoomEndScreenLandingPageRedirectCTA.react","LivingRoomEndScreenProgressSpinner.react","LivingRoomFeedAttachment.react","LivingRoomRecapVideos.react","LivingRoomStore","LivingRoomTypedLogger","LivingRoomViewerFunnelLogger","ProfileTile.react","React","RelayFBEnvironment","RelayModern","URI","XGroupLivingRoomFullScreenController","XGroupsController","XLivingRoomDashboardController","XLivingRoomFullScreenController","XUICloseButton.react","XUIDialogFooter.react","asset","loadFullScreenLivingRoom","nullthrows","qex","uniqueID","LivingRoomEndScreenQuery.graphql","LivingRoomEndScreen_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=b("RelayModern").QueryRenderer;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isJoiningChainedLivingRoom:!1,isRedirectingToDashboard:!1,timerIsGoing:!1},d.$1=function(){var a;if(d.props.href)d.props.href.go();else if(((a=d.props.livingRoom.profile)==null?void 0:a.groupID)!=null){b("XGroupsController").getURIBuilder().setString("idorvanity",(a=d.props.livingRoom.profile)==null?void 0:a.groupID).getURI().go(!0)}else d.props.onExitEndScreen?d.props.onExitEndScreen():(b("LivingRoomActions").close(d.props.livingRoomID),new(l||(l=b("URI")))("/").go())},d.$2=function(){d.setState({timerIsGoing:!0})},d.$4=function(){d.setState(function(a){return{timerIsGoing:!a.timerIsGoing}})},d.$5=function(){d.setState({isRedirectingToDashboard:!0}),b("XLivingRoomDashboardController").getURIBuilder().getURI().go(!0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a,c,d){var e=this.props.actorID;this.setState({isJoiningChainedLivingRoom:!0});new(b("LivingRoomTypedLogger"))().setLivingRoomAction(d).setLivingRoomID(this.props.livingRoomID).addToExtraData("chained_living_room_id",a).log();b("LivingRoomViewerFunnelLogger").startFunnel(d,b("uniqueID")(),this.props.livingRoomID);d=b("XLivingRoomFullScreenController").getURIBuilder().setFBID("living_room_id",a).getURI();c!=null&&(d=b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",c).setFBID("living_room_id",a).getURI());c=b("LivingRoomStore").getVideoPlayerController(this.props.livingRoomID);c=c==null?null:c.getVideoAPI().isMuted();b("loadFullScreenLivingRoom")({actorID:e,entrySource:"END_SCREEN_CHAINING",livingRoomID:a,rawVideoData:null,startMuted:c,isReplay:!1},d)};d.render=function(){__p&&__p();var a=this;return b("React").jsx(m,{environment:b("RelayFBEnvironment"),query:j!==void 0?j:j=b("LivingRoomEndScreenQuery.graphql"),variables:{id:this.props.livingRoomID},render:function(c){__p&&__p();var d,e;c.error;c=c.props;var f=b("React").jsx("div",{className:"_4i1q",children:b("React").jsx(b("FDSSpinner.react"),{size:"large"})}),h=null,j=a.props.actorID;d=b("CurrentUser").getID()===((d=a.props.livingRoom.creator)==null?void 0:d.id);if(c==null?void 0:(e=c.living_room)==null?void 0:e.chained_living_room){var k=b("nullthrows")(c==null?void 0:(e=c.living_room)==null?void 0:e.chained_living_room.id),l=c==null?void 0:(e=c.living_room)==null?void 0:(e=e.chained_living_room)==null?void 0:(e=e.profile)==null?void 0:e.group_id;f=b("React").jsx(b("LivingRoomFeedAttachment.react"),{actorID:j,autoJoin:!1,entrySource:"END_SCREEN_CHAINING",feedbackTargetID:null,forcePageLoad:!0,groupID:l,isCreationPost:!1,isStory:!1,livingRoomID:k,onJoinChainedLivingRoom:function(){return a.$3(k,l,"end_screen_chain_tap_to_join")},onVideoLoaded:a.$2,premiereLivingRoomBadgeText:null,rawVideoData:null});e=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction(a.state.timerIsGoing?"end_screen_chain_timer_pause":"end_screen_chain_timer_resume").setLivingRoomID(a.props.livingRoomID).addToExtraData("chained_living_room_id",k).log(),a.$4()};h=b("React").jsx(b("LivingRoomEndScreenProgressSpinner.react"),{isInLoadingState:a.state.isJoiningChainedLivingRoom,timerIsGoing:a.state.timerIsGoing,upNextText:i._("Up Next"),onClick:e,onProgressDone:function(){return a.$3(k,l,"end_screen_chain_auto_join")}})}else if(c==null?void 0:(j=c.living_room)==null?void 0:j.recap){b("qex")._("1214981")&&(h=b("React").jsx(b("LivingRoomEndScreenProgressSpinner.react"),{hasDivider:!0,onFirstRender:a.$4,isInLoadingState:a.state.isRedirectingToDashboard,timerIsGoing:a.state.timerIsGoing,upNextText:i._("See more watch parties"),onClick:a.$4,onProgressDone:a.$5}));f=b("React").jsx("div",{className:"_79ay",children:b("React").jsx(b("LivingRoomRecapVideos.react"),{customName:a.props.livingRoom.custom_name,groupID:(e=a.props.livingRoom.profile)==null?void 0:e.groupID,profileName:null,livingRoomID:a.props.livingRoomID,showInsights:!1,videos:b("nullthrows")(c==null?void 0:(j=c.living_room)==null?void 0:j.recap),viewerIsCreator:d})})}c=b("React").jsxs("div",{className:"_77vx",children:[b("React").jsx("div",{className:"_79az",children:b("React").jsx(b("Image.react"),{src:g("777588")})}),((e=a.props.livingRoom.creator)==null?void 0:e.id)==null?null:b("React").jsx("div",{className:"_79a-",children:b("React").jsx(b("ProfileTile.react"),{id:b("nullthrows")((c=a.props.livingRoom.creator)==null?void 0:c.id),size:48,imageProps:{className:"_79b5",src:(j=a.props.livingRoom.creator)==null?void 0:(e=j.profile_picture)==null?void 0:e.uri}})})]});e=b("qex")._("1214950")?b("React").jsx(b("LivingRoomEndScreenLandingPageRedirectCTA.react"),{onClick:function(){return a.setState({timerIsGoing:!1})}}):b("React").jsx(b("LivingRoomEndScreenCreationCTA.react"),{groupID:(j=a.props.livingRoom.profile)==null?void 0:j.groupID,onClick:function(){return a.setState({timerIsGoing:!1})},viewerIsCreator:d});return b("React").jsx(b("Layer.react"),{shown:!0,children:b("React").jsx("div",{className:"_77vt",children:b("React").jsxs("div",{className:"_77vu",children:[b("React").jsxs("div",{className:"_77vv",children:[b("React").jsx("div",{className:"_77vw",children:b("React").jsx(b("XUICloseButton.react"),{onClick:a.$1})}),c,b("React").jsx(b("FDSText.react"),{size:"header2",children:i._("This watch party is now over")})]}),h,b("React").jsx("div",{className:"_79b6",children:f}),b("React").jsxs(b("XUIDialogFooter.react"),{children:[e,b("React").jsx(b("FDSButton.react"),{label:i._("Done"),use:"primary",onClick:a.$1})]})]})})})}})};return c}(b("React").Component);e.exports=a(c,{livingRoom:k!==void 0?k:k=b("LivingRoomEndScreen_livingRoom.graphql")})}),null);
__d("LivingRoomEntryPoint.react",["ActorURI","Arbiter","LivingRoomActions","LivingRoomComposerStore","LivingRoomFullScreen.react","LivingRoomStoreInitializer","LivingRoomTypedLogger","LivingRoomUFIHelper","PageTransitions","React","RelayModern","XGroupLivingRoomFullScreenController","XLivingRoomFullScreenController","nullthrows","promiseDone","LivingRoomEntryPoint_livingRoom.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={entrySource:null,showLivingRoom:!1,livingRoomID:d.props.livingRoomID},d.$1=function(a){__p&&__p();var c=d.$2(),e=a.getPath()===c.getPath();c=b("PageTransitions").getMostRecentURI().getPath()===c.getPath()&&a.getPath()===d.props.entryURI.getPath();var f=a.getQueryData().av;a=a.getQueryData().entry_source;a!==d.state.entrySource&&d.setState({entrySource:a});if(e&&!d.props.forcePageLoad&&!f){d.props.isReplay||(d.setState({showLivingRoom:!0}),d.props.onPageTransition&&d.props.onPageTransition(!0));b("PageTransitions").transitionComplete();d.props.isReplay||b("LivingRoomUFIHelper").loadUFI(d.props.livingRoomID);return!0}else if(c){d.props.isReplay||(d.setState({showLivingRoom:!1}),d.props.onPageTransition&&d.props.onPageTransition(!1));b("PageTransitions").transitionComplete();return!0}var g=b("Arbiter").subscribe("page_transition",function(){b("PageTransitions").registerHandler(d.$1),b("Arbiter").unsubscribe(g)});return!1},d.$3=function(a){b("promiseDone")(b("LivingRoomStoreInitializer").initialize(a,d.props.actorID,d.props.entrySource,"LivingRoomFullScreenInitializer"),function(){d.setState({livingRoomID:a})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("impression").setLivingRoomID(this.props.livingRoomID).setEntrySource(this.props.entrySource).log(),b("PageTransitions").registerHandler(this.$1),this.props.autoJoin&&b("LivingRoomComposerStore").getStartingInterstitialShown()&&b("PageTransitions").go(this.$2(),!0),this.props.entrySource&&this.setState({entrySource:this.props.entrySource})};d.componentDidUpdate=function(a){var b;((b=this.props.livingRoom.group)==null?void 0:b.can_viewer_approve_posts)===!0&&a.livingRoom.is_pending_group_admin_approval===!0&&this.props.livingRoom.is_pending_group_admin_approval===!1&&this.setState({showLivingRoom:!1})};d.componentWillUnmount=function(){b("PageTransitions").removeHandler(this.$1),b("LivingRoomActions").close(b("nullthrows")(this.props.livingRoomID))};d.render=function(){var a=this.state.showLivingRoom;return!a?null:b("React").jsx(b("LivingRoomFullScreen.react"),{actorID:this.props.actorID,entrySource:(a=this.state.entrySource)!=null?a:this.props.entrySource,isReplay:this.props.isReplay,rawVideoData:this.props.rawVideoData,livingRoomID:this.state.livingRoomID,handleCrosspostSwitch:this.$3})};d.$2=function(){if(this.props.groupID!=null&&this.props.groupID!=""){var a=b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",this.props.groupID).setFBID("living_room_id",this.props.livingRoomID).getURI();return this.props.actorID!=null&&this.props.actorID!=""?b("ActorURI").create(a,this.props.actorID):a}return b("XLivingRoomFullScreenController").getURIBuilder().setFBID("living_room_id",this.props.livingRoomID).getURI()};return c}(b("React").Component);e.exports=a(c,{livingRoom:g!==void 0?g:g=b("LivingRoomEntryPoint_livingRoom.graphql")})}),null);
__d("LivingRoomFeedAttachment.react",["cx","LivingRoomActions","LivingRoomFeedAttachmentBadgeRow.react","LivingRoomFeedAttachmentUnit.react","LivingRoomNoVideoPreview.react","LivingRoomStore","LivingRoomStoreInitializer","LivingRoomTypedLogger","React","RelayFBEnvironment","RelayModern","SubscriptionsHandler","UFI2LocalUserAction","UFICentralUpdates","URI","nullthrows","promiseDone","LivingRoomFeedAttachmentQuery.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={initComplete:!1},d.$1=new(b("SubscriptionsHandler"))(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){__p&&__p();var a=this;b("promiseDone")(b("LivingRoomStoreInitializer").initialize(this.props.livingRoomID,this.props.actorID,this.props.entrySource,"LivingRoomFeedAttachment"),function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("impression").setLivingRoomID(a.props.livingRoomID).setEntrySource(a.$2()).addToExtraData("initial_feed_presence_count",b("LivingRoomStore").getFeedPresenceUsers(a.props.livingRoomID).count().toString()).log(),b("LivingRoomActions").setIsCreationPost(a.props.livingRoomID,a.props.isCreationPost),b("LivingRoomActions").setEntrySource(a.props.livingRoomID,a.$2()),a.setState({initComplete:!0})});this.$1.addSubscriptions(b("UFICentralUpdates").subscribe("actor-changed",function(c,d){b("promiseDone")(b("LivingRoomStoreInitializer").initialize(a.props.livingRoomID,d.actorID,a.props.entrySource,"LivingRoomFeedAttachment: UFICentralUpdates"),null,null)}),b("UFI2LocalUserAction").addListener("actor-changed",function(c){var d;try{d=atob(c.feedbackID).split(":").pop()}catch(a){d=c.feedbackID}(d===a.props.feedbackTargetID||a.props.feedbackTargetID===c.feedbackID)&&b("promiseDone")(b("LivingRoomStoreInitializer").initialize(a.props.livingRoomID,c.actorID,a.props.entrySource,"LivingRoomFeedAttachment: UFI2LocalUserAction"),null,null)}))};d.componentWillUnmount=function(){this.$1.release()};d.$2=function(){return this.props.entrySource!=null?this.props.entrySource:new(i||(i=b("URI")))(window.location.href).getQueryData().chained_wp==="1"?"TAHOE_TO_FEED":"FEED"};d.render=function(){var a=this;return b("React").jsx(j,{environment:b("RelayFBEnvironment"),fetchPolicy:"store-and-network",query:h!==void 0?h:h=b("LivingRoomFeedAttachmentQuery.graphql"),render:function(c){c.error;c=c.props;var d=a.props.isReplay===!0;return!a.state.initComplete||(c==null?void 0:c.living_room)==null?b("React").jsxs("div",{className:(a.props.isStory?"":"_3urx")+(a.props.isStory?" _3ury":""),children:[b("React").jsx(b("LivingRoomNoVideoPreview.react"),{}),b("React").jsx(b("LivingRoomFeedAttachmentBadgeRow.react"),{isReplay:d,livingRoomID:a.props.livingRoomID})]}):b("React").jsx("div",{className:(a.props.isStory?"":"_3urx")+(a.props.isStory?" _3ury":""),children:b("React").jsx(b("LivingRoomFeedAttachmentUnit.react"),{actorID:a.props.actorID,autoJoin:a.props.autoJoin,entrySource:a.$2(),entryURI:new(i||(i=b("URI")))(window.location.href),forcePageLoad:a.props.forcePageLoad||!1,isReplay:d,livingRoom:b("nullthrows")(c==null?void 0:c.living_room),livingRoomID:a.props.livingRoomID,onJoinChainedLivingRoom:a.props.onJoinChainedLivingRoom,onVideoLoaded:a.props.onVideoLoaded,premiereLivingRoomBadgeText:a.props.premiereLivingRoomBadgeText,rawVideoData:a.props.rawVideoData})})},variables:{livingRoomID:this.props.livingRoomID}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomDebugOverlay",["cx","DOM","React","ReactDOM","ge"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=b("ge")("livingRoomDebugOverlayRoot");c==null&&(c=b("DOM").create("div",{id:"livingRoomDebugOverlayRoot",className:"_7pza"}),b("DOM").prependContent(document.body,c));var d=b("DOM").create("div",{className:"_7p-a"});b("DOM").prependContent(c,d);c=b("React").jsx("div",{className:"_7p-b",onClick:function(){return b("DOM").remove(d)},children:a});b("ReactDOM").render(c,d)}e.exports={show:a}}),null);
__d("LivingRoomCVCUtils",["EntityPresenceManager","LivingRoomDebugOverlay","React","gkx","guid","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();if(!b("qex")._("730201"))return null;d=d?0:1;switch(c){case"FEED":case"GROUP_FEED":case"USER_TIMELINE":case"PAGE_TIMELINE":case"DASHBOARD":d|=1<<2;break;case"WATCH_TAB":d|=1<<6;break;case"NOTIFICATIONS":case"PUSH_NOTIFICATIONS":d|=1<<7;break;case"PERMALINK":d|=1<<8;break;case"COMPOSER":d|=1<<9;break}c=b("EntityPresenceManager").enter("living_room_cvc",a+":"+b("guid")(),d);g(c,"Enter");return c}function c(a){a!=null&&(g(a,"Leave"),a.leave());return null}function g(a,c){var d;if(!b("gkx")("861399"))return;d=((d=a.capabilities)!=null?d:0)%2===0?"Fullscreen":"Feed";c=b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{children:"Living Room CVC "+c+" "+d}),b("React").jsx("div",{children:a.entityID})]});b("LivingRoomDebugOverlay").show(c)}e.exports={enter:a,leave:c}}),null);
__d("LivingRoomFeedAttachmentBadgeOverlay.react",["ix","cx","fbt","Image.react","LivingRoomCountdown.react","LivingRoomDurationCounterContainer.react","React","asset","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){a=function(a){if(a.isSessionEnded)return null;var c=a.presentUserCount===0||a.isPending,d;a.isPending?d=b("React").jsx("span",{children:i._("PENDING")}):a.countdown!=null&&a.countdown.type==="LOBBY"?d=b("React").jsx(b("LivingRoomCountdown.react"),{countdownType:"LOBBY",livingRoomID:a.livingRoomID}):d=b("React").jsx(b("LivingRoomDurationCounterContainer.react"),{livingRoomID:a.livingRoomID});return b("React").jsxs("div",{className:"_6rum",children:[b("React").jsx("span",{className:(a.premiereLivingRoomBadgeText?"":"_6sm7")+(a.premiereLivingRoomBadgeText?" _72-h":"")+(c?" _7qjt":"")+" _6ruq",children:d}),c?null:b("React").jsxs("span",{className:"_6rur _6ruq",children:[b("React").jsx(b("Image.react"),{className:"_6zip",src:g("488783")}),b("intlSummarizeNumber")(a.presentUserCount,a.presentUserCount>999?1:0)]})]})};e.exports=a}),null);
__d("LivingRoomFeedAttachmentFooterSecondScreenItem.react",["cx","React"],(function(a,b,c,d,e,f,g){function a(a){a=a.secondScreen;return b("React").jsx("div",{children:b("React").jsx("div",{className:"_7na9",children:(a=a.related_page)==null?void 0:a.name})})}e.exports=a}),null);
__d("LivingRoomFeedAttachmentFooterVideoItem.react",["cx","fbt","Badge.react","React","VideoBroadcastStatus"],(function(a,b,c,d,e,f,g,h){function a(a){var c=a.customName,d=a.video;c!=null?(c=a.seasonAndEpisodeString!=null?a.seasonAndEpisodeString+" "+c:c,a=a.isPremiere?h._("Tune in to watch live"):h._("Join to suggest a video")):(c=d.name||d.message.text,d.broadcast_status===b("VideoBroadcastStatus").LIVE&&(c=b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("span",{className:"_82nx",children:h._("LIVE")})," ",c]})),a=b("React").jsxs(b("React").Fragment,{children:[d.owner.name,d.owner.is_verified===!0?b("React").jsx(b("Badge.react"),{size:"xsmall",type:"verified"}):null]}));return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_2luh",children:c}),b("React").jsx("div",{className:"_2lu8",children:a})]})}e.exports=a}),null);
__d("LivingRoomFeedAttachmentFooter.react",["cx","FluxContainer","LeftRight.react","LivingRoomContentItemType","LivingRoomFeedAttachmentFooterNoContentItem.react","LivingRoomFeedAttachmentFooterSecondScreenItem.react","LivingRoomFeedAttachmentFooterVideoItem.react","LivingRoomStore","React","RelayModern","keyMirror","nullthrows","LivingRoomFeedAttachmentFooter_livingRoom.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=b("keyMirror")(b("LivingRoomContentItemType"));c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentContentItem:b("LivingRoomStore").getCurrentContentItem(d.props.livingRoomID),isVideoPlaying:b("LivingRoomStore").getIsVideoPlaying(d.props.livingRoomID),nextContentItem:b("LivingRoomStore").getNextContentItem(d.props.livingRoomID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{currentContentItem:b("LivingRoomStore").getCurrentContentItem(c.livingRoomID),isVideoPlaying:b("LivingRoomStore").getIsVideoPlaying(c.livingRoomID),nextContentItem:b("LivingRoomStore").getNextContentItem(c.livingRoomID)})};var d=c.prototype;d.$1=function(a){return(a==null?void 0:a.content_item_type)===i.SECOND_SCREEN};d.$2=function(a){return!a&&this.props.livingRoom.is_waiting===!0&&((a=this.state.nextContentItem)==null?void 0:a.video)!=null};d.$3=function(a){return this.props.livingRoom.is_pending_group_admin_approval===!0&&((a=this.state.nextContentItem)==null?void 0:a.video)!=null};d.$4=function(a){var c=this.props.livingRoom,d=c.did_customize_name===!0?c.custom_name:null;c=(c=c.currently_playing)==null?void 0:(c=c.video)==null?void 0:(c=c.video_view_model)==null?void 0:c.season_and_episode_string;var e=null;if(this.$3(a)||this.$2(a)){var f;e=b("React").jsx(b("LivingRoomFeedAttachmentFooterVideoItem.react"),{customName:d,isPremiere:this.props.isPremiere,seasonAndEpisodeString:c,video:b("nullthrows")((f=this.state.nextContentItem)==null?void 0:f.video)})}else!a?e=b("React").jsx(b("LivingRoomFeedAttachmentFooterNoContentItem.react"),{}):this.$1(a)?e=b("React").jsx(b("LivingRoomFeedAttachmentFooterSecondScreenItem.react"),{secondScreen:b("nullthrows")(a==null?void 0:a.second_screen_content)}):a.video&&this.state.isVideoPlaying?e=b("React").jsx(b("LivingRoomFeedAttachmentFooterVideoItem.react"),{customName:d,isPremiere:this.props.isPremiere,seasonAndEpisodeString:c,video:a.video}):e=b("React").jsx(b("LivingRoomFeedAttachmentFooterNoContentItem.react"),{});return b("React").jsx("div",{children:e})};d.render=function(){return this.props.livingRoom.is_active===!1?null:b("React").jsx("div",{className:"_2lu6",children:b("React").jsx(b("LeftRight.react"),{children:this.$4(this.state.currentContentItem)})})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:h!==void 0?h:h=b("LivingRoomFeedAttachmentFooter_livingRoom.graphql")})}),null);
__d("LivingRoomProfileTile.react",["ix","cx","LivingRoomProfileTileBadge.react","ProfileTile.react","React","SUIBusinessTheme","SUITooltip.react","asset"],(function(a,b,c,d,e,f,g,h){function a(a){var c=a.user,d=b("React").jsx(b("ProfileTile.react"),{id:c.profile.id,imageProps:{className:"_2pqu",src:c.profile.profile_picture.uri},shouldNameLinkToProfile:!1,shouldShowProfileCardOnHover:!1,size:a.size==="regular"?40:32});return b("React").jsx(b("SUITooltip.react"),{alignment:"center",display:"block",offset:8,theme:b("SUIBusinessTheme"),tooltip:c.profile.name,children:b("React").jsxs("div",{className:"_2pqt"+(a.size==="small"?" _6y-w":"")+(a.size==="regular"?" _6y-x":""),children:[d,c.presence_badge==="HOST"?b("React").jsx(b("LivingRoomProfileTileBadge.react"),{asset:g("497825"),isCommentating:!1,isSpeaking:a.userIsSpeaking,size:a.size,useBackgroundColor:!1}):null]})})}e.exports=a}),null);
__d("LivingRoomFeedAttachmentPresenceTray.react",["cx","fbt","BasicFBNux","InsightsNumUtils","LivingRoomConstants","LivingRoomNUX","LivingRoomProfileTile.react","React","RelayModern","XUIAmbientNUX.react","immutable","LivingRoomFeedAttachmentPresenceTray_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=11;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideNUX:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){__p&&__p();var a=this;if(this.state.hideNUX||!b("LivingRoomNUX").show_feed_presence)return null;var c=this.props,d=c.livingRoom;c=c.presentUserCount;d=(d=d.creator)==null?void 0:d.name;if(d===null||c<2)return null;b("BasicFBNux").onView(b("LivingRoomConstants").NUX_FEED_PRESENCE);return b("React").jsx(b("XUIAmbientNUX.react"),{position:"above",contextRef:function(){return a.refs.firstTile},onCloseButtonClick:function(){return a.setState({hideNUX:!0})},shown:!0,children:h._({"*":"Join to watch with {creator name} and {number} others here right now","_1":"Join to watch with {creator name} and 1 other here right now"},[h._param("creator name",d),h._plural(c-1,"number")])})};d.render=function(){var a=this.props,c=a.presentUserCount;a=a.users;if(a.count()===0)return null;c=b("InsightsNumUtils").prettyShortInt(Math.max(0,c-Math.min(a.count(),j)));c=c==="0"||!this.props.showOverflowCount?null:b("React").jsx("li",{className:"_6o2a",children:b("React").jsx("div",{className:"_6o2b"+(c.length===1?" _6o2c":"")+(c.length===2?" _6nzw":"")+(c.length===3?" _6nzx":"")+(c.length>3?" _6nzy":""),children:h._("+{count}",[h._param("count",c)])})});return b("React").jsxs("div",{className:"_6o6_",children:[b("React").jsxs("ul",{children:[a.take(j).map(function(a,c){return b("React").jsx("li",{className:"_6o2a",ref:c===0?"firstTile":null,children:b("React").jsx(b("LivingRoomProfileTile.react"),{user:a,size:"small",userIsSpeaking:!1})},"feed_presence_tray_"+c)}),c]}),this.$1()]})};return c}(b("React").Component);e.exports=a(c,{livingRoom:i!==void 0?i:i=b("LivingRoomFeedAttachmentPresenceTray_livingRoom.graphql")})}),null);
__d("LivingRoomFeedAttachmentOverlay.react",["cx","FluxContainer","LivingRoomCommentatingProfileTileContainer.react","LivingRoomFeedAttachmentPresenceTray.react","LivingRoomStore","React","RelayModern","immutable","LivingRoomFeedAttachmentOverlay_livingRoom.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={entrySource:b("LivingRoomStore").getEntrySource(d.props.livingRoomID),feedPresenceUsers:b("LivingRoomStore").getFeedPresenceUsers(d.props.livingRoomID),isVideoPlaying:b("LivingRoomStore").getIsVideoPlaying(d.props.livingRoomID),presentUserCount:b("LivingRoomStore").getPresentUserCount(d.props.livingRoomID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{entrySource:(a=b("LivingRoomStore")).getEntrySource(c.livingRoomID),feedPresenceUsers:a.getFeedPresenceUsers(c.livingRoomID),isVideoPlaying:a.getIsVideoPlaying(c.livingRoomID),presentUserCount:a.getPresentUserCount(c.livingRoomID)})};var d=c.prototype;d.render=function(){return this.props.livingRoom.is_active===!1?null:b("React").jsxs("div",{className:"_2lu2"+(this.state.isVideoPlaying?" _2tp6":""),children:[b("React").jsx(b("LivingRoomFeedAttachmentPresenceTray.react"),{livingRoom:this.props.livingRoom,presentUserCount:this.state.presentUserCount,showOverflowCount:!1,users:this.state.feedPresenceUsers}),b("React").jsx(b("LivingRoomCommentatingProfileTileContainer.react"),{entrySource:this.state.entrySource,livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,isFullscreen:!1,onCommentatingSet:null,viewerID:null,localMediaStream:null})]})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:h!==void 0?h:h=b("LivingRoomFeedAttachmentOverlay_livingRoom.graphql")})}),null);
__d("LivingRoomLinkedPagesDialog.react",["cx","fbt","ActorURI","Image.react","InlineBlock.react","LayerFadeOnHide","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LivingRoomStore","PageTransitions","React","RelayModern","XGroupLivingRoomFullScreenController","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","LivingRoomLinkedPagesDialog_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c;return b("React").jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},isStrictlyControlled:!0,onHide:this.props.onCloseDialog,shown:!0,width:360,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:h._("Join as...")}),b("React").jsxs(b("XUIDialogBody.react"),{className:"__em",useCustomPadding:!0,children:[this.$1(),((c=(c=this.props.livingRoom.profile)==null?void 0:(c=c.linked_pages)==null?void 0:c.edges)!=null?c:[]).map(function(b){var c;return a.$2((c=b.node)==null?void 0:c.id,(c=b.node)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri,(c=b.node)==null?void 0:c.name)})]}),b("React").jsx(b("XUIDialogFooter.react"),{children:b("React").jsx(b("XUIDialogCancelButton.react"),{onClick:this.props.onCloseDialog})})]})};d.$1=function(){var a=b("LivingRoomStore").getSelf(this.props.livingRoomID);return this.$2(a.profile.id,a.profile.profile_picture.uri,a.profile.name)};d.$2=function(a,c,d){var e=this;return a==null||c==null||d==null?null:b("React").jsxs(b("Layout.react"),{className:"__ep",children:[b("React").jsx(b("LayoutColumn.react"),{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:50,children:b("React").jsx(b("Image.react"),{className:"__eq",src:c})})}),b("React").jsx(b("LayoutFillColumn.react"),{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:50,children:b("React").jsx("div",{className:"__er",children:d})})}),b("React").jsx(b("LayoutColumn.react"),{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:50,children:b("React").jsx(b("XUIButton.react"),{className:"__es",label:h._("Join"),onClick:function(){return e.$3(a)},use:"confirm"})})})]})};d.$3=function(a){var c;c=b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",(c=this.props.livingRoom.profile)==null?void 0:c.groupID).setFBID("living_room_id",this.props.livingRoomID).getURI();a===b("LivingRoomStore").getSelf(this.props.livingRoomID).profile.id?(this.props.onCloseDialog(),b("PageTransitions").go(c,!0)):b("ActorURI").create(c,a).go()};return c}(b("React").Component);e.exports=a(c,{livingRoom:i!==void 0?i:i=b("LivingRoomLinkedPagesDialog_livingRoom.graphql")})}),null);
__d("LivingRoomPresencePollingUtils",["LivingRoomActions","LivingRoomPresenceLatencyLogger","LivingRoomTypedLogger","LivingRoomTypeUtils","RelayFBEnvironment","RelayModern","clearInterval","gkx","qex","setInterval","LivingRoomPresencePollingUtilsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;function a(a,c){__p&&__p();var d=null,e=function(){d!=null&&(b("clearInterval")(d),d=null)};return{startPollingIdempotent:function(){__p&&__p();var f;d=(f=d)!=null?f:b("setInterval")(function(){__p&&__p();h(b("RelayFBEnvironment"),g!==void 0?g:g=b("LivingRoomPresencePollingUtilsQuery.graphql"),{livingRoomID:a}).then(function(c){__p&&__p();var d;c=c==null?void 0:c.living_room;if(c==null)return;((d=c.recap)==null?void 0:d.comment_count)!=null&&e();if(b("qex")._("821747"))return;c.is_viewer_present===!0&&b("LivingRoomPresenceLatencyLogger").logPresenceLatency(a);d=b("LivingRoomTypeUtils").convertUsers(((d=(d=c.active_viewers)==null?void 0:d.edges)!=null?d:[]).map(function(a){return a.node}));b("LivingRoomActions").updatePresentUsers(a,d);if(!(b("gkx")("1208662")&&b("gkx")("1113562"))){b("LivingRoomActions").updatePresentUserCount(a,(d=(d=c.active_viewers)==null?void 0:d.count)!=null?d:0)}c=(d=c.feed_presence_users)!=null?d:[];b("LivingRoomActions").setFeedPresenceUsers(a,b("LivingRoomTypeUtils").convertUsers(c))})["catch"](function(c){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("presence_polling_error").setLivingRoomID(a).setErrorMessage(c.message).setErrorStack(c.stack).log()})},c)},stopPolling:e}}e.exports={init:a}}),null);
__d("LivingRoomFeedAttachmentUnit.react",["cx","DOMDimensions","FluxContainer","GroupAdminType","Link.react","LivingRoomActions","LivingRoomCVCUtils","LivingRoomEntryPoint.react","LivingRoomFeedAttachmentBadgeOverlay.react","LivingRoomFeedAttachmentBadgeRow.react","LivingRoomFeedAttachmentFooter.react","LivingRoomFeedAttachmentOverlay.react","LivingRoomFeedRecap.react","LivingRoomLinkedPagesDialog.react","LivingRoomPresencePollingUtils","LivingRoomStore","LivingRoomTypedLogger","LivingRoomVideoPlayer.react","LivingRoomViewerFunnelLogger","OnVisible.react","PageTransitions","React","RelayModern","XGroupLivingRoomFullScreenController","XLivingRoomFullScreenController","clearTimeout","collectDataAttributes","getMutationTrackingPropertyFromTrackingData","nullthrows","qex","setTimeout","uniqueID","LivingRoomFeedAttachmentUnit_livingRoom.graphql","LivingRoomFeedAttachmentUnitRefetchQuery.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.$1=null,e.state={attachmentHeight:(c=b("DOMDimensions").getElementDimensions(e.$1).height)!=null?c:0,countdown:b("LivingRoomStore").getCountdown(e.props.livingRoomID),cvcToken:null,feedPresenceUserCount:b("LivingRoomStore").getFeedPresenceUsers(e.props.livingRoomID).count(),isVideoPlaying:b("LivingRoomStore").getIsVideoPlaying(e.props.livingRoomID),justLeftFullScreen:b("LivingRoomStore").getJustLeftFullScreen(e.props.livingRoomID),presentUserCount:b("LivingRoomStore").getPresentUserCount(e.props.livingRoomID),showLinkedPagesDialog:!1,showLivingRoom:!1},e.$4=null,e.$5=null,e.$7=function(a){e.$1=a,a&&e.$2()},e.$8=function(){__p&&__p();var a;if(e.props.onJoinChainedLivingRoom)return;e.props.relay.refetch({livingRoomID:e.props.livingRoomID},null,function(){},{force:!0});e.$5=(a=e.$5)!=null?a:b("LivingRoomPresencePollingUtils").init(e.props.livingRoomID,1e4);e.$5.startPollingIdempotent();a=((a=b("qex")._("730202"))!=null?a:3)*1e3;e.state.justLeftFullScreen&&(a=0,b("LivingRoomActions").setJustLeftFullScreen(e.props.livingRoomID,!1));e.$4=b("setTimeout")(function(){e.state.cvcToken===null&&e.setState({cvcToken:b("LivingRoomCVCUtils").enter(e.props.livingRoomID,e.props.entrySource,!1)})},a)},e.$3=function(){e.$6(),b("clearTimeout")(e.$4),e.$9()},e.$14=function(a){__p&&__p();var c,d;if(e.props.onJoinChainedLivingRoom)return e.props.onJoinChainedLivingRoom();new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_to_open").setLivingRoomID(e.props.livingRoomID).setEntrySource(e.props.entrySource).addToExtraData("feed_presence_count",e.state.feedPresenceUserCount.toString()).log();b("LivingRoomViewerFunnelLogger").startFunnel("click_to_open",b("uniqueID")(),e.props.livingRoomID);b("LivingRoomActions").setEntryPoint(e.props.livingRoomID,e.props.entryURI);c=((c=e.props.livingRoom.profile)==null?void 0:c.viewer_admin_type)===b("GroupAdminType").admin;d=(d=e.props.livingRoom.profile)==null?void 0:(d=d.linked_pages)==null?void 0:d.count;if(c&&d!=null&&d>0)e.setState({showLinkedPagesDialog:!0});else{if(e.props.livingRoom.experiments.includes("FULLSCREEN_ENGAGEMENT_ATTRIBUTION")&&a.target!=null){c=b("getMutationTrackingPropertyFromTrackingData")(function(c,d){return b("collectDataAttributes")(a.target,c,d)});b("LivingRoomStore").setTrackingData(e.props.livingRoomID,c)}b("PageTransitions").go(e.$13(),!0)}},e.$15=function(a){e.setState({showLivingRoom:a})},e.$13=function(){var a;if((a=e.props.livingRoom.profile)==null?void 0:a.groupID){return b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",(a=e.props.livingRoom.profile)==null?void 0:a.groupID).setFBID("living_room_id",e.props.livingRoomID).getURI()}return b("XLivingRoomFullScreenController").getURIBuilder().setFBID("living_room_id",e.props.livingRoomID).setEnum("entry_source",e.props.entrySource).getURI()},d)||babelHelpers.assertThisInitialized(e)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{countdown:(a=b("LivingRoomStore")).getCountdown(c.livingRoomID),feedPresenceUserCount:a.getFeedPresenceUsers(c.livingRoomID).count(),justLeftFullScreen:a.getJustLeftFullScreen(c.livingRoomID),isVideoPlaying:a.getIsVideoPlaying(c.livingRoomID),presentUserCount:a.getPresentUserCount(c.livingRoomID)})};var d=c.prototype;d.componentDidUpdate=function(a,b){a=this.$1;b.isVideoPlaying!==this.state.isVideoPlaying&&a!=null&&this.$2();!b.showLivingRoom&&this.state.showLivingRoom&&this.$3()};d.$6=function(){this.$5&&this.$5.stopPolling()};d.$2=function(){var a;this.setState({attachmentHeight:(a=b("DOMDimensions").getElementDimensions(this.$1).height)!=null?a:0})};d.$9=function(){b("LivingRoomCVCUtils").leave(this.state.cvcToken),this.setState({cvcToken:null})};d.render=function(){return b("React").jsxs("div",{children:[this.$10(),this.$11(),this.$12()]})};d.$10=function(){var a,c=this.props.livingRoom.is_active===!1;if(this.state.showLivingRoom)return null;a=b("nullthrows")((a=this.props.livingRoom.profile)==null?void 0:a.name);if(c)return b("React").jsx(b("LivingRoomFeedRecap.react"),{actorID:this.props.actorID,getFullScreenURI:this.$13,isReplay:this.props.isReplay,livingRoomID:this.props.livingRoomID,profileName:a});a=b("React").jsx(b("LivingRoomVideoPlayer.react"),{actorID:this.props.actorID,rawVideoData:this.props.rawVideoData,livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,autoplay:!1,isFullScreen:!1,onVideoLoaded:this.props.onVideoLoaded,startMuted:!0,children:b("React").jsxs("span",{children:[b("React").jsx(b("LivingRoomFeedAttachmentOverlay.react"),{profileName:a,livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID}),b("React").jsx(b("LivingRoomFeedAttachmentBadgeOverlay.react"),{countdown:this.state.countdown,isPending:this.props.livingRoom.is_pending_group_admin_approval===!0,isSessionEnded:c,livingRoomID:this.props.livingRoomID,premiereLivingRoomBadgeText:this.props.premiereLivingRoomBadgeText,presentUserCount:this.state.presentUserCount})]})});return b("React").jsx("div",{className:"_15qs",children:b("React").jsxs(b("Link.react"),{onClick:this.$14,children:[b("React").jsx("div",{children:c?a:b("React").jsx(b("OnVisible.react"),{onVisible:this.$8,onHidden:this.$3,buffer:-this.state.attachmentHeight/2,children:b("React").jsx("div",{ref:this.$7,children:a})})}),b("React").jsx(b("LivingRoomFeedAttachmentBadgeRow.react"),{livingRoomID:this.props.livingRoomID,premiereLivingRoomBadgeText:this.props.premiereLivingRoomBadgeText,presentUserCount:this.state.presentUserCount}),b("React").jsx(b("LivingRoomFeedAttachmentFooter.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,isPremiere:this.props.premiereLivingRoomBadgeText!=null})]})})};d.$11=function(){var a;return b("React").jsx(b("LivingRoomEntryPoint.react"),{actorID:this.props.actorID,autoJoin:this.props.autoJoin,rawVideoData:this.props.rawVideoData,entrySource:this.props.entrySource,entryURI:this.props.entryURI,forcePageLoad:this.props.forcePageLoad,groupID:(a=this.props.livingRoom.profile)==null?void 0:a.groupID,isReplay:!!this.props.isReplay,livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,onPageTransition:this.$15})};d.$12=function(){var a=this,c=this.state.showLinkedPagesDialog,d=this.props,e=d.livingRoom;d=d.livingRoomID;return!c||((c=e.profile)==null?void 0:c.groupID)==null?null:b("React").jsx(b("LivingRoomLinkedPagesDialog.react"),{livingRoom:e,livingRoomID:b("nullthrows")(d),onCloseDialog:function(){return a.setState({showLinkedPagesDialog:!1})}})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:h!==void 0?h:h=b("LivingRoomFeedAttachmentUnit_livingRoom.graphql")},i!==void 0?i:i=b("LivingRoomFeedAttachmentUnitRefetchQuery.graphql"))}),null);
__d("LivingRoomFeedRecap.react",["CurrentUser","LivingRoomRecapVideos.react","LivingRoomReplayContainer.react","React","RelayFBEnvironment","RelayModern","LivingRoomFeedRecapQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c,d=(c=this.props.actorID)!=null?c:b("CurrentUser").getID(),e=!!this.props.isReplay;return b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("LivingRoomFeedRecapQuery.graphql"),variables:{id:this.props.livingRoomID,isReplay:e},render:function(c){c.error;c=c.props;if(e&&d!=null&&c!=null){var f;return b("React").jsx(b("LivingRoomReplayContainer.react"),{actorID:d,canViewerShare:c==null?void 0:c.living_room.can_viewer_share,contentItems:c==null?void 0:c.living_room.recap,feedbackID:c==null?void 0:c.living_room.feedback.id,fromPermlink:a.props.fromPermlink,fromChaining:!1,getFullScreenURI:a.props.getFullScreenURI,groupID:c==null?void 0:(f=c.living_room)==null?void 0:(f=f.profile)==null?void 0:f.groupID,livingRoomID:a.props.livingRoomID,shareURI:c==null?void 0:c.living_room.share_uri,shouldAutoplay:c==null?void 0:c.living_room.recap.should_autoplay})}return b("React").jsx(b("LivingRoomRecapVideos.react"),{customName:c==null?void 0:(f=c.living_room)==null?void 0:f.custom_name,groupID:c==null?void 0:(f=c.living_room)==null?void 0:(f=f.profile)==null?void 0:f.groupID,profileName:a.props.profileName,livingRoomID:a.props.livingRoomID,showInsights:!0,videos:(f=c)!=null?(f=f.living_room)!=null?f.recap:f:f,viewerIsCreator:b("CurrentUser").getID()===(c==null?void 0:(f=c.living_room)==null?void 0:(c=f.creator)==null?void 0:c.id)})}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomFullScreenController",["csx","cx","CSS","DialogX","DOM","DOMQuery"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.show=function(a){this.$1&&this.$1.destroy();this.$1=new(b("DialogX"))({width:876},a);a=this.$1.getRoot();b("CSS").setClass(a,"_6te5");this.$1&&this.$1.show();var c=b("DOMQuery").find(document.body,"._li");b("DOM").appendContent(c,a)};c.close=function(){this.$1&&this.$1.destroy(),this.$1=null};return a}();e.exports=new a()}),null);
__d("LivingRoomStyle",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHANNEL:"channel",DEFAULT:"default",LOL:"lol",MESSENGER:"messenger",PAGE:"page",USER:"user"})}),null);
__d("LivingRoomStyleKeys",["LivingRoomStyle","keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")(b("LivingRoomStyle"))}),null);
__d("LivingRoomHeader.react",["ix","cx","fbt","ActionList.react","ContextualDialogArrow","FDSText.react","Image.react","ImageBlock.react","Link.react","LivingRoomCustomizationDialog.react","LivingRoomEndConfirmDialog.react","LivingRoomEndSessionMutation","LivingRoomNotifSubscriptionStatusUpdateMutation","LivingRoomStyleKeys","LivingRoomTypedLogger","PopoverMenu.react","React","ReactXUIMenu","RelayModern","TooltipData","XVanityURLController","MenuStaticItem.react","asset","cxMargin","LivingRoomHeader_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=b("ReactXUIMenu").Item;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isNotifMenuVisible:!1,showCustomizationDialog:!1,showEndPartyDialog:!1,mouseHovered:!1},d.$1=function(){d.setState({mouseHovered:!0})},d.$2=function(){if(d.state.isNotifMenuVisible)return;d.setState({mouseHovered:!1})},d.$3=function(a){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("unhandled_graphql_error").setLivingRoomID(d.props.livingRoomID).setErrorMessage(a.message).setErrorStack(a.stack).log()},d.$12=function(){d.setState({showCustomizationDialog:!0}),new(b("LivingRoomTypedLogger"))().setLivingRoomAction("show_customization_dialog").setLivingRoomID(d.props.livingRoomID).log()},d.$13=function(){d.setState({showEndPartyDialog:!0}),new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_end_session").setLivingRoomID(d.props.livingRoomID).log()},d.$14=function(){d.setState({showEndPartyDialog:!1})},d.$15=function(){b("LivingRoomEndSessionMutation").commit({living_room_id:d.props.livingRoomID})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(a){var c;c=(c=this.props.livingRoom.profile)==null?void 0:c.id;if(a===this.props.livingRoom.notif_subscription_status||a===null||c==null)return;b("LivingRoomNotifSubscriptionStatusUpdateMutation").commit({living_room_id:this.props.livingRoomID,profile_id:c,notif_subscription_type:a},this.$3)};d.$5=function(){switch(this.props.livingRoom.living_room_style){case b("LivingRoomStyleKeys").DEFAULT:return i._("Get notified whenever there is a Watch Party in this group");case b("LivingRoomStyleKeys").USER:return i._("Get notified whenever there is a Watch Party from this person");case b("LivingRoomStyleKeys").PAGE:return i._("Get notified whenever there is a Watch Party from this page");default:return null}};d.$6=function(){switch(this.props.livingRoom.living_room_style){case b("LivingRoomStyleKeys").DEFAULT:return i._("Get notified only about suggested Watch Parties in this group");case b("LivingRoomStyleKeys").USER:return i._("Get notified only about suggested Watch Parties from this person");case b("LivingRoomStyleKeys").PAGE:return i._("Get notified only about suggested Watch Parties from this page");default:return null}};d.$7=function(){switch(this.props.livingRoom.living_room_style){case b("LivingRoomStyleKeys").DEFAULT:return i._("Don't get notified about Watch Parties in this group");case b("LivingRoomStyleKeys").USER:return i._("Don't get notified about Watch Parties from this person");case b("LivingRoomStyleKeys").PAGE:return i._("Don't get notified about Watch Parties from this page");default:return null}};d.$8=function(){var a=this,c=b("React").jsxs(k,{className:"_3odc"+(this.props.livingRoom.notif_subscription_status==="ALL"?" _52-0":""),onClick:function(){return a.$4("ALL")},children:[b("React").jsx(b("Image.react"),{className:"_3_xu",src:"/images/feed/control/check_mark.png"}),b("React").jsx(b("Image.react"),{className:"_5r1z",src:"/images/feed/control/check_mark_white.png"}),b("React").jsx("div",{className:"_3_xs",children:i._("All")}),b("React").jsx("div",{className:"_3_xt",children:this.$5()})]},"0"),d=b("React").jsxs(k,{className:"_3odc"+(this.props.livingRoom.notif_subscription_status==="HIGHLIGHTS"?" _52-0":""),onClick:function(){return a.$4("HIGHLIGHTS")},children:[b("React").jsx(b("Image.react"),{className:"_3_xu",src:"/images/feed/control/check_mark.png"}),b("React").jsx(b("Image.react"),{className:"_5r1z",src:"/images/feed/control/check_mark_white.png"}),b("React").jsx("div",{className:"_3_xs",children:i._("Highlights")}),b("React").jsx("div",{className:"_3_xt",children:this.$6()})]},"1"),e=b("React").jsxs(k,{className:"_3odc"+(this.props.livingRoom.notif_subscription_status==="OFF"?" _52-0":""),onClick:function(){return a.$4("OFF")},children:[b("React").jsx(b("Image.react"),{className:"_3_xu",src:"/images/feed/control/check_mark.png"}),b("React").jsx(b("Image.react"),{className:"_5r1z",src:"/images/feed/control/check_mark_white.png"}),b("React").jsx("div",{className:"_3_xs",children:i._("Off")}),b("React").jsx("div",{className:"_3_xt",children:this.$7()})]},"2");return[c,d,e]};d.$9=function(){var a=g("537344");this.props.livingRoom.notif_subscription_status==="ALL"?a=g("509365"):this.props.livingRoom.notif_subscription_status==="OFF"&&(a=g("669632"));return a};d.$10=function(){var a=this;if(this.props.livingRoom.notif_subscription_status===null)return null;var c=this.$8();c=b("React").jsxs(b("ReactXUIMenu"),{className:"_1cis _3od9 _3-31",children:[b("React").jsx(b("MenuStaticItem.react"),{className:"_3oda",children:i._("Watch Party Notifications")}),c]});return b("React").jsx(b("PopoverMenu.react"),{alignh:"right",alignv:"baseline",className:"_702y",layerBehaviors:[b("ContextualDialogArrow")],menu:c,onShow:function(){return a.setState({isNotifMenuVisible:!0})},onHide:function(){return a.setState({isNotifMenuVisible:!1})},children:b("React").jsx(b("Image.react"),{src:this.$9()})})};d.$11=function(){var a=this.props.permissions.canViewerCustomize?b("React").jsx(k,{onClick:this.$12,children:i._("Edit Watch Party Title")}):null,c=this.props.permissions.canViewerEndSession?b("React").jsx(k,{onClick:this.$13,children:i._("End Watch Party")}):null;if(!a&&!c)return null;c=b("React").jsxs(b("ReactXUIMenu"),{children:[c,a]});return b("React").jsx(b("PopoverMenu.react"),{alignh:"right",alignv:"baseline",layerBehaviors:[b("ContextualDialogArrow")],className:"_6zzr",menu:c,children:b("React").jsx(b("Image.react"),{src:g("657285")})})};d.$16=function(){if(this.state.showEndPartyDialog)return this.$17();else if(this.state.showCustomizationDialog)return this.$18();else return null};d.$17=function(){return b("React").jsx(b("LivingRoomEndConfirmDialog.react"),{isVisible:this.state.showEndPartyDialog,onCancel:this.$14,onConfirm:this.$15})};d.$18=function(){var a=this;return b("React").jsx(b("LivingRoomCustomizationDialog.react"),{customName:this.props.livingRoom.custom_name,livingRoomID:this.props.livingRoomID,onCloseDialog:function(){return a.setState({showCustomizationDialog:!1})}})};d.$19=function(){__p&&__p();var a,c,d=this.props.livingRoom;a=((a=this.props.livingRoom.profile)==null?void 0:a.id)?b("React").jsx(b("Link.react"),{className:"_6zzv",href:b("XVanityURLController").getURIBuilder().setString("vanity",(a=this.props.livingRoom.profile)==null?void 0:a.id).getURI(),children:b("React").jsx(b("FDSText.react"),{size:"body3",color:"white",children:(a=this.props.livingRoom.profile)==null?void 0:a.name})}):b("React").jsx(b("FDSText.react"),{size:"body3",color:"white",children:(a=this.props.livingRoom.profile)==null?void 0:a.name});var e=!1,f=null,h=null;this.props.displayableSponsorPage!=null?(e=!0,f=this.props.displayableSponsorPage.id,h=this.props.displayableSponsorPage.name):this.props.livingRoom.displayable_sponsor_page!=null&&(e=!0,f=this.props.livingRoom.displayable_sponsor_page.id,h=this.props.livingRoom.displayable_sponsor_page.name);if(e){var j;e=!0;a=(j=b("React")).jsx(b("FDSText.react"),{size:"body3",color:"white",children:i._("{profileName} with {sponsorName}",[i._param("profileName",j.jsx(b("FDSText.react"),{size:"body3",color:"white",weight:"bold",children:a})),i._param("sponsorName",j.jsx(b("Link.react"),{className:"_6zzv",href:b("XVanityURLController").getURIBuilder().setString("vanity",f).getURI(),children:j.jsx(b("FDSText.react"),{size:"body3",color:"white",weight:"bold",children:h})}))])});if(((f=d.privacy)==null?void 0:f.description)!=null&&((j=d.privacy)==null?void 0:(h=j.icon_image)==null?void 0:h.uri)!=null){c=b("React").jsxs(b("FDSText.react"),{size:"body3",color:"white",children:[b("React").jsx(b("Image.react"),{className:"_7km2",src:(f=d.privacy)==null?void 0:(j=f.icon_image)==null?void 0:j.uri})," ",(h=d.privacy)==null?void 0:h.description]})}}else if(((f=d.privacy)==null?void 0:f.description)!=null&&((j=d.privacy)==null?void 0:(h=j.icon_image)==null?void 0:h.uri)!=null){c=b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:"_6zzu",src:(f=d.privacy)==null?void 0:(j=f.icon_image)==null?void 0:j.uri},b("TooltipData").propsFor((h=d.privacy)==null?void 0:h.description,"above","center")))}d=((f=this.props.livingRoom.profile)==null?void 0:f.id)!==((j=this.props.livingRoom.creator)==null?void 0:j.id);h=e?b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_7klt",children:a}),b("React").jsx("div",{children:b("React").jsxs(b("ActionList.react"),{className:"_653e",children:[b("React").jsx(b("FDSText.react"),{size:"body3",color:"white",children:i._("Paid Partnership")}),c]})})]}):b("React").jsxs(b("ActionList.react"),{className:d?"_653e":"_7cia",children:[a,c]});if(d){return b("React").jsxs("div",{className:"_7cia",children:[b("React").jsx(b("Link.react"),{className:"_6zzv",href:b("XVanityURLController").getURIBuilder().setString("vanity",(f=this.props.livingRoom.creator)==null?void 0:f.id).getURI(),children:b("React").jsx(b("FDSText.react"),{size:"body3",color:"white",children:(j=this.props.livingRoom.creator)==null?void 0:j.name})}),b("React").jsx(b("Image.react"),{className:"_721c",src:g("483180")}),h]})}return h};d.render=function(){var a,c=(a=b("React")).jsxs(b("ImageBlock.react"),{spacing:"medium",children:[a.jsx(b("Link.react"),{onClick:this.props.onClick,children:a.jsx(b("Image.react"),{src:g("480585")})}),a.jsxs("div",{className:"_3-99",children:[a.jsx(b("FDSText.react"),{display:"truncate",size:"header2",color:"white",children:this.props.livingRoom.custom_name}),this.$19()]})]});return a.jsxs("div",{onMouseEnter:this.$1,onMouseLeave:this.$2,className:this.props.headerVisible||this.state.mouseHovered?"_6zzx":"_7bmb",children:[c,b("React").jsxs("div",{className:"_702z",children:[this.$10(),this.$11()]}),this.$16()]})};return c}(b("React").Component);e.exports=a(c,{livingRoom:j!==void 0?j:j=b("LivingRoomHeader_livingRoom.graphql")})}),null);
__d("LivingRoomHeaderContainer.react",["FluxContainer","LivingRoomActions","LivingRoomHeader.react","LivingRoomStore","React","RelayModern","URI","XGroupsController","XVanityURLController","goURI","LivingRoomHeaderContainer_livingRoom.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g,h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={actorID:b("LivingRoomStore").getActorID(e.props.livingRoomID),currentContentItem:b("LivingRoomStore").getCurrentContentItem(e.props.livingRoomID),entryPoint:b("LivingRoomStore").getEntryPoint(e.props.livingRoomID),pageID:b("LivingRoomStore").getPageID(e.props.livingRoomID),permissions:b("LivingRoomStore").getPermissions(e.props.livingRoomID),headerVisible:b("LivingRoomStore").getIsHeaderVisible(e.props.livingRoomID)||!b("LivingRoomStore").getIsVideoPlaying(e.props.livingRoomID)||((c=b("LivingRoomStore").getCurrentContentItem(e.props.livingRoomID))==null?void 0:c.restriction_reason)==="SOTTO_CONTENT_NOT_SUBSCRIBED"},e.$1=function(){var a;a=(a=e.props.livingRoom.profile)==null?void 0:a.groupID;b("LivingRoomActions").setJustLeftFullScreen(e.props.livingRoomID,!0);e.state.entryPoint?e.state.entryPoint.go():a!=null?b("XGroupsController").getURIBuilder().setString("idorvanity",a).getURI().go(!0):e.state.pageID!=null&&e.state.pageID!==""?b("goURI")(b("XVanityURLController").getURIBuilder().setString("vanity",e.state.pageID).getURI()):(b("LivingRoomActions").close(e.props.livingRoomID),new(h||(h=b("URI")))("/").go())},d)||babelHelpers.assertThisInitialized(e)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){var d,e=(d=b("LivingRoomStore")).getCurrentContentItem(c.livingRoomID);return babelHelpers["extends"]({},a,{currentContentItem:e,actorID:d.getActorID(c.livingRoomID),entryPoint:d.getEntryPoint(c.livingRoomID),pageID:d.getPageID(c.livingRoomID),permissions:d.getPermissions(c.livingRoomID),headerVisible:b("LivingRoomStore").getIsHeaderVisible(c.livingRoomID)||!b("LivingRoomStore").getIsVideoPlaying(c.livingRoomID)||(e==null?void 0:e.restriction_reason)==="SOTTO_CONTENT_NOT_SUBSCRIBED"})};var d=c.prototype;d.render=function(){var a;a=(a=this.state.currentContentItem)==null?void 0:a.video;return b("React").jsx(b("LivingRoomHeader.react"),{actorID:this.state.actorID,livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,onClick:this.$1,permissions:this.state.permissions,video:a,displayableSponsorPage:this.props.displayableSponsorPage,headerVisible:this.state.headerVisible})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:g!==void 0?g:g=b("LivingRoomHeaderContainer_livingRoom.graphql")})}),null);
__d("LivingRoomCallUtils",["RelayFBEnvironment","RelayModern","RTCCallActions","RTCMWProtocolHandler","RTCUser","generateRTCCallID","LivingRoomCallUtilsSetIsRtcCallOngoingMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;a={joinOrStartCall:function(a,c){__p&&__p();var d=this,e=null,f=null;return b("RTCMWProtocolHandler").initStream(!1).then(function(g){__p&&__p();e=g;if(!e)return null;g=c.profile.name;g=new(b("RTCUser"))({FBID:c.profile.id,userName:g});g=g.addStream(e);b("RTCCallActions").initLocalUser(g);var h=d.getConferenceName(a);f=new(b("RTCMWProtocolHandler"))(b("generateRTCCallID")());g=g.streams.first();b("RTCCallActions").addLocalStream(g);g=f.startCall([],[g],h,{});d.setIsRtcCallOngoing(a,!0);return g})},listenToCall:function(a){var c=this.getConferenceName(a),d=new(b("RTCMWProtocolHandler"))(b("generateRTCCallID")());d=d.startCall([],[],c,{});this.setIsRtcCallOngoing(a,!0);return d},getConferenceName:function(a){return"WATCH:".concat(a)},setIsRtcCallOngoing:function(a,c){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{living_room_id:a,is_rtc_call_ongoing:c}}})}};var i=g!==void 0?g:g=b("LivingRoomCallUtilsSetIsRtcCallOngoingMutation.graphql");e.exports=a}),null);
__d("LivingRoomMicrophoneButton.react",["ix","cx","FDSButton.react","Image.react","LivingRoomCallUtils","LivingRoomIsRtcCallOngoingSubscription","LivingRoomStore","React","RelayFBEnvironment","RelayModern","RTCCallActions","RTCCallStore","RTCGroupCallActions","RTCMWProtocolHandler","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","asset","immutable","promiseDone","LivingRoomMicrophoneButton_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={micEnabled:!1,confirmMicAccess:!1,showMicDialog:!1,inCall:!1,peerConnection:null,isRtcCallOngoing:!!((c=e.props.livingRoom)==null?void 0:c.is_rtc_call_ongoing)},e.$1=function(a){if(a){a=(a=a.living_room_is_rtc_call_ongoing_subscribe)==null?void 0:a.is_rtc_call_ongoing;!e.state.inCall&&a?e.$2():e.state.inCall&&!a&&e.$5();(a!=null||a!=void 0)&&e.setState({isRtcCallOngoing:a})}},e.$6=function(){if(!e.state.confirmMicAccess)e.setState({showMicDialog:!0});else{var a=e.state.micEnabled;a=!a;e.setState({micEnabled:a});b("RTCCallActions").toggleMuteAudio(!e.state.micEnabled)}},e.$7=function(){e.setState({showMicDialog:!1})},e.$8=function(){!e.state.micEnabled&&e.state.inCall?(b("RTCMWProtocolHandler").escalateLocalStream(!1),e.setState({peerConnection:b("RTCCallStore").getConnection()})):(b("RTCGroupCallActions").initThread(null,b("immutable").Map()),b("promiseDone")(b("LivingRoomCallUtils").joinOrStartCall(e.props.livingRoomID,e.props.livingRoomSelf).then(function(a){return e.setState({peerConnection:a})}))),e.setState({inCall:!0}),e.setState({showMicDialog:!1}),e.setState({confirmMicAccess:!0}),e.setState({micEnabled:!0})},d)||babelHelpers.assertThisInitialized(e)}var d=c.prototype;d.componentDidMount=function(){this.subscription=b("LivingRoomIsRtcCallOngoingSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:this.props.livingRoomID},{onNext:this.$1}),this.state.isRtcCallOngoing&&!this.state.inCall&&this.$2()};d.$2=function(){b("RTCGroupCallActions").initThread(null,b("immutable").Map()),this.setState({peerConnection:b("LivingRoomCallUtils").listenToCall(this.props.livingRoomID)}),this.setState({inCall:!0})};d.componentWillUnmount=function(){this.$3(),b("LivingRoomStore").getPresentUserCount(this.props.livingRoomID)===1&&this.$4(),this.subscription.dispose()};d.$4=function(){this.$5(),b("LivingRoomCallUtils").setIsRtcCallOngoing(this.props.livingRoomID,!1)};d.$5=function(){this.setState({micEnabled:!1}),this.setState({inCall:!1})};d.$3=function(){__p&&__p();var a=this.state.peerConnection;if(!this.state.inCall||!a)return;var c=b("RTCCallStore").getState();c=c.localUser;c=c.streams.first();if(c){b("RTCCallActions").removeLocalStream(c);var d=a.getLocalStreams();d.includes(c)&&a.removeStream(c);c.getTracks().forEach(function(a){return a.stop()})}a.close()};d.$9=function(){var a=this,c;return(c=b("React")).jsxs(b("XUIDialog.react"),{causalElementRef:function(){return a.refs.button},shown:this.state.showMicDialog,onHide:this.$7,isStrictlyControlled:!0,titleID:"mic-dialog-header",width:445,children:[c.jsx(b("XUIDialogTitle.react"),{children:"Are you sure?"}),c.jsx(b("XUIDialogBody.react"),{children:c.jsx("span",{children:"By enabling your microphone, all users in the Watch Party will able to hear you."})}),c.jsxs(b("XUIDialogFooter.react"),{children:[c.jsx(b("FDSButton.react"),{label:"Cancel",onClick:this.$7}),c.jsx(b("FDSButton.react"),{use:"primary",label:"Enable",onClick:this.$8})]})]})};d.render=function(){var a=this.state.micEnabled?g("390552"):g("573336");return!this.state.isRtcCallOngoing&&this.props.livingRoomSelf.presence_badge!=="HOST"?null:b("React").jsxs("div",{className:"_3ecs",onClick:this.$6,children:[b("React").jsx(b("Image.react"),{className:"_3ecq",src:a}),this.$9()]})};return c}(b("React").Component);e.exports=a(c,{livingRoom:i!==void 0?i:i=b("LivingRoomMicrophoneButton_livingRoom.graphql")})}),null);
__d("LivingRoomPresenceTrayReactions.react",["cx","Arbiter","LivingRoomConstants","LivingRoomReactionCreateMutation","LivingRoomStore","React","ShimButton.react","UFIReactionsAnimatedKeyframesIcon.react","UFIReactionTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[1,2,4,3,7,8];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hoveredReaction:0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=h.map(function(c){__p&&__p();var d={};d.living_room_id=a.props.livingRoomID;d.reaction_id=c;d.actor_id=a.props.actorID;d.living_room_content_item_id=a.props.currentItemID;d.tracking=b("LivingRoomStore").getFeedTracking(a.props.livingRoomID);a.props.isPlayingLiveVideo?d.live_content_time_offset=a.props.getCurrentVideoTime():d.on_demand_content_time_offset=a.props.getCurrentVideoTime();return b("React").jsxs(b("ShimButton.react"),{className:"_7dkk",onMouseEnter:function(){return a.setState({hoveredReaction:c})},onMouseLeave:function(){return a.setState({hoveredReaction:0})},onClick:function(){a.props.dispatch==null?b("Arbiter").inform(b("LivingRoomConstants").VIEWER_REACTION,{userID:a.props.actorID,reactionID:c}):a.props.dispatch({type:"REACTION_CREATED",payload:c}),b("LivingRoomReactionCreateMutation").commit(d)},role:"button",tabIndex:0,children:[b("React").jsx(b("UFIReactionsAnimatedKeyframesIcon.react"),{animate:c===a.state.hoveredReaction,maxSize:40,reactionID:c,selectedIndex:0}),c===a.state.hoveredReaction?b("React").jsx("div",{className:"_7dkl",children:b("React").jsx("div",{className:"_7dkm"+(c===a.state.hoveredReaction?" _7dra":""),children:b("UFIReactionTypes").reactions[c].display_name})}):null]},c)});return b("React").jsx("div",{className:"_7dkn",children:c})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomReactionsRenderer.react",["cx","Animation","Arbiter","DOM","Ease","LivingRoomConstants","LivingRoomReactionsSubscription","LivingRoomStore","React","ReactDOM","RelayFBEnvironment","UFIReactionsAnimatedKeyframesIcon.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h=3e3;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$5=function(a){var c;c=(c=a)!=null?(c=c.living_room_reactions_subscribe)!=null?c.user_id:c:c;a=(a=a)!=null?(a=a.living_room_reactions_subscribe)!=null?a.reaction_type:a:a;if(!c||!a||c===b("LivingRoomStore").getActorID(d.props.livingRoomID))return;a=a;d.$4(c,a)};d.$3(c.livingRoomID,c.userID);c.userID===b("LivingRoomStore").getActorID(c.livingRoomID)&&(d.$2=b("Arbiter").subscribe(b("LivingRoomConstants").VIEWER_REACTION,function(a,b){a=b.reactionID;d.$4(b.userID,a)}));return d}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.dispose(),this.$2&&b("Arbiter").unsubscribe(this.$2)};d.$3=function(a,c){this.$1=b("LivingRoomReactionsSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:a,user_id:c},{onNext:this.$5})};d.$4=function(a,c){if(!this.refs[a])return;var d=b("DOM").create("div",{className:"_34i6"});b("ReactDOM").render(b("React").jsx(b("UFIReactionsAnimatedKeyframesIcon.react"),{animate:!0,className:"_8382",maxSize:48,reactionID:c,selectedIndex:0}),d,function(){new(b("Animation"))(d).to("bottom",60).from("opacity",0).from("scale",[0,0]).to("scale",[1,1]).to("opacity",1).duration(400).ease(b("Ease").expoOut).ondone(function(){return setTimeout(function(){return new(b("Animation"))(d).to("opacity",0).duration(1e3).ondone(function(){return b("DOM").remove(d)}).go()},h)}).go()});b("DOM").appendContent(this.refs[a],d)};d.render=function(){return b("React").jsx("div",{ref:this.props.userID,children:b("React").Children.only(this.props.children)})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomPresenceTray.react",["ix","cx","fbt","AudioContextSingleton","BasicFBNux","DOMDimensions","FluxContainer","Image.react","InsightsNumUtils","Link.react","LivingRoomActions","LivingRoomCallAudio.react","LivingRoomCommentatingProfileTileContainer.react","LivingRoomConstants","LivingRoomMicrophoneButton.react","LivingRoomPresenceTrayReactions.react","LivingRoomProfileTile.react","LivingRoomReactionsRenderer.react","LivingRoomStore","LivingRoomStyleKeys","LivingRoomTypedLogger","LivingRoomTypeValues","React","ReactDOM","RelayModern","ResizeListener","VideoBroadcastStatus","WatchTogetherAudioChatConfig","XUIAmbientNUX.react","asset","immutable","LivingRoomPresenceTray_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("LivingRoomTypeValues").SidePaneTypeValue,l=b("LivingRoomTypeValues").WalkthroughStepValue;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var m=160,n=52,o=288,p=98,q=42;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{actorID:(a=b("LivingRoomStore")).getActorID(c.livingRoomID),walkthroughStep:a.getWalkthroughStep(c.livingRoomID),canViewerInvite:a.getPermissions(c.livingRoomID).canViewerInvite,canViewerSeePresenceNux:a.getCanViewerSeePresenceNux(c.livingRoomID),canViewerShare:a.getPermissions(c.livingRoomID).canViewerShare,entrySource:a.getEntrySource(c.livingRoomID),feedTrackingData:a.getFeedTracking(c.livingRoomID),isPlayingLiveVideo:((a=b("LivingRoomStore").getCurrentContentItem(c.livingRoomID))==null?void 0:(a=a.video)==null?void 0:a.broadcast_status)===b("VideoBroadcastStatus").LIVE,presentUserCount:b("LivingRoomStore").getPresentUserCount(c.livingRoomID),presentUsers:b("LivingRoomStore").getPresentUsers(c.livingRoomID),self:b("LivingRoomStore").getSelf(c.livingRoomID),vpc:b("LivingRoomStore").getVideoPlayerController(c.livingRoomID),localMediaStream:b("LivingRoomStore").getMediaStream(c.livingRoomID)})};function c(c,d){__p&&__p();var e;e=a.call(this,c,d)||this;e.state={actorID:b("LivingRoomStore").getActorID(e.props.livingRoomID),walkthroughStep:b("LivingRoomStore").getWalkthroughStep(e.props.livingRoomID),canViewerInvite:b("LivingRoomStore").getPermissions(e.props.livingRoomID).canViewerInvite,canViewerSeePresenceNux:b("LivingRoomStore").getCanViewerSeePresenceNux(e.props.livingRoomID),canViewerShare:b("LivingRoomStore").getPermissions(e.props.livingRoomID).canViewerShare,commentatorID:null,entrySource:b("LivingRoomStore").getEntrySource(e.props.livingRoomID),feedTrackingData:b("LivingRoomStore").getFeedTracking(e.props.livingRoomID),isPlayingLiveVideo:((c=b("LivingRoomStore").getCurrentContentItem(e.props.livingRoomID))==null?void 0:(d=c.video)==null?void 0:d.broadcast_status)===b("VideoBroadcastStatus").LIVE,presentUserCount:b("LivingRoomStore").getPresentUserCount(e.props.livingRoomID),presentUsers:b("immutable").List(),self:b("LivingRoomStore").getSelf(e.props.livingRoomID),speakingUsers:b("immutable").Set(),vpc:b("LivingRoomStore").getVideoPlayerController(e.props.livingRoomID),localMediaStream:b("LivingRoomStore").getMediaStream(e.props.livingRoomID)};e.$2=i._("Invite others to join your watch party.");e.$3=new Map();e.$5=function(){e.forceUpdate()};e.getCurrentVideoTime=function(){return e.state.vpc?Math.round(e.state.vpc.getCurrentTimePosition()):null};e.$8=function(a){e.setState({commentatorID:a})};e.$9=function(){e.state.walkthroughStep===l.SHOW_INVITE&&b("LivingRoomActions").setWalkthroughStep(e.props.livingRoomID,l.HIDE),b("LivingRoomActions").setActiveSidePane(e.props.livingRoomID,k.INVITE),new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_invite_button").setLivingRoomID(e.props.livingRoomID).log()};e.$15=function(){b("LivingRoomActions").setActiveSidePane(e.props.livingRoomID,k.ADD_COHOST),new(b("LivingRoomTypedLogger"))().setLivingRoomAction("show_manage_participants").setLivingRoomID(e.props.livingRoomID).log()};e.$17=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_profile").setLivingRoomID(e.props.livingRoomID).log()};e.$19=function(){b("LivingRoomActions").setCanViewerSeePresenceNux(e.props.livingRoomID,!1),b("BasicFBNux").onDismiss(b("LivingRoomConstants").NUX_PRESENCE_TRAY)};e.$21=function(a){__p&&__p();a.forEach(function(a){__p&&__p();var c=a.getStream();if(!c)return;var d=b("AudioContextSingleton").get();c=d.createMediaStreamSource(c);var f=d.createAnalyser();c.connect(f);e.$3.has(a.FBID)&&window.clearInterval(e.$3.get(a.FBID));var g=new Uint8Array(f.frequencyBinCount);e.$3.set(a.FBID,window.setInterval(function(){f.getByteFrequencyData(g);var b=g.reduce(function(a,b){return a+b});b=Math.floor(b/f.frequencyBinCount/256*40);b>1&&!e.state.speakingUsers.has(a.FBID)?e.setState(function(b){return{speakingUsers:b.speakingUsers.add(a.FBID)}}):b<=1&&e.state.speakingUsers.has(a.FBID)&&e.setState(function(b){return{speakingUsers:b.speakingUsers["delete"](a.FBID)}})},100))})};e.$22=function(a){a.forEach(function(a){return window.clearInterval(e.$3.get(a.FBID))})};e.$1=b("ResizeListener").add(e.$5);return e}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.componentDidMount=function(){this.forceUpdate()};d.$6=function(){var a=b("ReactDOM").findDOMNode(this);if(!a)return 0;var c=this.$4;return b("DOMDimensions").getElementDimensions(a).width-o-(c?c.getBoundingClientRect().width:0)-(this.state.canViewerShare?q:0)};d.$7=function(){var a;return(a=b("LivingRoomStore").getCurrentContentItem(this.props.livingRoomID))==null?void 0:a.id};d.$10=function(){var a=this;return b("React").jsx("div",{className:"_6ror",onClick:this.$9,ref:function(b){return a.$4=b},children:this.state.canViewerShare?this.$11():this.$12()})};d.$13=function(a){var c=this;return b("React").jsx(b("Link.react"),{href:this.props.livingRoom.share_uri,onClick:function(){new(b("LivingRoomTypedLogger"))().setLivingRoomID(c.props.livingRoomID).setLivingRoomAction("click_share_living_room").log()},rel:"dialog","data-ft":this.state.feedTrackingData,children:a})};d.$12=function(){return b("React").jsxs("div",{children:[b("React").jsx(b("Image.react"),{className:"_3ecq",src:g("446753")}),b("React").jsx("div",{className:"_6_l0",children:i._("Invite")})]})};d.$11=function(){var a=this,c;return(c=b("React")).jsx("div",{className:"_6ror",ref:function(b){return a.$4=b},children:c.jsxs("div",{children:[c.jsx(b("Image.react"),{className:"_3ecq",src:g("562344")}),c.jsx("div",{className:"_6_l0",children:i._("Share")})]})})};d.$14=function(){__p&&__p();var a=this,c=this.$6();if(!c)return null;var d=this.state.presentUsers.filter(function(b){return a.state.commentatorID!==b.profile.id&&b.profile.id!==a.state.actorID});d=d.unshift(this.state.self);c=c-p;b("WatchTogetherAudioChatConfig").audio_commentary_enabled&&(c-=n);this.state.commentatorID!=null&&(c-=m);d=d.take(Math.floor(c/n));c=b("React").jsxs(b("Link.react"),{onClick:this.$15,className:"_7j73",children:[b("React").jsx(b("Image.react"),{className:"_3ecq",src:g("488782")}),b("React").jsx("div",{className:"_6_l0",children:b("InsightsNumUtils").prettyShortInt(this.state.presentUserCount)})]});d=d.map(function(c,d){d=a.state.speakingUsers.has(c.profile.id);return a.$16(c.profile.name,c.profile.id,b("React").jsx(b("Link.react"),{onClick:a.$15,children:b("React").jsx(b("LivingRoomProfileTile.react"),{size:"regular",user:c,userIsSpeaking:d})}))});return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("LivingRoomCommentatingProfileTileContainer.react"),{entrySource:this.state.entrySource,livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,isFullscreen:!0,onCommentatingSet:this.$8,viewerID:this.state.self.profile.id,localMediaStream:this.state.localMediaStream}),d,c]})};d.$16=function(a,c,d){a=null;var e=c===this.state.actorID?"currentUserPresence":"";e&&(a=this.$18());return b("React").jsxs("div",{className:"_4s26",children:[b("React").jsx("div",{ref:e,onClick:this.$17,role:"button",children:b("React").jsx(b("LivingRoomReactionsRenderer.react"),{livingRoomID:this.props.livingRoomID,userID:c,children:d})}),a]},c)};d.$18=function(){__p&&__p();var a=this;if(!this.state.canViewerSeePresenceNux)return null;if(this.props.livingRoom.living_room_style===b("LivingRoomStyleKeys").DEFAULT&&this.state.walkthroughStep===l.SHOW_INVITE){this.$19();return null}b("BasicFBNux").onView(b("LivingRoomConstants").NUX_PRESENCE_TRAY);var c=i._("You're now watching a watch party. The host and other viewers can see that you're watching too.");return b("React").jsx(b("XUIAmbientNUX.react"),{onCloseButtonClick:this.$19,contextRef:function(){return a.refs.currentUserPresence},shown:!0,children:c})};d.$20=function(){var a=this;return this.state.walkthroughStep!==l.SHOW_INVITE||!this.state.canViewerInvite?null:b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.$4},onCloseButtonClick:function(){return b("LivingRoomActions").setWalkthroughStep(a.props.livingRoomID,l.HIDE)},shown:!0,width:"auto",children:this.$2})};d.$23=function(){return this.state.canViewerInvite?this.$10():this.state.canViewerShare?this.$13(this.$11()):null};d.render=function(){if(this.props.livingRoom.is_pending_group_admin_approval===!0)return b("React").jsx("div",{className:"_47yj"});var a=b("WatchTogetherAudioChatConfig").audio_commentary_enabled,c=a?b("React").jsx(b("LivingRoomMicrophoneButton.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,livingRoomSelf:this.state.self}):null;return b("React").jsxs("div",{className:"_47yj",children:[c,this.$23(),this.$14(),this.state.canViewerShare?b("React").jsx("div",{className:"_7ocq",children:this.$13(b("React").jsx("div",{className:"_7oa3",children:b("React").jsx(b("Image.react"),{src:g("562345")})}))}):null,b("React").jsx(b("LivingRoomPresenceTrayReactions.react"),{actorID:this.state.actorID,livingRoomID:this.props.livingRoomID,currentItemID:this.$7(),isPlayingLiveVideo:this.state.isPlayingLiveVideo,getCurrentVideoTime:this.getCurrentVideoTime}),this.$20(),a?b("React").jsx(b("LivingRoomCallAudio.react"),{onRemoteUsersAdded:this.$21,onRemoteUsersDeleted:this.$22}):null]})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:j!==void 0?j:j=b("LivingRoomPresenceTray_livingRoom.graphql")})}),null);
__d("LivingRoomInviteAreaRow.react",["ix","cx","fbt","Image.react","InlineBlock.react","Layout.react","LivingRoomInviteMutation","LivingRoomStore","LivingRoomStyleKeys","LivingRoomTypedLogger","React","XUIButton.react","asset","immutable","qex"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=i._("Invite"),d.$2=i._("Invited"),d.$3=i._("Send"),d.$4=i._("Sent"),d.$6=function(a){d.props.addInvitedFriend(d.props.profile.id);b("LivingRoomInviteMutation").commit({living_room_id:d.props.livingRoomID,recipient_ids:[d.props.profile.id],sender_id:b("LivingRoomStore").getActorID(d.props.livingRoomID),send_in_messenger:d.$5()});a=d.$5()?"click_send_in_messenger":"click_send_invite";new(b("LivingRoomTypedLogger"))().setLivingRoomID(d.props.livingRoomID).setLivingRoomAction(a).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$5=function(){return this.props.style===b("LivingRoomStyleKeys").USER&&b("qex")._("708209")};d.$7=function(){var a=this.$5()?b("React").jsx(b("Image.react"),{src:g("501141")}):b("React").jsx(b("Image.react"),{src:g("642473")});return b("React").jsx(b("XUIButton.react"),{className:"_71u9",image:a,label:this.$5()?this.$3:this.$1,onClick:this.$6})};d.$8=function(){var a=b("React").jsx(b("Image.react"),{src:g("494033")});return b("React").jsx(b("XUIButton.react"),{className:"_71u9",disabled:!0,image:a,label:this.$5()?this.$4:this.$2})};d.$9=function(){var a=this.props.invitedFriends.contains(this.props.profile.id);return a?this.$8():this.$7()};d.$10=function(){return this.props.style!==b("LivingRoomStyleKeys").USER||!b("qex")._("700352")?null:this.props.profile.is_active_on_messenger===!0?b("React").jsx("span",{"aria-label":i._("Active Now"),className:"_71ua"}):null};d.render=function(){var a;return(a=b("React")).jsx("li",{className:"_71ub",children:a.jsxs(b("Layout.react"),{children:[a.jsx(j,{children:a.jsx(b("InlineBlock.react"),{alignv:"middle",height:55,children:a.jsx(b("Image.react"),{className:"_71uc",src:this.props.profile.profile_picture.uri})})}),a.jsx(k,{children:a.jsxs(b("InlineBlock.react"),{alignv:"middle",height:55,children:[this.props.profile.name,this.$10()]})}),a.jsx(j,{children:a.jsx(b("InlineBlock.react"),{alignv:"middle",height:55,children:this.$9()})})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomInviteFriendsSearchResults.react",["InfiniteScroll.react","LivingRoomConstants","LivingRoomTypeUtils","React","RelayModern","immutable","LivingRoomInviteFriendsSearchResults_viewer.graphql","LivingRoomInviteFriendsSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$1=function(){if(!d.props.relay.hasMore()||d.props.relay.isLoading())return;d.setState({isLoading:!0});d.props.relay.loadMore(b("LivingRoomConstants").INVITE_FRIENDS_RESULTS_PER_EXTRA_PAGE,function(a){d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;a=(a=this.props.viewer)==null?void 0:(a=a.account_user)==null?void 0:(a=a.friends)==null?void 0:a.edges;if(a==null)return this.props.renderLoading();a=this.props.renderResults(b("LivingRoomTypeUtils").convertProfiles(a),this.props.invitedFriends);return b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$1,distanceToEnd:1,children:[a,this.state.isLoading?this.props.renderLoading():null]})};return c}(b("React").Component);e.exports=a(c,{viewer:g!==void 0?g:g=b("LivingRoomInviteFriendsSearchResults_viewer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.viewer)!=null?(a=a.account_user)!=null?a.friends:a:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){var d=a.searchQuery;a=a.livingRoomID;var e=b.count;b=b.cursor;c=c.orderby;return{orderby:c,searchQuery:d,count:e,cursor:b,livingRoomID:a}},query:h!==void 0?h:h=b("LivingRoomInviteFriendsSearchResultsPaginationQuery.graphql")})}),null);
__d("LivingRoomInviteGroupSearchResults.react",["InfiniteScroll.react","LivingRoomConstants","LivingRoomTypeUtils","React","RelayModern","immutable","LivingRoomInviteGroupSearchResults_group.graphql","LivingRoomInviteGroupSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$1=function(){if(!d.props.relay.hasMore()||d.props.relay.isLoading())return;d.setState({isLoading:!0});d.props.relay.loadMore(b("LivingRoomConstants").INVITE_FRIENDS_RESULTS_PER_EXTRA_PAGE,function(a){d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;a=(a=this.props.group)==null?void 0:(a=a.group_member_profiles)==null?void 0:a.edges;if(a==null)return this.props.renderLoading();a=this.props.renderResults(b("LivingRoomTypeUtils").convertProfiles(a),this.props.invitedFriends);return b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$1,distanceToEnd:1,children:[a,this.state.isLoading?this.props.renderLoading():null]})};return c}(b("React").Component);e.exports=a(c,{group:g!==void 0?g:g=b("LivingRoomInviteGroupSearchResults_group.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.group)!=null?a.group_member_profiles:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){var d=a.searchQuery;a=a.livingRoomID;var e=b.count;b=b.cursor;c=c.groupID;return{groupID:c,searchQuery:d,count:e,cursor:b,livingRoomID:a}},query:h!==void 0?h:h=b("LivingRoomInviteGroupSearchResultsPaginationQuery.graphql")})}),null);
__d("LivingRoomInviteArea.react",["ix","cx","fbt","ErrorBoundary.react","FBLogger","Image.react","InlineBlock.react","Layout.react","Link.react","LivingRoomInviteAreaRow.react","LivingRoomInviteFriendsSearchResults.react","LivingRoomInviteGroupSearchResults.react","LivingRoomStyleKeys","LivingRoomTypedLogger","React","RelayFBEnvironment","RelayModern","XUISpinner.react","XUITextInput.react","asset","immutable","qex","LivingRoomInviteAreaGroupQuery.graphql","LivingRoomInviteAreaFriendQuery.graphql","LivingRoomInviteArea_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k,l,m=b("RelayModern").QueryRenderer;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var n=b("Layout.react").Column,o=b("Layout.react").FillColumn;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={invitedFriends:b("immutable").List(),query:""},d.$1=i._("No results found"),d.$2=i._("Loading"),d.$3=i._("Search by name"),d.$5=function(a){d.setState({query:a.target.value})},d.$9=function(a){var b=d.state.invitedFriends;d.setState({invitedFriends:b.push(a)})},d.$10=function(a){a=a.filter(function(a){var b;return a.id!==((b=d.props.livingRoom.creator)==null?void 0:b.id)&&a.id!==d.props.selfID});return a.size===0?b("React").jsx("div",{className:"_71u7",children:d.$1}):b("React").jsx("ul",{children:a.map(function(a,c){return b("React").jsx(b("LivingRoomInviteAreaRow.react"),{addInvitedFriend:d.$9,invitedFriends:d.state.invitedFriends,livingRoomID:d.props.livingRoomID,profile:a,style:(a=d.props.livingRoom.living_room_style)!=null?a:b("LivingRoomStyleKeys").DEFAULT},c)})})},d.$11=function(){return b("React").jsxs("div",{className:"_71u7",children:[b("React").jsx(b("XUISpinner.react"),{className:"_71u8",size:"large"}),d.$2]})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.setState({query:""})};d.$4=function(a,c){b("FBLogger")("living_room").catching(a).mustfix("An error happened in invite friends area")};d.$6=function(){return this.state.query?this.state.query:null};d.$7=function(){return this.props.livingRoomID};d.$8=function(){var a=["communication"];this.props.livingRoom.living_room_style===b("LivingRoomStyleKeys").USER&&b("qex")._("700351")&&a.unshift("active_on_messenger_first");return a};d.$12=function(){var a=this;return this.props.livingRoom.share_uri==null||!this.props.showShareButton?null:b("React").jsx(b("Link.react"),{className:"_71oq",href:this.props.livingRoom.share_uri,onClick:function(){new(b("LivingRoomTypedLogger"))().setLivingRoomID(a.props.livingRoomID).setLivingRoomAction("click_share_living_room").log()},rel:"dialog","data-ft":this.props.feedTrackingData,children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(n,{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:55,children:b("React").jsx("div",{className:"_71os",children:b("React").jsx(b("Image.react"),{className:"_71ot",src:g("369453")})})})}),b("React").jsx(o,{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:55,children:i._("Share Watch Party as a post")})}),b("React").jsx(n,{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:55,children:b("React").jsx(b("Image.react"),{src:g("377599")})})})]})})};d.render=function(){var a=this,c,d=(c=this.props.livingRoom.profile)==null?void 0:c.groupID;return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:this.$4,children:b("React").jsx(m,{environment:b("RelayFBEnvironment"),query:d!=null?j!==void 0?j:j=b("LivingRoomInviteAreaGroupQuery.graphql"):k!==void 0?k:k=b("LivingRoomInviteAreaFriendQuery.graphql"),variables:{orderby:this.$8(),groupID:d,searchQuery:this.$6(),livingRoomID:this.$7()},render:function(c){var e=c.error;c=c.props;var f=!e&&c&&c.viewer?c.viewer:null;e=!e&&c&&c.group?c.group:null;c=d!=null?b("React").jsx(b("LivingRoomInviteGroupSearchResults.react"),{renderResults:a.$10,renderLoading:a.$11,searchQuery:a.$6(),group:e,invitedFriends:a.state.invitedFriends,livingRoomID:a.$7()}):b("React").jsx(b("LivingRoomInviteFriendsSearchResults.react"),{renderResults:a.$10,renderLoading:a.$11,searchQuery:a.$6(),viewer:f,invitedFriends:a.state.invitedFriends,livingRoomID:a.$7()});return b("React").jsxs("div",{className:a.props.className,children:[b("React").jsx("div",{className:"_71ou",children:b("React").jsx(b("XUITextInput.react"),{className:"_71ow",placeholder:a.$3,value:a.state.query,onChange:a.$5})}),a.$12(),b("React").jsx("div",{className:"_71ox",children:c})]})}})})};return c}(b("React").Component);e.exports=a(c,{livingRoom:l!==void 0?l:l=b("LivingRoomInviteArea_livingRoom.graphql")})}),null);
__d("LivingRoomInviteDefaultStatePane.react",["ix","cx","fbt","FluxContainer","Image.react","LeftRight.react","Link.react","LivingRoomInviteArea.react","LivingRoomStore","LivingRoomTypedLogger","React","SUIBusinessTheme","SUICloseButton.react","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={canViewerShare:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerShare,feedTrackingData:b("LivingRoomStore").getFeedTracking(d.props.livingRoomID),selfID:b("LivingRoomStore").getSelf(d.props.livingRoomID).profile.id},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{canViewerShare:b("LivingRoomStore").getPermissions(c.livingRoomID).canViewerShare,feedTrackingData:b("LivingRoomStore").getFeedTracking(c.livingRoomID),selfID:b("LivingRoomStore").getSelf(c.livingRoomID).profile.id})};var d=c.prototype;d.$1=function(){var a=this;return this.props.livingRoom.share_uri==null||!this.state.canViewerShare?null:b("React").jsx(b("Link.react"),{className:"_71oq",href:this.props.livingRoom.share_uri,onClick:function(){new(b("LivingRoomTypedLogger"))().setLivingRoomID(a.props.livingRoomID).setLivingRoomAction("click_share_living_room").log()},rel:"dialog","data-ft":this.state.feedTrackingData,children:b("React").jsx(b("XUIButton.react"),{className:"_om0",image:b("React").jsx(b("Image.react"),{src:g("533719")}),label:i._("Share"),use:"default"})})};d.render=function(){var a=this.props,c=a.livingRoom;a=a.livingRoomID;var d=b("React").jsx("div",{className:"_71op",children:i._("Invite Others")});return b("React").jsxs("div",{className:"_71u6",children:[this.props.onDismiss==null?b("React").jsxs(b("LeftRight.react"),{children:[d,this.$1()]}):b("React").jsxs(b("LeftRight.react"),{children:[d,b("React").jsx(b("SUICloseButton.react"),{theme:b("SUIBusinessTheme"),size:"small",onClick:this.props.onDismiss})]}),b("React").jsx(b("LivingRoomInviteArea.react"),{className:"_748p",feedTrackingData:this.state.feedTrackingData,livingRoom:c,livingRoomID:a,selfID:this.state.selfID,showShareButton:!1})]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LivingRoomManageParticipantsDialogBodyRow.react",["ix","cx","fbt","FDSText.react","Image.react","InlineBlock.react","Layout.react","Link.react","LivingRoomActions","LivingRoomPromoteHostMutation","LivingRoomRevokeHostMutation","LivingRoomStore","React","XUIButton.react","XVanityURLController","asset"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){b("LivingRoomActions").promoteUser(this.props.livingRoomID,a),b("LivingRoomPromoteHostMutation").commit({living_room_id:this.props.livingRoomID,user_id:a})};d.$2=function(a){b("LivingRoomActions").demoteUser(this.props.livingRoomID,a),b("LivingRoomRevokeHostMutation").commit({living_room_id:this.props.livingRoomID,user_id:a})};d.$3=function(a){return!b("LivingRoomStore").getPermissions(this.props.livingRoomID).canViewerGrantCohost||!a.can_user_be_granted_temporary_host&&!a.can_user_be_revoked_temporary_host?null:this.props.isPromoted?this.$4(a):this.$5(a)};d.$5=function(a){var c=this;return b("React").jsx(b("XUIButton.react"),{className:"_om0",image:b("React").jsx(b("Image.react"),{src:g("541612")}),label:i._("Co-host"),onClick:function(){return c.$1(a.profile.id)},use:"default"})};d.$4=function(a){var c=this;return b("React").jsx(b("XUIButton.react"),{className:"_om0",image:b("React").jsx(b("Image.react"),{src:g("789225")}),label:i._("Co-Host"),onClick:function(){return c.$2(a.profile.id)},use:"default"})};d.render=function(){var a,c=this.props.participant;return(a=b("React")).jsx("div",{className:"_3-8m _3-8u",children:a.jsx("li",{className:"_71ub",children:a.jsxs(b("Layout.react"),{children:[a.jsx(j,{children:a.jsx(b("InlineBlock.react"),{alignv:"middle",height:55,children:a.jsx(b("Image.react"),{className:"_71uc",src:c.profile.profile_picture.uri})})}),a.jsx(k,{children:a.jsx(b("InlineBlock.react"),{alignv:"middle",height:55,children:a.jsx(b("Link.react"),{href:b("XVanityURLController").getURIBuilder().setString("vanity",c.profile.id).getURI(),children:a.jsx(b("FDSText.react"),{size:"body3",weight:"bold",color:"blueLink",children:c.profile.name})})})}),a.jsx(j,{children:a.jsx(b("InlineBlock.react"),{alignv:"middle",height:55,children:this.$3(c)})})]})})},c.profile.id)};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomManageParticipantsList.react",["cx","InfiniteScroll.react","LivingRoomActions","LivingRoomConstants","LivingRoomManageParticipantsDialogBodyRow.react","LivingRoomTypeUtils","React","RelayModern","XUISpinner.react","immutable","LivingRoomManageParticipantsList_living_room.graphql","LivingRoomManageParticipantsListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1},d.$1=function(){if(!d.props.relay.hasMore()||d.props.relay.isLoading())return;d.setState({isLoading:!0});d.props.relay.loadMore(b("LivingRoomConstants").PARTICIPANTS_PAGE_SIZE,function(a){d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this;if(!this.props.living_room||!this.props.living_room.participants||!this.props.living_room.participants.edges)return b("React").jsx(b("XUISpinner.react"),{background:"dark",className:"_4i1q",size:"large"});var c=b("LivingRoomTypeUtils").convertParticipants(this.props.living_room.participants.edges),d=this.state.isLoading?b("React").jsx("div",{className:"_4i1s",children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})}):null;if(this.props.promotedUsers===null){var e=c.filter(function(a){return a.can_user_be_revoked_temporary_host&&!a.can_user_be_granted_temporary_host}).map(function(a){return a.profile.id});b("LivingRoomActions").initPromotedUsers(this.props.livingRoomID,e.toSet())}var f={},g=[];c.forEach(function(c){var d=c;c=!!a.props.promotedUsers&&a.props.promotedUsers.includes(c.profile.id);f[d.profile.id]||(g.push(b("React").jsx(b("LivingRoomManageParticipantsDialogBodyRow.react"),{isPromoted:c,livingRoomID:a.props.livingRoomID,participant:d},d.profile.id)),f[d.profile.id]=!0)});return b("React").jsxs(b("InfiniteScroll.react"),{onEndReached:this.$1,distanceToEnd:1,children:[g,d]})};return c}(b("React").Component);e.exports=a(c,{living_room:h!==void 0?h:h=b("LivingRoomManageParticipantsList_living_room.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.living_room)!=null?a.participants:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,id:c.id}},query:i!==void 0?i:i=b("LivingRoomManageParticipantsListPaginationQuery.graphql")})}),null);
__d("LivingRoomManageParticipantsDialogBody.react",["cx","LivingRoomManageParticipantsList.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","immutable","LivingRoomManageParticipantsDialogBodyQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(i,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("LivingRoomManageParticipantsDialogBodyQuery.graphql"),render:function(c){c.error;c=c.props;return!c||!c.living_room?b("React").jsx(b("XUISpinner.react"),{background:"dark",className:(a.props.inSidePane?"":"_4i1q")+(a.props.inSidePane?" _7h19":""),size:"large"}):b("React").jsx(b("LivingRoomManageParticipantsList.react"),{livingRoomID:a.props.livingRoomID,living_room:c.living_room,promotedUsers:a.props.promotedUsers})},variables:{id:this.props.livingRoomID}})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomInvitePane.react",["cx","fbt","FluxContainer","LivingRoomActionPaneAnimationContainer.react","LivingRoomActions","LivingRoomInviteArea.react","LivingRoomManageParticipantsDialogBody.react","LivingRoomSidePaneHeader.react","LivingRoomStore","LivingRoomTypeValues","React","immutable"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("LivingRoomTypeValues").SidePaneTypeValue;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={canViewerInvite:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerInvite,canViewerShare:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerShare,feedTrackingData:b("LivingRoomStore").getFeedTracking(d.props.livingRoomID),promotedUsers:b("LivingRoomStore").getPromotedUsers(d.props.livingRoomID),selfID:b("LivingRoomStore").getSelf(d.props.livingRoomID).profile.id},d.$1=function(){b("LivingRoomActions").setActiveSidePane(d.props.livingRoomID,i.DEFAULT)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{canViewerInvite:(a=b("LivingRoomStore")).getPermissions(c.livingRoomID).canViewerInvite,canViewerShare:a.getPermissions(c.livingRoomID).canViewerShare,feedTrackingData:a.getFeedTracking(c.livingRoomID),promotedUsers:a.getPromotedUsers(c.livingRoomID),selfID:a.getSelf(c.livingRoomID).profile.id})};var d=c.prototype;d.$2=function(){return b("React").jsx(b("LivingRoomManageParticipantsDialogBody.react"),{livingRoomID:this.props.livingRoomID,promotedUsers:this.state.promotedUsers,inSidePane:!0})};d.$3=function(){return b("React").jsx(b("LivingRoomInviteArea.react"),{className:"_7luj",feedTrackingData:this.state.feedTrackingData,livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,selfID:this.state.selfID,showShareButton:this.state.canViewerShare})};d.render=function(){var a=this.props.showCohostSection?h._("Who's here"):h._("Invite others");return b("React").jsx(b("LivingRoomActionPaneAnimationContainer.react"),{livingRoomID:this.props.livingRoomID,badgeText:this.props.livingRoom.badge_text,children:b("React").jsxs("div",{className:"_7fj-",children:[b("React").jsx("div",{className:"_7fj_",children:b("React").jsx(b("LivingRoomSidePaneHeader.react"),{title:a,linkTitle:h._("Close"),onLinkClick:this.$1,backButton:!0,onBackClick:this.$1})}),this.props.showCohostSection?this.$2():this.$3()]})})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LivingRoomVideoItem.react",["ix","cx","fbt","ActionList.react","Badge.react","FlexLayout.react","Image.react","ImageBlock.react","InlineBlock.react","Link.react","LiveVideoBadge.react","PopoverMenu.react","React","ReactXUIMenu","ScaledImage.react","VideoBroadcastStatus","VideoDuration.react","asset"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=90,k=160;function a(a){__p&&__p();var c,d,e,f,h=a.children,l=a.creatorName,m=a.imgHeight,n=a.imgWidth,o=a.isCondensed,p=a.isSuggested,q=a.onClickPageName,r=a.thumbnailPopoverMenu,s=a.video;if((f=s)!=null?f.is_spherical:f)return null;f=null;l&&(f=p?b("React").jsx("span",{children:i._("Suggested by {Creator name}",[i._param("Creator name",l)])}):b("React").jsx("span",{children:i._("From {Creator name}",[i._param("Creator name",l)])}));l=(p=s)!=null?(p=p.preferred_thumbnail)!=null?(p=p.image)!=null?p.width:p:p:p;p=(p=s)!=null?(p=p.preferred_thumbnail)!=null?(p=p.image)!=null?p.height:p:p:p;e=(e=s)!=null?(e=e.preferred_thumbnail)!=null?(e=e.image)!=null?e.uri:e:e:e;if(e===null){var t;l=(t=s)!=null?(t=t.image)!=null?t.width:t:t;p=(t=s)!=null?(t=t.image)!=null?t.height:t:t;e=(t=s)!=null?(t=t.image)!=null?t.uri:t:t}t=(t=s)!=null?(t=t.owner)!=null?t.name:t:t;d=s.name||((d=s)!=null?(d=d.message)!=null?d.text:d:d);c=(c=s)!=null?(c=c.owner)!=null?(c=c.logo_for_show)!=null?c.uri:c:c:c;var u=null;a.premiereLivingRoomBadgeText?u=b("React").jsxs(b("FlexLayout.react"),{className:"_73ns",align:"center",children:[b("React").jsx(b("Image.react"),{src:g("570657")}),b("React").jsx("span",{className:"_73nt",children:a.premiereLivingRoomBadgeText})]}):s.broadcast_status===b("VideoBroadcastStatus").LIVE?u=b("React").jsx(b("LiveVideoBadge.react"),{position:"bottomRight"}):s.playable_duration&&(u=b("React").jsx(b("VideoDuration.react"),{duration:s.playable_duration}));s=(s=s)!=null?(s=s.owner)!=null?s.is_verified:s:s;s=s?b("React").jsx(b("Badge.react"),{size:"xsmall",type:"verified"}):null;m=b("React").jsx(b("ScaledImage.react"),{height:m||j,imageSize:{height:p||j,width:l||k},src:e,width:n||k});p=c&&!o&&b("React").jsx(b("Image.react"),{className:"_2niq",src:c});l=r||b("React").jsx(b("ReactXUIMenu"),{});e=r?b("React").jsxs(b("PopoverMenu.react"),{className:"_4cxi",menu:l,children:[m,b("React").jsxs("div",{className:"_2niu",children:[p,u]})]}):b("React").jsxs("div",{className:"_4cxi",children:[m,b("React").jsxs("div",{className:"_2niu",children:[p,u]})]});n=q?b("React").jsx(b("Link.react"),{onClick:q,children:t}):t;c=b("React").jsx("div",{className:"_6_sg _1k_6",children:d});r=o?b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:86,children:b("React").jsxs("div",{className:"_6_sh",children:[c,a.premiereVideoDescription?a.premiereVideoDescription:b("React").jsxs(b("React").Fragment,{children:[b("React").jsxs("div",{className:"_6-gr"+(s!=null?" _7w65":""),children:[b("React").jsx("div",{className:"_6_sg",children:n}),s]}),b("React").jsx("div",{className:"_6_sg _6-gr",children:f})]})]})}):b("React").jsxs("div",{children:[c,a.premiereVideoDescription?b("React").jsx("div",{className:"_6-gr",children:a.premiereVideoDescription}):b("React").jsx("div",{className:"_2lea",children:b("React").jsxs(b("ActionList.react"),{children:[b("React").jsxs("span",{children:[n,s]}),f]})}),b("React").jsx("div",{className:"_1k_e",children:h})]});return b("React").jsx("div",{className:"_2b6j"+(a.disabled?" _68x0":"")+(a.isAutoPlay?" _8sy_":""),children:b("React").jsxs(b("ImageBlock.react"),{children:[e,r]})})}e.exports=a}),null);
__d("LivingRoomSidePaneContentItem.react",["cx","fbt","AsyncDialog","AsyncRequest","ContextualDialogArrow","FluxContainer","FRXURI","LivingRoomContentItemType","LivingRoomContentQueueUtils","LivingRoomSecondScreenItem.react","LivingRoomStore","LivingRoomVideoItem.react","PopoverMenu.react","React","ReactXUIMenu","URI","XUIMenuSeparator.react","nullthrows","keyMirror"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("ReactXUIMenu").Item,k=b("keyMirror")(b("LivingRoomContentItemType"));a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showHostControls:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerPlayContent,currentlyPlayingContentItem:b("LivingRoomStore").getCurrentContentItem(d.props.livingRoomID)},d.onPlayNow=function(){var a=d.props,c=a.contentItem;a=a.livingRoomID;b("LivingRoomContentQueueUtils").playContentItem(a,c.id)},d.onReportItemClick=function(){var a=d.props.contentItem;a=(a=a.video)==null?void 0:a.id;a=b("FRXURI").withEntReportable({reportable_ent_token:a,story_location:"living_room"});b("AsyncDialog").send(new(b("AsyncRequest"))(a))},d.onRemoveFromQueue=function(){var a=d.props,c=a.contentItem;a=a.livingRoomID;b("LivingRoomContentQueueUtils").removeContentItemWithMessage(a,c.id,(a=c.video)==null?void 0:a.id,"up_next")},d.onOpenInNewTab=function(){var a=d.props.contentItem;if(!a.video)return;window.open(new(i||(i=b("URI")))("/"+a.video.id))},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{showHostControls:b("LivingRoomStore").getPermissions(c.livingRoomID).canViewerPlayContent,currentlyPlayingContentItem:b("LivingRoomStore").getCurrentContentItem(c.livingRoomID)})};var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.contentItem,d=a.imgHeight;a=a.imgWidth;var e=this.state,f=e.showHostControls;e=e.currentlyPlayingContentItem;e=((e=e)!=null?e.id:e)===c.id;var g=!e&&f?b("React").jsx(j,{onClick:this.onPlayNow,children:h._("Play Now")},"playNowOption"):null;e=!e&&f&&!c.badge_text?b("React").jsx(j,{onClick:this.onRemoveFromQueue,children:h._("Remove from Queue")},"removeFromQueue"):null;f=b("React").jsx(j,{onClick:this.onOpenInNewTab,children:h._("Open Video in New Tab")},"newTabOption");var i=b("React").jsx(j,{onClick:this.onReportItemClick,children:h._("Report Video")},"reportVideoOption"),l=c.video===null&&c.content_item_type!==k.SECOND_SCREEN;g=[g,e,f,i].filter(function(a){return a!==null}).reduce(function(a,c,d){return[a,b("React").jsx(b("XUIMenuSeparator.react"),{},"separator"+d),c]});e=b("React").jsx(b("ReactXUIMenu"),{children:g});f=c.creator?c.creator.name:null;g=c.video===null?c.content_item_type===k.SECOND_SCREEN&&c.second_screen_content!=null?b("React").jsx(b("LivingRoomSecondScreenItem.react"),{creatorName:f,imgHeight:d,imgWidth:a,secondScreenContent:b("nullthrows")(c.second_screen_content)}):b("React").jsx("div",{className:"_75l1",children:b("React").jsx("div",{className:"_2k1w",children:(i=c.restriction_message)==null?void 0:i.text})}):b("React").jsx(b("LivingRoomVideoItem.react"),{creatorName:f,imgHeight:d,imgWidth:a,video:b("nullthrows")(c.video),isCondensed:!0,premiereLivingRoomBadgeText:c.badge_text,isAutoPlay:c.is_auto_played&&this.props.autoPlayV2Eligible});return l?b("React").jsx("div",{className:"_64p9",children:g}):b("React").jsx("div",{className:"_64p9 _8u1d",children:b("React").jsx(b("PopoverMenu.react"),{alignh:"right",alignv:"baseline",className:"_6-h-",layerBehaviors:[b("ContextualDialogArrow")],menu:e,children:g})})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LivingRoomNowPlayingPaneCard.react",["ix","cx","fbt","FluxContainer","Image.react","LeftRight.react","LivingRoomContentItemType","LivingRoomContentQueueLink.react","LivingRoomSidePaneContentItem.react","LivingRoomStore","React","RelayModern","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","asset","immutable","keyMirror","LivingRoomNowPlayingPaneCard_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=b("keyMirror")(b("LivingRoomContentItemType"));c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={carouselIndex:0,contentQueue:b("LivingRoomStore").getContentQueue(d.props.livingRoomID),currentContentItem:b("LivingRoomStore").getCurrentContentItem(d.props.livingRoomID)},d.$2=function(){d.setState(function(a){if(d.$1){var b=d.$1.getItemCount(),c=a.carouselIndex+1;return c===b?{carouselIndex:a.carouselIndex}:{carouselIndex:a.carouselIndex+1}}return{carouselIndex:a.carouselIndex}},function(){d.$1&&d.$1.next()})},d.$3=function(){d.setState(function(a){if(d.$1){var b=a.carouselIndex-1;return b<0?{carouselIndex:a.carouselIndex}:{carouselIndex:a.carouselIndex-1}}return{carouselIndex:a.carouselIndex}},function(){d.$1&&d.$1.prev()})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){var d=b("LivingRoomStore").getContentQueue(c.livingRoomID);c=b("LivingRoomStore").getCurrentContentItem(c.livingRoomID);var e=d;c&&(e=e.unshift(c));return babelHelpers["extends"]({},a,{contentQueue:d,currentContentItem:c,carouselIndex:!a||a.carouselIndex===e.size?0:a.carouselIndex})};var d=c.prototype;d.$4=function(){var a=this,c=this.state,d=c.contentQueue;c=c.currentContentItem;d=d;c&&(c.content_item_type===k.REGULAR_VIDEO||c.content_item_type===k.SECOND_SCREEN||c.content_item_type===k.SOTTO_VIDEO)&&(d=d.unshift(c));c=d.map(function(c,d){return b("React").jsx(b("XUICarouselItem.react"),{children:b("React").jsx(b("LivingRoomSidePaneContentItem.react"),{contentItem:c,livingRoomID:a.props.livingRoomID,imgHeight:86,imgWidth:135,autoPlayV2Eligible:(c=(c=a.props.livingRoom)==null?void 0:c.auto_play_v2_eligible)!=null?c:!1})},d)}).toArray();return b("React").jsx(b("XUICarousel.react"),{animator:new(b("XUICarouselAnimator"))({centered:c.length===1,firstAndLastAligned:c.length>=2,type:"horizontal"}),initialIndex:0,initialAutoplay:!1,resetInitialIndex:!0,resizeViewport:"disabled",wrapAround:!1,viewportHeight:87,ref:function(b){return a.$1=b},arrows:[b("React").jsx(b("XUICarouselArrow.react"),{onClick:this.$3,children:b("React").jsx(b("Image.react"),{src:g("514569")})}),b("React").jsx(b("XUICarouselArrow.react"),{onClick:this.$2,children:b("React").jsx(b("Image.react"),{src:g("514570")})})],children:c})};d.render=function(){return b("React").jsxs("div",{children:[b("React").jsxs(b("LeftRight.react"),{className:"_4tgd",children:[b("React").jsx("div",{className:"_6zz_",children:this.state.carouselIndex===0&&(!this.state.currentContentItem||this.state.currentContentItem.content_item_type===k.REGULAR_VIDEO||this.state.currentContentItem.content_item_type===k.SECOND_SCREEN||this.state.currentContentItem.content_item_type===k.SOTTO_VIDEO)?i._("Now Playing"):i._("Up Next")}),b("React").jsx("span",{className:"_64ra",children:b("React").jsx(b("LivingRoomContentQueueLink.react"),{isSessionEnded:this.props.livingRoom.is_active===!1,livingRoomID:this.props.livingRoomID})})]}),this.state.currentContentItem?b("React").jsx("div",{className:"_6zze",children:this.$4()}):b("React").jsx("div",{className:"_2jyv _2a5o",children:b("React").jsx("div",{className:"_2k1w",children:this.props.livingRoom.badge_text!=null?i._("No video is playing."):i._("Add videos to start watching.")})})]})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:j!==void 0?j:j=b("LivingRoomNowPlayingPaneCard_livingRoom.graphql")})}),null);
__d("LivingRoomPendingPostPreview.react",["cx","FDSText.react","Image.react","ProfileTile.react","React","RelayModern","Timestamp.react","TooltipData","formatDate","LivingRoomPendingPostPreview_livingRoom.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c,d,e,f;a=a.livingRoom;c=b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:"_6zzu",src:(c=a.privacy)==null?void 0:(c=c.icon_image)==null?void 0:c.uri},b("TooltipData").propsFor((c=a.privacy)==null?void 0:c.description,"above","center")));d=b("React").jsx(b("Timestamp.react"),{shorten:!0,text:b("formatDate")(a==null?void 0:(d=a.creation_story)==null?void 0:d.creation_time,"F j, Y"),time:a==null?void 0:(d=a.creation_story)==null?void 0:d.creation_time,useTooltip:!0});e=(e=a.creator)==null?void 0:e.id;e=e==null?null:b("React").jsx(b("ProfileTile.react"),{id:e,size:48,imageProps:{className:"_7y0y",src:(e=a.creator)==null?void 0:(e=e.profile_picture)==null?void 0:e.uri}});f=(f=a.group)==null?void 0:f.name;return b("React").jsxs("div",{className:"_7y0z",children:[b("React").jsxs("div",{className:"_7y0-",children:[e,b("React").jsxs("div",{className:"_7y0_",children:[b("React").jsx("div",{className:"_7fk0",children:(e=a.creator)==null?void 0:e.name}),b("React").jsxs(b("FDSText.react"),{size:"body3",color:"secondary",children:[f," \xb7 ",d," \xb7 ",c]})]})]}),b("React").jsx("div",{className:"_7y11",children:(e=a.creation_story)==null?void 0:(f=e.message)==null?void 0:f.text})]})}e.exports=c(a,{livingRoom:h!==void 0?h:h=b("LivingRoomPendingPostPreview_livingRoom.graphql")})}),null);
__d("LivingRoomSystemActionCard.react",["ix","cx","FlexLayout.react","Image.react","Link.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=a.href,d=a.onClickAction,e=a.actionText;a=a.iconName;if(c===null&&d===null)return null;a=i(a);a=b("React").jsxs(b("FlexLayout.react"),{direction:"horizontal",justify:"center",children:[b("React").jsx("div",{className:"_8lnk",children:a}),b("React").jsx("div",{className:"_8lnl",children:e})]});e=c!==null?b("React").jsx(b("Link.react"),{className:"_8lnm",href:c,rel:"dialog",children:a}):b("React").jsx("div",{className:"_8lnn",tabIndex:"0",role:"link",onClick:d,children:a});return b("React").jsx(b("FlexLayout.react"),{direction:"vertical",align:"center",children:e})}function i(a){switch(a){case"share":return b("React").jsx(b("Image.react"),{src:g("590365")})}}e.exports=a}),null);
__d("LivingRoomVideoAttachmentCard.react",["cx","LineClamp.react","React","ScaledImage.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c,d=a.height,e=a.onClickAttachment,f=a.subtitle,g=a.thumbnailHeight,h=a.thumbnailURI,i=a.thumbnailWidth,j=a.title;a=a.width;g=(c=b("React")).jsx(b("ScaledImage.react"),{height:d,imageSize:{height:g,width:i},src:h,width:a});i=c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"_6v_e",children:g}),c.jsxs("div",{height:d,className:"_6v_f",children:[c.jsx(b("LineClamp.react"),{className:"_1k_6",lines:2,enableTooltipOnOverflow:!0,children:j}),c.jsx("div",{className:"_2lea",children:f})]})]});h=e?b("React").jsx("div",{className:"_6v_6 _6wte",role:"link",tabIndex:"0",onClick:e,children:i}):b("React").jsx("div",{className:"_6v_6",children:i});return b("React").jsx("div",{className:"_6w01",children:h})}e.exports=a}),null);
__d("LivingRoomVideoEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADDED_VIDEO:"ADDED_VIDEO",APPROVED_BY_ADMIN:"APPROVED_BY_ADMIN",CANCEL_AUTO_PLAY:"CANCEL_AUTO_PLAY",COMMENTATING_START:"COMMENTATING_START",COMMENTATING_STOP:"COMMENTATING_STOP",CREATOR_FIRST_JOINED:"CREATOR_FIRST_JOINED",DESCRIPTION_EDITED:"DESCRIPTION_EDITED",EMPTY_QUEUE:"EMPTY_QUEUE",ENABLED_AUTO_PLAY:"ENABLED_AUTO_PLAY",DISABLED_AUTO_PLAY:"DISABLED_AUTO_PLAY",GUEST_JOINED:"GUEST_JOINED",NON_GROUP_MEMBER_GUEST_JOINED:"NON_GROUP_MEMBER_GUEST_JOINED",PAUSED:"PAUSED",PLAY_AUTO_PLAYED_VIDEO:"PLAY_AUTO_PLAYED_VIDEO",PLAY_DIRECT:"PLAY_DIRECT",PLAY_FROM_QUEUE:"PLAY_FROM_QUEUE",PLAY_NEXT_AUTO:"PLAY_NEXT_AUTO",PLAY_START:"PLAY_START",PLAYING:"PLAYING",POLL_CREATE:"POLL_CREATE",POLL_VOTE_ADD:"POLL_VOTE_ADD",PROMOTED_COHOST:"PROMOTED_COHOST",QUEUE_ALMOST_EMPTIED:"QUEUE_ALMOST_EMPTIED",REMOVED_VIDEO:"REMOVED_VIDEO",REMOVED_VIDEO_WITH_PLAY:"REMOVED_VIDEO_WITH_PLAY",REPLAY_SYSTEM_MESSAGE:"REPLAY_SYSTEM_MESSAGE",REQUEST_COHOST_PROMOTION:"REQUEST_COHOST_PROMOTION",REVOKED_COHOST:"REVOKED_COHOST",SEEK_BACKWARD:"SEEK_BACKWARD",SEEK_FORWARD:"SEEK_FORWARD",SESSION_END:"SESSION_END",SESSION_START:"SESSION_START",SHOW_INVITE_ONLINE_FRIENDS_PROMPT:"SHOW_INVITE_ONLINE_FRIENDS_PROMPT",SHOW_SHARESHEET_PROMPT:"SHOW_SHARESHEET_PROMPT",SUGGESTED_VIDEO:"SUGGESTED_VIDEO",WAVE_SEND:"WAVE_SEND"})}),null);
__d("LivingRoomVideoStateMessage.react",["cx","React","TextWithEntities.react"],(function(a,b,c,d,e,f,g){function a(a){a=a.message;return b("React").jsx("div",{className:"_148x",children:b("React").jsx(b("TextWithEntities.react"),{inlineStyleRanges:a.inline_style_ranges,interpolator:function(a,c){return c.inline_style==="BOLD"?b("React").jsx("b",{children:a}):a},text:a.text})})}e.exports=a}),null);
__d("LivingRoomUFI.react",["csx","cx","Arbiter","DOM","DOMContainer.react","Event","LivingRoomActions","LivingRoomMessageSubscription","LivingRoomStore","LivingRoomSystemActionCard.react","LivingRoomTypedLogger","LivingRoomTypeUtils","LivingRoomTypeValues","LivingRoomVideoAttachmentCard.react","LivingRoomVideoEvent","LivingRoomVideoStateMessage.react","React","ReactDOM-fb","RelayFBEnvironment","ResizeListener","SubscriptionsHandler","UFILiveVideoAutoscrollHandler","UFINewCommentsPill.react","UFINewCommentsPillUtils","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LivingRoomTypeValues").SidePaneTypeValue;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$8=function(a){b("UFINewCommentsPillUtils").updateScrolledUp(a.target,d.props.config)},d.$5=function(){b("UFINewCommentsPillUtils").scrollToBottom(d.$2,d.props.config)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{children:[b("React").jsx(b("DOMContainer.react"),{display:"block",className:"_1qhj",children:this.props.ufiMarkup}),b("React").jsx(b("UFINewCommentsPill.react"),{instanceID:this.props.config.instanceid,onClick:this.$5})]})};d.componentDidMount=function(){__p&&__p();var a=this;this.$1=new(b("UFILiveVideoAutoscrollHandler"))();this.$6(!0);this.$3=b("DOM").find(this.props.ufiMarkup,"._1qhn");this.$2=b("DOM").find(this.props.ufiMarkup,"._1qho");var c=this.props.livingRoomID;this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(b("Arbiter").subscribe("ufi/commentChanged",function(b,c){c.ftentidentifier===a.props.config.ftentidentifier&&a.$6(!1)}),b("ResizeListener").add(function(){a.$6(!0)}),b("LivingRoomMessageSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(d){var e;if(!d)return;e=d==null?void 0:(e=d.living_room_message_subscribe)==null?void 0:e.living_room_message;var f=b("LivingRoomTypeUtils").convertMessage(e==null?void 0:e.text),g=e==null?void 0:e.video_event,h=b("LivingRoomTypeUtils").convertMessageVideoAttachments(e==null?void 0:e.attachments),i=b("LivingRoomTypeUtils").convertSystemAction(e==null?void 0:e.attachments);e=(e=d.living_room_message_subscribe)==null?void 0:(d=e.living_room_message)==null?void 0:d.live_commentating_delay_ms;c&&f&&(e&&e!==0&&b("gkx")("686625")?window.setTimeout(function(){return a.$7(c,g,f,h,i)},e):a.$7(c,g,f,h,i))}}),b("Event").listen(this.$2,"scroll",this.$8));window.setTimeout(function(){a.$6(!0)},0)};d.componentWillUnmount=function(){this.$4.release()};d.$7=function(a,c,d,e,f){__p&&__p();var g=this;if(a!==this.props.livingRoomID)return;var h=b("DOM").create("div");b("ReactDOM-fb").render(b("React").jsx(b("LivingRoomVideoStateMessage.react"),{message:d}),h);if(e!=null){d=null;switch(c){case"SUGGESTED_VIDEO":d=function(){b("LivingRoomActions").setAddVideoDialogTab(g.props.livingRoomID,"SUGGESTED"),b("LivingRoomActions").setActiveSidePane(g.props.livingRoomID,i.ADD_VIDEO)};break;case"ADDED_VIDEO":d=function(){b("LivingRoomActions").setActiveSidePane(g.props.livingRoomID,i.QUEUE)};break}var j=b("DOM").create("div");d=b("React").jsx(b("LivingRoomVideoAttachmentCard.react"),{height:60,onClickAttachment:d,subtitle:e.page_name,thumbnailURI:e.preferred_thumbnail.uri,thumbnailHeight:e.preferred_thumbnail.height,thumbnailWidth:e.preferred_thumbnail.width,title:e.video_title,width:85});b("ReactDOM-fb").render(d,j);h.append(j);this.$6(!0)}else if(f!=null){e=null;d=null;switch(c){case"SHOW_SHARESHEET_PROMPT":new(b("LivingRoomTypedLogger"))().setLivingRoomID(a).setLivingRoomAction("sharesheet_prompt_impression").log();j=b("LivingRoomStore").getPermissions(this.props.livingRoomID).canViewerInvite;j?d=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomID(a).setLivingRoomAction("sharesheet_prompt_click").log(),b("LivingRoomActions").setActiveSidePane(g.props.livingRoomID,i.INVITE)}:this.props.shareUri!==null&&(e=this.props.shareUri);break}if(e!==null||d!==null){c=b("DOM").create("div");j=b("React").jsx(b("LivingRoomSystemActionCard.react"),{href:e,onClickAction:d,actionText:f.action_text,iconName:f.icon_name});b("ReactDOM-fb").render(j,c);h.append(c);this.$6(!0)}}e=b("ReactDOM-fb").findDOMNode(this);d=b("DOM").scry(e,".UFILastComment");f=function(a){return a.classList.contains("UFILivePinnedComment")};if(d.length>0){j=d[0];while(j.nextSibling&&!f(j.nextSibling))j=j.nextSibling;b("DOM").insertAfter(j,h)}else{c=b("DOM").find(e,"._j6a");d=c.lastElementChild;b("DOM").insertBefore(d,h)}this.$6(!0)};d.$6=function(a){this.$2&&this.$1.manageScroll(this.$2,this.props.config,a)};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomUFIContainer.react",["cx","fbt","FluxContainer","LeftRight.react","Link.react","LivingRoomUFI.react","LivingRoomUFIActions","LivingRoomUFIStore","React","UFILivingRoomAutoTranslateToggle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={config:b("LivingRoomUFIStore").getConfig(d.props.livingRoomID),ufiMarkup:b("LivingRoomUFIStore").getUFIMarkup(d.props.livingRoomID),autoTranslateToggleParams:b("LivingRoomUFIStore").getAutoTranslateToggleParams(d.props.livingRoomID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomUFIStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{config:b("LivingRoomUFIStore").getConfig(c.livingRoomID),ufiMarkup:b("LivingRoomUFIStore").getUFIMarkup(c.livingRoomID),autoTranslateToggleParams:b("LivingRoomUFIStore").getAutoTranslateToggleParams(c.livingRoomID)})};var d=c.prototype;d.componentWillUnmount=function(){b("LivingRoomUFIActions").clearUFIParams(this.props.livingRoomID)};d.$1=function(){var a;switch(this.props.seeMoreButtonState){case"more":a=h._("See More");break;case"less":a=h._("See Less");break;default:return null}return b("React").jsx(b("Link.react"),{onClick:this.props.onSeeMoreOrLess,className:"_71_8",children:a})};d.render=function(){var a=this.state,c=a.config,d=a.ufiMarkup;a=a.autoTranslateToggleParams;if(!c||!d)return b("React").jsx("div",{});a=a?b("React").jsx(b("UFILivingRoomAutoTranslateToggle.react"),{contextArgs:a.contextArgs,shouldTranslateAllVisibleComments:a.shouldTranslateAllVisibleComments,showToggle:a.showToggle}):null;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsxs(b("LeftRight.react"),{className:"_6zzz"+(a?" _81yo":""),children:[h._("Comments"),this.$1()]}),a,b("React").jsx("div",{className:"_1zeh",children:b("React").jsx(b("LivingRoomUFI.react"),babelHelpers["extends"]({},this.props,{config:c,ufiMarkup:d}))})]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LivingRoomSidePane.react",["cx","FluxContainer","LivingRoomActionPaneAnimationContainer.react","LivingRoomAddVideoDialogContainer.react","LivingRoomBannerNotification.react","LivingRoomContentQueuePane.react","LivingRoomInviteDefaultStatePane.react","LivingRoomInvitePane.react","LivingRoomNowPlayingPaneCard.react","LivingRoomPendingPostPreview.react","LivingRoomSidePaneButtons.react","LivingRoomSidePaneTopBanner.react","LivingRoomStore","LivingRoomStyleKeys","LivingRoomTypeValues","LivingRoomUFIContainer.react","LivingRoomUFIHelper","React","RelayModern","LivingRoomSidePane_livingRoom.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("LivingRoomTypeValues").SidePaneTypeValue;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activePaneType:b("LivingRoomStore").getActiveSidePane(d.props.livingRoomID),showInviteDefaultState:b("LivingRoomStore").getShowInviteDefaultState(d.props.livingRoomID),expandedUFI:!1,feedTrackingData:b("LivingRoomStore").getFeedTracking(d.props.livingRoomID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{activePaneType:b("LivingRoomStore").getActiveSidePane(c.livingRoomID),feedTrackingData:b("LivingRoomStore").getFeedTracking(c.livingRoomID)})};var d=c.prototype;d.componentDidUpdate=function(a){a.livingRoom.is_pending_group_admin_approval===!0&&this.props.livingRoom.is_pending_group_admin_approval===!1&&b("LivingRoomUFIHelper").loadUFI(this.props.livingRoomID,b("LivingRoomStore").getNullableActorID(this.props.livingRoomID),!0)};d.$1=function(){var a=this;return this.props.livingRoom.living_room_style!==b("LivingRoomStyleKeys").USER||!this.state.showInviteDefaultState?null:b("React").jsx(b("LivingRoomInviteDefaultStatePane.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,onDismiss:function(){return a.setState({showInviteDefaultState:!1})}})};d.$2=function(){return b("React").jsxs("div",{className:"_6z-1"+(this.state.expandedUFI?" _87u5":""),children:[b("React").jsx(b("LivingRoomNowPlayingPaneCard.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID}),b("React").jsx(b("LivingRoomSidePaneButtons.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,className:"_3-8u _3-8z"})]})};d.$3=function(){var a=this,c=this.props.livingRoom,d=this.state,e=d.showInviteDefaultState,f=d.expandedUFI;d=d.activePaneType;var g=null;(e&&c.living_room_style===b("LivingRoomStyleKeys").USER||d!==i.DEFAULT)&&(g=f?"less":"more");e=this.props.livingRoom.is_active===!1?b("React").jsx("div",{className:"_1cic"}):b("React").jsx(b("LivingRoomUFIContainer.react"),{livingRoomID:this.props.livingRoomID,onSeeMoreOrLess:function(){return a.setState({expandedUFI:!f})},seeMoreButtonState:g,shareUri:this.props.livingRoom.share_uri});return e};d.$4=function(){__p&&__p();var a;switch(this.state.activePaneType){case i.DEFAULT:a=b("React").jsxs(b("LivingRoomActionPaneAnimationContainer.react"),{animation:"living-room-side-pane-slide-right",livingRoomID:this.props.livingRoomID,badgeText:this.props.livingRoom.badge_text,children:[this.$2(),this.$1()]});break;case i.ADD_VIDEO:a=b("React").jsx(b("LivingRoomAddVideoDialogContainer.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,hasJustCreatedSponsoredLivingRoom:this.props.hasJustCreatedSponsoredLivingRoom,inSidePane:!0});break;case i.QUEUE:a=b("React").jsx(b("LivingRoomContentQueuePane.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID});break;case i.INVITE:a=b("React").jsx(b("LivingRoomInvitePane.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,showCohostSection:!1});break;case i.ADD_COHOST:a=b("React").jsx(b("LivingRoomInvitePane.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,showCohostSection:!0});break}return b("React").jsx("div",{className:"_7fk-"+(this.state.expandedUFI?" _7fk_":""),children:a})};d.$5=function(){var a;return(a=b("React")).jsxs(a.Fragment,{children:[a.jsx(b("LivingRoomSidePaneTopBanner.react"),{livingRoomID:this.props.livingRoomID,badgeText:this.props.livingRoom.badge_text}),a.jsx(b("LivingRoomPendingPostPreview.react"),{livingRoom:this.props.livingRoom}),a.jsx("div",{className:"_7y20",children:a.jsx(b("LivingRoomContentQueuePane.react"),{livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID})})]})};d.render=function(){var a;a=((a=this.props.livingRoom)==null?void 0:a.is_pending_group_admin_approval)===!0?this.$5():b("React").jsxs(b("React").Fragment,{children:[this.$4(),this.$3()]});return b("React").jsxs("div",{className:"_4shn"+(this.props.hasNavbar?" _8nlj":""),"data-ft":this.state.feedTrackingData,children:[a,b("React").jsx(b("LivingRoomBannerNotification.react"),{livingRoomID:this.props.livingRoomID})]})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:h!==void 0?h:h=b("LivingRoomSidePane_livingRoom.graphql")})}),null);
__d("LivingRoomWelcomeCardBody.react",["cx","fbt","ix","Image.react","Link.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=h._("Add Videos"),k=h._("Choose what you want to watch with others."),l=h._("Watch Together"),m=h._("As host, you're in control of the videos that are played."),n=h._("Invite Friends"),o=h._("Invite People"),p=h._("Send invites to people you want to join."),q=h._("Watch Videos"),r=h._("Watch videos and chat with others on Facebook in a watch party."),s=h._("Invite Friends"),t=h._("Send invites to people who you want to join."),u=h._("Chat Together"),v=h._("Join in on the conversation while the videos are playing.");function a(a){var c=a.title,d=a.subtitle,e=a.inviteTarget,f=a.onClose;a=a.viewerType;e=e==="friends"?n:o;a=a==="host";return b("React").jsxs(b("React").Fragment,{children:[b("React").jsxs("div",{className:"_2j8i",children:[b("React").jsx("div",{className:"_2j8j",children:c}),b("React").jsx("div",{className:"_2j8k",children:d}),b("React").jsx(b("Image.react"),{className:"_2j8l",src:i("534906")}),f!=null?b("React").jsx(b("Link.react"),{className:"_2j8p",onClick:f,children:b("React").jsx(b("Image.react"),{src:i("512227")})}):null]}),b("React").jsxs("div",{className:"_2j8q",children:[b("React").jsxs("div",{className:"_2jc-",children:[b("React").jsx("div",{className:"_2jc_",children:b("React").jsx(b("Image.react"),{className:"_2jd4",src:i("512272")})}),b("React").jsx("div",{className:"_2jdo",children:a?j:q}),b("React").jsx("div",{className:"_2jep",children:a?k:r})]}),b("React").jsxs("div",{className:"_2jc-",children:[b("React").jsx("div",{className:"_2jc_",children:b("React").jsx(b("Image.react"),{className:"_2jd4",src:i("512248")})}),b("React").jsx("div",{className:"_2jdo",children:a?l:s}),b("React").jsx("div",{className:"_2jep",children:a?m:t})]}),b("React").jsxs("div",{className:"_2jc-",children:[b("React").jsx("div",{className:"_2jc_",children:b("React").jsx(b("Image.react"),{className:"_2jd4",src:i("512244")})}),b("React").jsx("div",{className:"_2jdo",children:a?e:u}),b("React").jsx("div",{className:"_2jep",children:a?p:v})]})]})]})}e.exports=a}),null);
__d("LivingRoomViewerWelcomeCard.react",["cx","fbt","FDSButton.react","LayerFadeOnHide","LivingRoomWelcomeCardBody.react","React","XUIDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=h._("Introducing Watch Party"),c.$2=h._("Watch, talk and react to the same videos at the same time during a watch party."),c.$3=h._("OK"),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs(b("XUIDialog.react"),{shown:!0,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},className:"_2j8h",label:"welcome",layerHideOnBlur:!1,width:550,children:[a.jsx(b("LivingRoomWelcomeCardBody.react"),{title:this.$1,subtitle:this.$2,inviteTarget:"people",onClose:this.props.onClose,viewerType:"viewer"}),a.jsx("div",{className:"_2jeq",children:a.jsx(b("FDSButton.react"),{label:this.$3,onClick:this.props.onClose,use:"primary"})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomWelcomeCardContainer.react",["BasicFBNux","FluxContainer","LivingRoomActions","LivingRoomConstants","LivingRoomStore","LivingRoomTypeValues","LivingRoomViewerWelcomeCard.react","React","RelayModern","LivingRoomWelcomeCardContainer_livingRoom.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("LivingRoomTypeValues").SidePaneTypeValue;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={canViewerAddContent:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerAddContent,canViewerSeeWelcomeNux:b("LivingRoomStore").getCanViewerSeeWelcomeNux(d.props.livingRoomID),hasVideos:b("LivingRoomStore").getHasVideos(d.props.livingRoomID)},d.$1=function(){b("BasicFBNux").onDismiss(b("LivingRoomConstants").NUX_VIEWER_WELCOME),b("LivingRoomActions").setCanViewerSeeWelcomeNux(d.props.livingRoomID,!1)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{canViewerAddContent:b("LivingRoomStore").getPermissions(c.livingRoomID).canViewerAddContent,canViewerSeeWelcomeNux:b("LivingRoomStore").getCanViewerSeeWelcomeNux(c.livingRoomID)})};var d=c.prototype;d.render=function(){__p&&__p();var a=this.state,c=a.canViewerAddContent,d=a.canViewerSeeWelcomeNux;a=a.hasVideos;var e=this.props.livingRoom.is_active===!1;e=e||a;if(e)return null;else if(d){b("BasicFBNux").onView(b("LivingRoomConstants").NUX_VIEWER_WELCOME);return b("React").jsx(b("LivingRoomViewerWelcomeCard.react"),{onClose:this.$1})}else c&&(!b("LivingRoomStore").getCurrentContentItem(this.props.livingRoomID)&&!b("LivingRoomStore").getContentQueueCount(this.props.livingRoomID)&&b("LivingRoomActions").setActiveSidePane(this.props.livingRoomID,h.ADD_VIDEO));return null};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:g!==void 0?g:g=b("LivingRoomWelcomeCardContainer_livingRoom.graphql")})}),null);
__d("XLivingRoomCrosspostingReplaceFullScreenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/living_room/crossposting/replace_active_living_room/",{living_room_id:{type:"FBID",required:!0}})}),null);
__d("LivingRoomFullScreen.react",["cx","fbt","ActorURI","AsyncRequest","ChannelManager","CSS","LivingRoomActions","LivingRoomComposerActions","LivingRoomComposerStore","LivingRoomCrosspostingNavBar.react","LivingRoomCVCUtils","LivingRoomFullScreenController","LivingRoomFullScreenVideoPlayer.react","LivingRoomHeaderContainer.react","LivingRoomPresenceLatencyLogger","LivingRoomPresencePollingUtils","LivingRoomPresenceTray.react","LivingRoomReplayFullScreen.react","LivingRoomSidePane.react","LivingRoomStore","LivingRoomViewerFunnelLogger","LivingRoomWelcomeCardContainer.react","React","RelayFBEnvironment","RelayModern","RTCAppDispatcher","RTCCallStore","Run","WatchTogetherAudioChatConfig","XGroupLivingRoomFullScreenController","XLivingRoomCrosspostingReplaceFullScreenController","XLivingRoomFullScreenController","clearInterval","LivingRoomFullScreenQueryRendererQuery.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=null,d.$7=function(){return!b("LivingRoomStore").getIsVideoPlaying(d.props.livingRoomID)?void 0:h._("Are you sure you want to leave this Watch Party?")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(a,c,d){if(a!=null&&a!=""){a=b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",a).setFBID("living_room_id",c).getURI();return d!=null&&d!=""?b("ActorURI").create(a,d):a}return b("XLivingRoomFullScreenController").getURIBuilder().setFBID("living_room_id",c).getURI()};d.$5=function(a){__p&&__p();var c=this,d;this.$1=(d=this.$1)!=null?d:b("LivingRoomPresencePollingUtils").init(a,3e3);this.$1.startPollingIdempotent();b("LivingRoomFullScreenController").show(b("React").jsx(j,{environment:b("RelayFBEnvironment"),fetchPolicy:"store-and-network",query:i!==void 0?i:i=b("LivingRoomFullScreenQueryRendererQuery.graphql"),render:function(d){__p&&__p();d.error;d=d.props;d=d==null?void 0:d.living_room;if(d==null)return null;var e=d.crossposted_living_rooms.length>0&&c.props.handleCrosspostSwitch!=null;if(c.props.isReplay)return b("React").jsx(b("LivingRoomReplayFullScreen.react"),{actorID:c.props.actorID,fromChaining:c.props.fromChaining,livingRoom:d});window.history.pushState({},"",c.$4(d.group.id,a,c.props.actorID));return b("React").jsxs("div",{className:"_13pa","data-testid":"living-room-full-screen-root",children:[b("React").jsxs("div",{children:[e&&c.props.handleCrosspostSwitch?b("React").jsx(b("LivingRoomCrosspostingNavBar.react"),{livingRoom:d,handleCrosspostSwitch:c.props.handleCrosspostSwitch,livingRoomID:a}):null,b("React").jsxs("div",{className:"_63lk"+(e?"":" _8nmu")+(e?" _8nlk":""),children:[b("React").jsx(b("LivingRoomFullScreenVideoPlayer.react"),{livingRoom:d,livingRoomID:a,rawVideoData:c.props.rawVideoData,searchResultsSessionID:c.props.searchResultsSessionID,startMuted:c.props.startMuted,vpsbExternalLogVideoID:c.props.vpsbExternalLogVideoID}),b("React").jsx(b("LivingRoomHeaderContainer.react"),{displayableSponsorPage:c.props.displayableSponsorPage,livingRoom:d,livingRoomID:a}),b("React").jsx(b("LivingRoomWelcomeCardContainer.react"),{livingRoom:d,livingRoomID:a})]}),b("React").jsx(b("LivingRoomSidePane.react"),{hasJustCreatedSponsoredLivingRoom:c.props.displayableSponsorPage!=null,livingRoom:d,livingRoomID:a,hasNavbar:e})]}),b("React").jsx("div",{children:b("React").jsx(b("LivingRoomPresenceTray.react"),{livingRoom:d,livingRoomID:a})})]})},variables:{livingRoomID:a}}));b("LivingRoomActions").join(a,this.props.entrySource);this.$2===null&&(this.$2=b("LivingRoomCVCUtils").enter(a,this.props.entrySource,!0));this.props.creationStoryTrackingData!=null&&b("LivingRoomStore").getFeedTracking(a)==null&&b("LivingRoomStore").setTrackingData(this.props.livingRoomID,[this.props.creationStoryTrackingData]);b("LivingRoomComposerStore").getStartingInterstitialShown()&&b("LivingRoomComposerActions").setStartingInterstitialShown(!1);b("WatchTogetherAudioChatConfig").audio_commentary_enabled&&(b("ChannelManager").startChannelManager(),b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore")]))};d.$6=function(a){this.$1&&this.$1.stopPolling(),this.$3=b("clearInterval")(this.$3),b("LivingRoomActions").leave(this.props.livingRoomID),this.$2=b("LivingRoomCVCUtils").leave(this.$2)};d.componentDidMount=function(){var a=document.body;a&&(b("CSS").addClass(a,"_1dpd"),b("CSS").addClass(a,"_6-25"));a=this.props.livingRoomID;this.$5(a);b("LivingRoomViewerFunnelLogger").appendAction("entering_fullscreen");b("LivingRoomPresenceLatencyLogger").registerJoin(a);b("LivingRoomViewerFunnelLogger").appendAction("join");b("LivingRoomStore").getPermissions(a).canViewerAddContent&&b("Run").onBeforeUnload(this.$7)};d.componentDidUpdate=function(a){var c=this.props.livingRoomID;if(a.livingRoomID!==c){this.$6(a.livingRoomID);b("LivingRoomActions").close(a.livingRoomID);this.$5(c);a=b("XLivingRoomCrosspostingReplaceFullScreenController").getURIBuilder().setFBID("living_room_id",c).getURI();new(b("AsyncRequest"))().setURI(a).send()}};d.componentWillUnmount=function(){document.body&&b("CSS").removeClass(document.body,"_1dpd"),this.$6(this.props.livingRoomID),b("LivingRoomFullScreenController").close(),b("LivingRoomViewerFunnelLogger").endFunnel()};d.render=function(){return null};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomFullScreenInitializer.react",["LivingRoomActions","LivingRoomFullScreen.react","LivingRoomStoreInitializer","LivingRoomViewerFunnelLogger","React","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={initComplete:!1,livingRoomID:d.props.livingRoomID},d.$1=function(a){b("promiseDone")(b("LivingRoomStoreInitializer").initialize(a,d.props.actorID,d.props.entrySource,"LivingRoomFullScreenInitializer"),function(){d.setState({livingRoomID:a})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;b("LivingRoomViewerFunnelLogger").appendAction("loading_living_room");b("promiseDone")(b("LivingRoomStoreInitializer").initialize(this.props.livingRoomID,this.props.actorID,this.props.entrySource,"LivingRoomFullScreenInitializer"),function(){a.setState({initComplete:!0}),b("LivingRoomActions").setEntryPoint(a.props.livingRoomID,a.props.entryURI)})};d.render=function(){return!this.state.initComplete?null:b("React").jsx(b("LivingRoomFullScreen.react"),{actorID:this.props.actorID,entrySource:this.props.entrySource,displayableSponsorPage:this.props.displayableSponsorPage,fromChaining:this.props.fromChaining,livingRoomID:this.state.livingRoomID,rawVideoData:this.props.rawVideoData,searchResultsSessionID:this.props.searchResultsSessionID,startMuted:this.props.startMuted,vpsbExternalLogVideoID:this.props.vpsbExternalLogVideoID,creationStoryTrackingData:this.props.creationStoryTrackingData,isReplay:this.props.isReplay,handleCrosspostSwitch:this.$1})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomFullScreenVideoPlayer.react",["FluxContainer","LivingRoomStore","LivingRoomVideoPlayer.react","React","RelayModern","VideoComponentEmbeddedControls.react","qex","LivingRoomFullScreenVideoPlayer_livingRoom.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={canViewerSeeVideoControls:b("LivingRoomStore").getPermissions(d.props.livingRoomID).canViewerSeeVideoControls,vpc:b("LivingRoomStore").getVideoPlayerController(d.props.livingRoomID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return{canViewerSeeVideoControls:b("LivingRoomStore").getPermissions(c.livingRoomID).canViewerSeeVideoControls,vpc:b("LivingRoomStore").getVideoPlayerController(c.livingRoomID)}};var d=c.prototype;d.componentDidUpdate=function(a,b){a=this.state.vpc;a&&a.hasOption("VideoControls","hidePlaybackControl")&&b.canViewerSeeVideoControls!==this.state.canViewerSeeVideoControls&&a.setOption("VideoControls","hidePlaybackControl",!this.state.canViewerSeeVideoControls)};d.$1=function(){var a=b("qex")._("961967");return b("React").jsx(b("VideoComponentEmbeddedControls.react"),{hideControlsOnFinish:!0,hidePlaybackControl:!this.state.canViewerSeeVideoControls,showVideoSliderWarningTooltip:a},"controls")};d.render=function(){var a;return b("React").jsx(b("LivingRoomVideoPlayer.react"),{autoplay:!0,rawVideoData:this.props.rawVideoData,livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID,isFullScreen:!0,searchResultsSessionID:this.props.searchResultsSessionID,startMuted:(a=this.props.startMuted)!=null?a:!1,videoControls:this.$1(),vpsbExternalLogVideoID:this.props.vpsbExternalLogVideoID})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{livingRoom:g!==void 0?g:g=b("LivingRoomFullScreenVideoPlayer_livingRoom.graphql")})}),null);
__d("LivingRoomReplayChainingContainer.react",["LivingRoomReplayChainingList.react","LivingRoomSidePanePlaceholder.react","React","RelayFBEnvironment","RelayModern","LivingRoomReplayChainingContainerQuery.graphql"],(function(a,b,c,d,e,f){var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;function a(a){return b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("LivingRoomReplayChainingContainerQuery.graphql"),render:function(c){c.error;c=c.props;return!c||!c.living_room?b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{}):b("React").jsx(b("LivingRoomReplayChainingList.react"),{actorID:c.actorID,groupID:c.groupID,livingRooms:c.living_room,livingRoomID:a.livingRoomID})},variables:{id:a.livingRoomID}})}e.exports=a}),null);
__d("LivingRoomReplayChainingList.react",["cx","fbt","LivingRoomReplayChainingListItem.react","LivingRoomSidePanePlaceholder.react","React","RelayModern","LivingRoomReplayChainingList_livingRooms.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c;if(!(a==null?void 0:(c=a.livingRooms)==null?void 0:c.chained_living_rooms))return b("React").jsx(b("LivingRoomSidePanePlaceholder.react"),{});c=a.livingRooms.chained_living_rooms;var d=c.map(function(c,d){return b("React").jsx("div",{children:b("React").jsx(b("LivingRoomReplayChainingListItem.react"),{livingRoom:c,actorID:a.actorID,groupID:a.groupID,livingRoomID:a.livingRoomID})},c.id)});return c.length===0?b("React").jsx("div",{className:"_65qu",children:b("React").jsx("div",{className:"_65qv",children:h._("No results found")})}):b("React").jsx(b("React").Fragment,{children:d})}e.exports=c(a,{livingRooms:i!==void 0?i:i=b("LivingRoomReplayChainingList_livingRooms.graphql")})}),null);
__d("LivingRoomReplayChainingListItem.react",["ix","cx","fbt","Badge.react","ClickableArea.react","Image.react","ImageBlock.react","LineClamp.react","LivingRoomDurationCounterContainer.react","LivingRoomTypedLogger","LivingRoomTypeUtils","LivingRoomViewerFunnelLogger","OnVisible.react","React","RelayModern","ScaledImage.react","XGroupLivingRoomFullScreenController","XLivingRoomFullScreenController","asset","intlSummarizeNumber","loadFullScreenLivingRoom","nullthrows","uniqueID","LivingRoomReplayChainingListItem_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=105,l=172,m=function(a){if(a.is_active===!0){var c;c=(c=a.currently_playing)==null?void 0:c.video;return c!=null?b("LivingRoomTypeUtils").convertVideo(c):null}else{a=(c=(c=a.recap)==null?void 0:(a=c.watched_content)==null?void 0:a.edges)!=null?c:[];return a.length<1?null:(c=a[0].node)==null?void 0:c.video}},n=function(a,c){if(a.is_active===!0){a=b("React").jsx(b("LivingRoomDurationCounterContainer.react"),{livingRoomID:b("nullthrows")(a.id)});var d=c>0;return b("React").jsxs("div",{className:"_8j5q",children:[b("React").jsx("span",{className:"_8j5r"+(d?"":" _8j5s"),children:a}),d?b("React").jsxs("div",{className:"_8j5t",children:[b("React").jsx(b("Image.react"),{className:"_8j5u",src:g("488782")}),b("React").jsx("span",{children:b("intlSummarizeNumber")(c,c>999?1:0)})]}):null]})}else return b("React").jsx("div",{className:"_7rpp",children:i._("REPLAY")})},o=function(a,c,d,e,f,g){new(b("LivingRoomTypedLogger"))().setLivingRoomAction(f).setLivingRoomID(d).setIsReplay(g).addToExtraData("chained_living_room_id",c).log();b("LivingRoomViewerFunnelLogger").startFunnel(f,b("uniqueID")(),c);d=b("XLivingRoomFullScreenController").getURIBuilder().setFBID("living_room_id",c).getURI();e!=null&&(d=b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",e).setFBID("living_room_id",c).getURI());b("loadFullScreenLivingRoom")({actorID:a,entrySource:"REPLAY_CHAINING_LIST",livingRoomID:c,rawVideoData:null,startMuted:null,fromChaining:!0,isReplay:g},d)};function a(a){__p&&__p();var c,d,e,f,g,h=a.livingRoom;if(h==null)return null;var j=m(h);if(j==null)return null;e=(j==null?void 0:j.name)||((e=j.message)==null?void 0:e.text);d=(d=j)!=null?(d=d.owner)!=null?d.name:d:d;c=(c=j)!=null?(c=c.owner)!=null?c.is_verified:c:c;f=((f=j.preferred_thumbnail)==null?void 0:(f=f.image)==null?void 0:f.height)||k;g=((g=j.preferred_thumbnail)==null?void 0:(g=g.image)==null?void 0:g.width)||l;j=(j=j.preferred_thumbnail)==null?void 0:(j=j.image)==null?void 0:j.uri;f=b("React").jsx(b("ScaledImage.react"),{height:k,imageSize:{height:f,width:g},src:j,width:l});g=(j=(g=h.active_viewers)==null?void 0:g.count)!=null?j:0;j=n(h,g);g=g>0?i._("{count} Watching",[i._param("count",b("intlSummarizeNumber")(g))]):null;e=b("React").jsx(b("LineClamp.react"),{lines:2,className:"_1k_6",children:e});c=c!==null&&c===!0?b("React").jsx(b("Badge.react"),{size:"xsmall",type:"verified"}):null;d=b("React").jsx("span",{children:d});f=b("React").jsxs("div",{className:"_4cxi",children:[f,b("React").jsx("div",{className:"_8j5p",children:j})]});j=b("React").jsx("div",{className:"_8j5v",children:b("React").jsxs("div",{children:[e,b("React").jsxs("div",{className:"_7pav",children:[d,c]}),g&&b("React").jsx("div",{className:"_7g7c",children:g})]})});return b("React").jsx(b("ClickableArea.react"),{onClick:function(){o(a.actorID,b("nullthrows")(h.id),a.livingRoomID,a.groupID,"replay_chaining_join",!h.is_active)},children:b("React").jsx("div",{className:"_2b6j _8j5o",children:b("React").jsx(b("OnVisible.react"),{onVisible:function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("replay_chaining_item_impression").setLivingRoomID(a.livingRoomID).setIsReplay(!h.is_active).addToExtraData("chained_living_room_id",h.id).log()},children:b("React").jsxs(b("ImageBlock.react"),{children:[f,j]})})})})}e.exports=c(a,{livingRoom:j!==void 0?j:j=b("LivingRoomReplayChainingListItem_livingRoom.graphql")})}),null);
__d("LivingRoomPlayerNoVideoPreviewContentForActive.react",["cx","fbt","FDSButton.react","FluxHooks","HorizontalLayout.react","LivingRoomActions","LivingRoomEndConfirmDialog.react","LivingRoomEndSessionMutation","LivingRoomStore","LivingRoomTypedLogger","LivingRoomTypeValues","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FluxHooks").useFluxStore,j=b("LivingRoomTypeValues").SidePaneTypeValue,k=b("React").useCallback,l=b("React").useState;function a(a){__p&&__p();var c,d=a.livingRoomID;a=a.anchorText;var e=l(!1),f=e[0],g=e[1];e=i(b("LivingRoomStore"),k(function(a){return a.getPermissions(d)},[d]));var m=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_add_video_in_null_state").setLivingRoomID(d).log(),b("LivingRoomActions").setActiveSidePane(d,j.ADD_VIDEO)},n=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_end_session_in_null_state").setLivingRoomID(d).log(),g(!0)},o=function(){new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_suggest_video_in_null_state").setLivingRoomID(d).log(),b("LivingRoomActions").setActiveSidePane(d,j.ADD_VIDEO)};m=(c=b("React")).jsx(b("FDSButton.react"),{label:h._("Add Video"),size:"large",onClick:m});n=c.jsx(b("FDSButton.react"),{label:h._("End Watch Party"),size:"large",use:"primary",onClick:n});o=c.jsx(b("FDSButton.react"),{label:h._("Suggest Video"),size:"large",onClick:o});return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"_8um6",children:[a,c.jsx("div",{className:"_8um7",children:c.jsxs(b("HorizontalLayout.react"),{children:[e.canViewerAddContent?m:null,e.canViewerEndSession?n:null,!e.canViewerAddContent&&e.canViewerSuggestContent?o:null]})})]}),b("React").jsx(b("LivingRoomEndConfirmDialog.react"),{isVisible:f,onCancel:function(){return g(!1)},onConfirm:function(){b("LivingRoomEndSessionMutation").commit({living_room_id:d})}})]})}e.exports=a}),null);
__d("LivingRoomPlayerNoVideoPreview.react",["cx","fbt","ix","Image.react","LivingRoomPlayerNoVideoPreviewContentForActive.react","React","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){var c;a=a.livingRoomID;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(b("Image.react"),{className:"_lei",src:i("518380")}),c.jsx("div",{className:"_8um6",children:a!=null&&b("gkx")("1231006")?b("React").jsx(b("LivingRoomPlayerNoVideoPreviewContentForActive.react"),{livingRoomID:a,anchorText:j()}):j()})]})}function j(){return b("React").jsx("div",{className:"_y46",children:h._("No video playing")})}e.exports=a}),null);
__d("LivingRoomReplayPlayer.react",["ix","cx","fbt","FDSButton.react","Image.react","LivingRoomConstants","LivingRoomPlayerNoVideoPreview.react","LivingRoomReplayAutoplayController","LivingRoomTypedLogger","React","ReactDOM","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentWithLoopingPlayback.react","VideoDataContainer.react","VideoPlayer.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$10=function(a){__p&&__p();var c=b("ReactDOM").findDOMNode(a);if(!(c instanceof HTMLElement))return;d.$2=a==null?void 0:a.vpc;a=d.$2;if(a==null)return;d.props.dispatch({type:"VPC_CREATED",payload:a});d.$11();d.props.getMutedBeforeVideoSwitch()?a.mute():a.unmute();d.$3=a.addListener("beginPlayback",function(){d.props.dispatch({type:"PLAYBACK_STATE_CHANGE",payload:!0})});d.$4=a.addListener("pausePlayback",function(){d.props.dispatch({type:"PLAYBACK_STATE_CHANGE",payload:!1})});d.$5=a.addListener("finishPlayback",function(){d.props.onFinishPlayback()});d.$6=a.addListener("clickVideo",d.$12);d.$7=a.addListener("seekRequested",function(a){d.props.onSeek(a)});d.$8=a.addListener("muteVideo",function(){return d.props.setMutedBeforeVideoSwitch(!0)});d.$9=a.addListener("unmuteVideo",function(){return d.props.setMutedBeforeVideoSwitch(!1)});d.$1!=null&&d.$1.unregister();d.$1=b("LivingRoomReplayAutoplayController").registerVideoUnit(c,a,d.props.shouldAutoplay);window.addEventListener("resize",d.$11);d.props.fromChaining&&a.play("autoplay_initiated")};d.$12=function(){var a=d.$2;d.props.isFullScreen?a!=null&&(a.isState("playing")?a.pause("user_initiated"):(a.isState("paused")||a.isState("ready"))&&a.play("user_initiated")):a!=null&&(d.props.onEnterFullScreen(a.isMuted()),d.$11(),a.unmute(),a.isState("ready")&&a.play("user_initiated"),new(b("LivingRoomTypedLogger"))().setLivingRoomAction("click_to_open").setIsReplay(!0).setLivingRoomID(d.props.livingRoomID).setEntrySource(d.props.fromPermlink===!0?"PERMALINK":"FEED").log())};d.$13=function(){d.props.onExitFullScreen();var a=d.$2;a!=null&&(a.isState("finished")?(a.play("user_initiated"),a.mute()):d.props.getMutedBeforeEnterFullScreen()?a.mute():a.unmute())};d.$11=function(){var a=window.innerWidth-b("LivingRoomConstants").SIDE_PANE_WIDTH;a=Math.max(a,b("LivingRoomConstants").MIN_MEDIA_CONTAINER_WIDTH);var c=window.innerHeight-102;c=Math.max(c,b("LivingRoomConstants").MIN_MEDIA_CONTAINER_HEIGHT);d.$2!=null&&d.$2.setDimensions(a,c)};d.$1=null;d.$5=null;d.$6=null;d.$8=null;d.$9=null;d.$2=null;return d}var d=c.prototype;d.$14=function(){return{player_format:this.props.isFullScreen?"full_screen":"inline"}};d.componentWillUnmount=function(){this.$3!=null&&this.$3.remove(),this.$4!=null&&this.$4.remove(),this.$5!=null&&this.$5.remove(),this.$6!=null&&this.$6.remove(),this.$7!=null&&this.$7.remove(),this.$1!=null&&this.$1.unregister(),this.$8!=null&&this.$8.remove(),this.$9!=null&&this.$9.remove(),window.removeEventListener("resize",this.$11)};d.render=function(){var a,c=(a=b("React")).jsx("div",{className:"_7x_3",children:a.jsx(b("FDSButton.react"),{icon:a.jsx(b("Image.react"),{src:g("480585")}),label:i._("Exit"),labelIsHidden:!0,size:"small",use:"flat",onClick:this.$13})});return a.jsxs("div",{className:(this.props.isFullScreen?"":"_7-8y")+(this.props.isFullScreen?" _7umu":""),children:[b("React").jsxs("div",{className:"_7vkb"+(this.props.isFullScreen?"":" _7w5s")+(this.props.isFullScreen?" _7w5t":""),children:[this.props.isFullScreen?c:null,b("React").jsx("div",{className:"_7rpp",children:i._("REPLAY")})]}),this.props.isFullScreen&&this.props.isFinished?b("React").jsx("div",{className:"_7zos",children:b("React").jsx(b("LivingRoomPlayerNoVideoPreview.react"),{})}):b("React").jsx(b("VideoDataContainer.react"),{videoID:this.props.videoID,children:b("React").jsxs(b("VideoPlayer.react"),{subOrigin:"living_room",videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,startMuted:!0,ref:this.$10,disableClickPlayPause:!0,livingRoomSessionID:this.props.livingRoomID,isReplayLivingRoom:!0,customLoggingProps:this.$14(),children:[b("React").jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!0}),b("React").jsx(b("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:!this.props.isFullScreen}),b("React").jsx(b("VideoComponentPlayButton.react"),{})]})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomReplayVideoItem.react",["ix","cx","fbt","Badge.react","FRXURI","Image.react","ImageBlock.react","InlineBlock.react","LiveVideoBadge.react","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","RelayModern","ScaledImage.react","VideoBroadcastStatus","VideoDuration.react","XLivingRoomVideoShareDialogController","XUIButton.react","XUIMenuSeparator.react","URI","ContextualDialogArrow","AsyncDialog","AsyncRequest","asset","LivingRoomReplayVideoItem_videoData.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var l=b("ReactXUIMenu").Item,m=44,n=44,o=86,p=130;function a(a){__p&&__p();var c=this,d,e,f=a.videoData;if(f==null)return null;var h=m,j=n;d=(d=f.owner)==null?void 0:(d=d.profile_picture)==null?void 0:d.uri;if(a.isFullScreen){var q;h=((q=f.preferred_thumbnail)==null?void 0:(q=q.image)==null?void 0:q.height)||o;j=((q=f.preferred_thumbnail)==null?void 0:(q=q.image)==null?void 0:q.width)||p;d=(q=f.preferred_thumbnail)==null?void 0:(q=q.image)==null?void 0:q.uri}q=b("React").jsx(b("ScaledImage.react"),{height:a.isFullScreen?o:m,imageSize:{height:h,width:j},width:a.isFullScreen?p:n,src:d,className:(a.isFullScreen?"_82e8":"")+(a.isFullScreen?"":" _82e9")});h=null;f.broadcast_status===b("VideoBroadcastStatus").LIVE?h=b("React").jsx(b("LiveVideoBadge.react"),{position:"bottomRight"}):f.playable_duration!=null&&(h=b("React").jsx(b("VideoDuration.react"),{duration:f.playable_duration}));d=(f==null?void 0:f.name)||((j=f.message)==null?void 0:j.text);j=f==null?void 0:(j=f.video_view_model)==null?void 0:(j=j.series)==null?void 0:j.title;var r=f==null?void 0:f.sotto_content;d=b("React").jsx("div",{className:"_6_sg _1k_6",children:d});e=((e=f.owner)==null?void 0:e.is_verified)?b("React").jsx(b("Badge.react"),{size:"xsmall",type:"verified"}):null;h=b("React").jsx("div",{className:"_82eb"+(a.isFullScreen?"":" _82ec")+(a.isFullScreen?" _82ed":""),children:b("React").jsxs(b("ImageBlock.react"),{spacing:"medium",children:[b("React").jsxs("div",{className:"_4cxi",children:[q,a.isFullScreen&&h]}),b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:a.isFullScreen?86:66,children:b("React").jsxs("div",{className:(a.isFullScreen?"":"_82ee")+(a.isFullScreen?" _86rl":""),children:[d,b("React").jsxs("div",{className:"_6_sg _6-gr",children:[r===null?(q=f.owner)==null?void 0:q.name:j,e,a.totalCount!=null?b("React").jsxs("div",{children:[a.currentIndex+1," /"," ",i._({"*":"{video} videos","_1":"1 video"},[i._plural(a.totalCount,"video")])]}):null]})]})}),a.isFullScreen?null:b("React").jsx(b("XUIButton.react"),{borderShade:"light",className:"_82ef",display:"inline-block",label:i._("Create Watch Party"),image:b("React").jsx(b("Image.react"),{src:g("891543")}),href:"#",ajaxify:b("XLivingRoomVideoShareDialogController").getURIBuilder().setEnum("creation_source","replay_feed_cta").setEnum("entry_source","CTA_CREATION_DIALOG").setFBID("group_id",a.groupID).setFBID("living_room_id",a.livingRoomID).getURI(),rel:"dialog-post"})]})});d=function(){if(f.id==null||f.id==="")return;window.open(new(k||(k=b("URI")))("/"+f.id))};r=function(){var a=f==null?void 0:f.id;a=b("FRXURI").withEntReportable({reportable_ent_token:a,story_location:"living_room"});b("AsyncDialog").send(new(b("AsyncRequest"))(a).setRelativeTo(b("ReactDOM").findDOMNode(c)))};q=b("React").jsx(l,{onClick:d,children:i._("Open Video in New Tab")},"newTabOption");j=b("React").jsx(l,{onClick:r,children:i._("Report Video")},"reportVideoOption");e=a.onPlayNow!==null?b("React").jsx(l,{onClick:a.onPlayNow,children:i._("Play Now")},"playNowOption"):null;d=[e,q,j].filter(function(a){return a!==null}).reduce(function(a,c,d){return[a,b("React").jsx(b("XUIMenuSeparator.react"),{},"separator"+d),c]});r=b("React").jsx(b("ReactXUIMenu"),{children:d});return!a.isFullScreen?h:b("React").jsx("div",{className:"_64p9",children:b("React").jsx(b("PopoverMenu.react"),{alignh:"right",alignv:"baseline",className:"_6-h-",layerBehaviors:[b("ContextualDialogArrow")],menu:r,children:h})})}e.exports=c(a,{videoData:j!==void 0?j:j=b("LivingRoomReplayVideoItem_videoData.graphql")})}),null);
__d("LivingRoomReplaySidePane.react",["ix","cx","fbt","FDSText.react","Image.react","InfiniteScroll.react","Link.react","LivingRoomFeedAttachmentBadgeRow.react","LivingRoomReplayVideoItem.react","React","RelayModern","XLivingRoomVideoShareDialogController","XUIButton.react","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","asset","gkx","LivingRoomReplaySidePane_contentItems.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("React").useEffect,l=b("React").useRef,m=b("React").useState;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var n=function(a,c){var d;return(d=b("React")).jsxs("div",{className:"_8d73",children:[d.jsx("div",{className:"_8d74",children:d.jsx(b("Image.react"),{src:g("487848")})}),d.jsx(b("FDSText.react"),{color:"secondary",children:i._("Watch together with a group or with friends")}),d.jsx(b("XUIButton.react"),{borderShade:"light",className:"_82ef",display:"inline-block",label:i._("Start"),href:"#",ajaxify:b("XLivingRoomVideoShareDialogController").getURIBuilder().setEnum("creation_source","replay_feed_cta").setEnum("entry_source","CTA_CREATION_DIALOG").setFBID("group_id",a).setFBID("living_room_id",c).getURI(),rel:"dialog-post"})]})};function a(a){__p&&__p();var c=this,d=l(null),e=m(a.currentContentIndex),f=e[0],h=e[1];e=m(!1);var j=e[0],o=e[1],p=(e=a.contentItems)==null?void 0:e.edges;e=j?"Close":"See All";k(function(){h(a.currentContentIndex),d.current!=null&&d.current.setIndex(a.currentContentIndex)},[a.currentContentIndex]);if(p==null)return;var q=function(){h(f-1),d.current!=null&&d.current.prev()},r=function(){h(f+1),d.current!=null&&d.current.next(),f+3>=p.length&&a.loadMore()},s=function(){!j?o(!0):o(!1)},t=function(b){d.current!=null&&d.current.setIndex(b),h(b),a.setCurrentContentItemIndex(b),a.onSwitchContentItem(),a.dispatch({type:"RESET_COMMENT"})},u=function(a){return function(){return t(a)}},v=b("React").jsx(b("XUICarouselArrow.react"),{className:"_86rb",onClick:q,children:b("React").jsx(b("Image.react"),{alt:i._("Prev"),src:g("514569")})}),w=b("React").jsx(b("XUICarouselArrow.react"),{className:"_86rc",onClick:r,children:b("React").jsx(b("Image.react"),{alt:i._("Next"),src:g("514570")})});q=function(){if(a.currentContentIndex===f)return i._("Now Playing");else if(a.currentContentIndex>f)return i._("Videos Played");else if(a.currentContentIndex<f)return i._("Up Next")};r=function(){var d=p.map(function(d,e){if(d!=null&&d.node!=null&&d.node.video!=null)return b("React").jsx("div",{className:"_86rd",children:b("React").jsx(b("LivingRoomReplayVideoItem.react"),{isFullScreen:!0,videoData:d.node.video,onPlayNow:a.currentContentIndex!==e?u(e).bind(c):null})},e)});return b("React").jsx("div",{className:"_86re",onWheel:function(a){a.stopPropagation()},children:b("React").jsx(b("InfiniteScroll.react"),{onEndReached:a.loadMore,distanceToEnd:30,children:d})})};var x=p.map(function(d,e){var f;if(d!=null&&d.node!=null&&d.node.video!=null&&(d==null?void 0:(f=d.node)==null?void 0:f.video)!=null)return b("React").jsx(b("XUICarouselItem.react"),{children:b("React").jsx(b("LivingRoomReplayVideoItem.react"),{isFullScreen:!0,videoData:d.node.video,onPlayNow:a.currentContentIndex!==e?u(e).bind(c):null})},e)}),y=function(){return b("React").jsx(b("XUICarousel.react"),{animator:new(b("XUICarouselAnimator"))({firstAndLastAligned:x.length>=2,type:"horizontal"}),className:"_86rf",initialIndex:a.currentContentIndex,initialAutoplay:!1,resetInitialIndex:!0,resizeViewport:"disabled",wrapAround:!1,viewportHeight:87,ref:d,arrows:[v,w],children:x})};return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_86rg",children:b("React").jsx(b("LivingRoomFeedAttachmentBadgeRow.react"),{isReplay:!0})}),b("React").jsxs("div",{className:"_86rh",children:[b("React").jsxs("div",{className:"_86ri",children:[b("React").jsx("div",{className:"_86rj",children:j?i._("Your Playlist"):q()}),b("React").jsx(b("Link.react"),{className:"_86rk",onClick:s,children:i._("{ViewQueueText}",[i._param("ViewQueueText",e)])})]}),j?r():y(),!j&&b("gkx")("1074935")?n(a.groupID,a.livingRoomID):null]})]})}e.exports=c(a,{contentItems:j!==void 0?j:j=b("LivingRoomReplaySidePane_contentItems.graphql")})}),null);
__d("LivingRoomReplayStreamingReactions.react",["React","RelayFBEnvironment","RelayModern","promiseDone","useInterval","LivingRoomReplayStreamingReactionsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=3e3,j=g!==void 0?g:g=b("LivingRoomReplayStreamingReactionsQuery.graphql");function a(a){__p&&__p();b("useInterval")(function(){__p&&__p();if(a.videoPaused)return;var c=a.getCurrentVideoTime()||0;b("promiseDone")(h(b("RelayFBEnvironment"),j,{living_room_id:a.livingRoomID,feedback_id:a.feedbackID,living_room_content_item_id:a.contentItemID,after_timestamp:Math.ceil(c)}),function(b){b=(b=b.feedback)==null?void 0:b.reaction_time_slices;if(b==null)return;b=b.map(function(a){var b;return((b=a.reactions[0])==null?void 0:(b=b.reaction_info)==null?void 0:b.key)==null?null:a.reactions[0].reaction_info.key}).filter(function(a){return a!=null});a.dispatch({type:"STREAMING_REACTION",payload:b})})},i);return null}e.exports=a}),null);
__d("LivingRoomReplayCommentHeader.react",["ix","cx","fbt","Image.react","React","RelayModern","asset","LivingRoomReplayCommentHeader_header.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c;c=((c=a.header)==null?void 0:c.name)||((c=a.header)==null?void 0:(c=c.message)==null?void 0:c.text);if(c==null||c.trim()===""){a=(a=a.header)==null?void 0:(a=a.owner)==null?void 0:a.name;c=a!=null?i._("{name}'s video",[i._param("name",a)]):null}else c=i._("{title}",[i._param("title",c)]);return b("React").jsxs("div",{className:"_828i",children:[b("React").jsx(b("Image.react"),{src:g("645389"),className:"_828j"}),c]})}e.exports=c(a,{header:j!==void 0?j:j=b("LivingRoomReplayCommentHeader_header.graphql")})}),null);
__d("LivingRoomReplayBackfillCommentList.react",["FeedbackSourceType","LiveFeedStoryComment.react","LivingRoomReplayCommentHeader.react","React","RelayModern","LivingRoomReplayBackfillCommentList_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("React").useRef;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c,d=h(null),e=(c=(c=a.feedback)==null?void 0:(c=c.backfill)==null?void 0:c.edges)!=null?c:[];if(e.length!==0){c=(c=e[e.length-1])==null?void 0:(c=c.node)==null?void 0:(c=c.living_room_content_item)==null?void 0:c.id;c!=null&&a.setLastContentItemID(c)}return b("React").jsx("div",{ref:d,children:e.map(function(c,d){__p&&__p();c=c==null?void 0:c.node;var f=!1;if(d!==0){var g,h;g=(g=e[d-1])==null?void 0:(g=g.node)==null?void 0:(g=g.living_room_content_item)==null?void 0:g.id;h=c==null?void 0:(h=c.living_room_content_item)==null?void 0:h.id;f=g!=null&&h!=null&&g!==h}else f=!0;if(c!=null){return b("React").jsxs("div",{children:[f?b("React").jsx(b("LivingRoomReplayCommentHeader.react"),{header:(g=c.living_room_content_item)==null?void 0:g.video}):null,b("React").jsx(b("LiveFeedStoryComment.react"),{comment:c,feedback:a.feedback,feedbackSource:b("FeedbackSourceType").LIVING_ROOM,isActiveCowatching:!1,onEdit:a.onEdit,onReply:null,showRepliesAtTopLevel:!0,storyRenderLocation:"timeline",useDefaultActor:!0},c.id)]},d)}})})}e.exports=c(a,{feedback:g!==void 0?g:g=b("LivingRoomReplayBackfillCommentList_feedback.graphql")})}),null);
__d("LivingRoomReplayStreamingCommentList.react",["FBLogger","FeedbackSourceType","LiveFeedStoryComment.react","LivingRoomReplayCommentHeader.react","React","RelayModern","XUISpinner.react","useInterval","LivingRoomReplayStreamingCommentList_feedback.graphql","LivingRoomReplayStreamingCommentListrQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=(c=b("React")).useEffect,j=c.useMemo,k=c.useRef,l=c.useState;d=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var m=15;function n(a,c,d){__p&&__p();d=l(d);var e=d[0],f=d[1];b("useInterval")(function(){if(c==null)return;var a=c.getCurrentTimePosition();if(a<0)return;f(Math.floor(a))},1e3,[c,a]);return e}function o(a,b,c,d,e){__p&&__p();var f=a==null?void 0:(a=a.living_room_replay_timestamped_comments)==null?void 0:a.edges,g=k(0),h=k(d),l=k(d),m=k(e);i(function(){l.current!==d?(g.current=0,h.current=d):m.current!==e&&(g.current=0,m.current=e)});return j(function(){if(f==null)return-1;var a=b;h.current!==c&&(a=0,h.current=c);while(g.current<f.length&&c===((d=f[g.current])==null?void 0:(d=d.node)==null?void 0:(d=d.living_room_content_item)==null?void 0:d.id)&&a>=((d=(d=f[g.current])==null?void 0:(d=d.node)==null?void 0:d.timestamp_in_video)!=null?d:0)){var d;g.current++}return g.current},[f,c,b])}function a(a){__p&&__p();var c=k(null),d=n(a.contentItemID,a.vpc,a.startTimeOffset),e=o(a.feedback,d,a.contentItemID,a.connectionID,a.startTimeOffset),f=(d=a.feedback)==null?void 0:(d=d.living_room_replay_timestamped_comments)==null?void 0:d.edges;i(function(){if(!a.relay.hasMore()||a.relay.isLoading())return;f!=null&&e>=f.length-1&&a.relay.loadMore(m,function(a){a!=null&&b("FBLogger")("living_room").mustfix("Unable to load more replay videos %s",a.toString())})},[f,e,a.relay]);i(function(){a.onNewCommentsAdded()},[a,e]);i(function(){if(f==null)return;e===f.length?a.updateCurrentCursor(null):f[e]!=null&&f[e].cursor!=null&&a.updateCurrentCursor(f[e].cursor)},[f,e,a]);return f==null?b("React").jsx(b("XUISpinner.react"),{}):b("React").jsx("div",{ref:c,children:f.map(function(c,d){__p&&__p();var g;c=c==null?void 0:c.node;var h=!1;g=c==null?void 0:(g=c.living_room_content_item)==null?void 0:g.id;if(d!==0){var i;i=(i=f[d-1])==null?void 0:(i=i.node)==null?void 0:(i=i.living_room_content_item)==null?void 0:i.id;h=i!=null&&g!=null&&i!==g}else h=a.getPreviousContentItemID()==null?!0:a.getPreviousContentItemID()!==g;if(c!=null&&d<e){return b("React").jsxs("div",{children:[h?b("React").jsx(b("LivingRoomReplayCommentHeader.react"),{header:(i=c.living_room_content_item)==null?void 0:i.video}):null,b("React").jsx(b("LiveFeedStoryComment.react"),{comment:c,feedback:a.feedback,feedbackSource:b("FeedbackSourceType").LIVING_ROOM,isActiveCowatching:!1,onReply:null,showRepliesAtTopLevel:!0,storyRenderLocation:"living_room_replay",useDefaultActor:!0,onEdit:a.onEdit},c.id)]},d)}}).filter(Boolean)})}e.exports=d(a,{feedback:g!==void 0?g:g=b("LivingRoomReplayStreamingCommentList_feedback.graphql")},{direction:"forward",getConnectionFromProps:function(a){return a.feedback&&a.feedback.living_room_replay_timestamped_comments},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){var d=b.count;b=b.cursor;return{count:d,cursor:b,feedbackID:a.feedbackID,contentItemID:c.contentItemID,startTimeOffset:c.startTimeOffset}},query:h!==void 0?h:h=b("LivingRoomReplayStreamingCommentListrQuery.graphql")})}),null);
__d("LivingRoomReplayUFIRenderer.react",["cx","fbt","FBLogger","FeedbackSourceType","JSResource","LivingRoomReplayBackfillCommentList.react","LivingRoomReplayStreamingCommentList.react","React","RelayModern","RelayRuntime","RelayUFI2Environment","UFI2CommentsConfig","UFI2Composer.react","UFI2CreateCommentMutation","UFI2LazyCodedErrorDialog.react","UFI2SurfaceContainerContext","createUFI2ComposerTipPlugin","createUFI2EmojiComposerPlugin","createUFI2EmoticonsComposerPlugin","createUFI2GIFComposerPlugin","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2StickersComposerPlugin","edgeIsInConnection","getCommentCreateMutationPropertiesFromTrackingData","lazyLoadComponent","nullthrows","LivingRoomReplayUFIRenderer_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("React").useRef,k=b("React").useState;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var l=b("RelayRuntime").ConnectionHandler,m=b("lazyLoadComponent")(b("JSResource")("UFI2CommentEditor.react").__setRef("LivingRoomReplayUFIRenderer.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state=q(d.props);d.$2=function(a){d.setState({maybeCodedError:{acknowledged:!1,error:a}})};d.$3=function(){d.setState(function(a){return a.maybeCodedError==null?null:{maybeCodedError:babelHelpers["extends"]({},a.maybeCodedError,{acknowledged:!0})}})};d.$4=function(a){d.$1=a};d.$5=function(a){__p&&__p();var c=a.actorID,e=a.clientID,f=a.commentData,g=a.entitiesByID,h=a.environment,i=a.feedbackSource,j=a.getTrackingDataFn;a=a.useDefaultActor;if(!f)return;if(d.props.vpc==null)return;var k=Math.floor(d.props.vpc.getCurrentTimePosition()),m=function(a,c){a=l.getConnection(a,"LivingRoomReplayStreamingCommentList_living_room_replay_timestamped_comments",{living_room_content_item_id:d.props.connectionID,start_time_offset:d.props.startTimeOffset});if(a!=null&&b("edgeIsInConnection")(a,c)===!1){var e=a.getLinkedRecords("edges");if(e==null)return;e.length===0||d.$1!=null?l.insertEdgeBefore(a,c,d.$1):l.insertEdgeAfter(a,c)}};b("UFI2CreateCommentMutation").commit({actorID:c,clientID:e,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,containerMapping:b("nullthrows")((c=d.context)==null?void 0:c.containerMapping),entitiesByID:g,environment:h,feedbackSource:i,focusCommentID:null,input:babelHelpers["extends"]({},f,{living_room_content_item_id:d.props.contentItemID},b("getCommentCreateMutationPropertiesFromTrackingData")(j),(e={},e[d.props.isLiveStreaming===!0?"live_video_timestamp":"vod_video_timestamp"]=k,e)),isComet:d.context.isComet,updater:m,onError:d.$2,useDefaultActor:a})};d.$1=null;return d}var d=c.prototype;d.render=function(){var a=this.props.feedback.viewer_actor;return a==null?null:b("React").jsxs("div",{children:[b("React").jsx(n,{composerPluginProps:this.state.composerPluginProps,contentItemID:this.props.contentItemID,connectionID:this.props.connectionID,feedback:this.props.feedback,feedbackID:this.props.feedbackID,onCommentCreate:this.$5,onEditCommentError:this.$2,startTimeOffset:this.props.startTimeOffset,updateCurrentCursor:this.$4,vpc:this.props.vpc}),this.state.maybeCodedError&&b("React").jsx(b("UFI2LazyCodedErrorDialog.react"),{error:this.state.maybeCodedError.error,onHide:this.$3,shown:this.state.maybeCodedError.acknowledged===!1})]})};return c}(b("React").Component);c.contextType=b("UFI2SurfaceContainerContext");function n(a){var c,d=k(null),e=d[0];d=d[1];var f=k(null),g=f[0];f=f[1];var h=j(null),i=j(null),l=a.feedback.viewer_actor,m=function(){return i.current},n=function(a){i.current=a},p=function(){h.current!=null&&(h.current.scrollTop=h.current.scrollHeight)};return(c=b("React")).jsxs("div",{children:[c.jsxs("div",{className:"_80wz",ref:h,children:[c.jsx(b("LivingRoomReplayBackfillCommentList.react"),{feedback:a.feedback,onEdit:d,startTimeOffset:a.startTimeOffset,setLastContentItemID:n}),c.jsx(b("LivingRoomReplayStreamingCommentList.react"),{vpc:a.vpc,feedback:a.feedback,feedbackID:a.feedbackID,contentItemID:a.contentItemID,connectionID:a.connectionID,getPreviousContentItemID:m,startTimeOffset:a.startTimeOffset,updateCurrentCursor:a.updateCurrentCursor,onNewCommentsAdded:p,onEdit:d})]}),c.jsx(o,{composerPluginProps:a.composerPluginProps,editingComment:e,setEditingComment:d,actor:l,onCommentCreate:a.onCommentCreate,onEditCommentError:a.onEditCommentError,feedback:a.feedback,focusCommentID:g,setFocusCommentID:f})]})}function o(a){__p&&__p();var c=a.actor,d=a.composerPluginProps,e=a.editingComment,f=a.feedback,g=a.onCommentCreate,i=a.onEditCommentError,j=a.setEditingComment,k=a.setFocusCommentID;if(c==null)return;if(e!=null){a=e.id;var l=f.id;if(a==null||l==null){b("FBLogger")("living_room_relay").mustfix("Editing comment ID is null, this was served from GraphQL so we should investigate why this is the case, trace value of comment { id }");return null}k(a);return b("React").jsx("div",{className:"_80w-",children:b("React").jsx("div",{className:"_80w_",children:b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(m,babelHelpers["extends"]({},d,{comment:e,commentId:a,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,depth:0,focusCommentID:a,feedback:f,feedbackTargetID:l,feedbackSource:b("FeedbackSourceType").LIVING_ROOM,onError:i,onFinishEdit:function(){j(null),k(null)},storyRenderLocation:"living_room_replay",placeholder:"",useDefaultActor:!0}))})})})}return b("React").jsx("div",{className:"_80w-",children:b("React").jsx("div",{className:"_80w_",children:b("React").jsx(b("UFI2Composer.react"),babelHelpers["extends"]({},d,{actor:c,commentAction:"ADD",depth:0,feedback:f,feedbackSource:b("FeedbackSourceType").LIVING_ROOM,focusCommentID:null,onCommit:g,placeholder:h._("Write something...").toString(),useDefaultActor:!0}))})})}function p(a){return b("RelayUFI2Environment").forActor(a)}function q(a){a=a.feedback;var c=a.mentions_datasource_js_constructor_args_json,d=a.viewer_actor;d=p(d==null?void 0:d.id);return{composerPluginProps:{initialPlugins:[a.composer_tip!=null?b("createUFI2ComposerTipPlugin")({composer_tip:a.composer_tip}):null,b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:c,typeaheadViewProps:{},upgradedPluginResource:b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("LivingRoomReplayUFIRenderer.react")})].concat(b("createUFI2EmojiComposerPlugin")({size:16}),[b("createUFI2EmoticonsComposerPlugin")({size:16})],a.can_viewer_comment_with_gif===!0?b("createUFI2GIFComposerPlugin")({ftentidentifier:a.id}):[],a.can_viewer_comment_with_sticker===!0?b("createUFI2StickersComposerPlugin")({environment:d,targetID:(c=a)!=null?(c=c.owning_profile)!=null?c.id:c:c}):[],[b("createUFI2PrefillMentionComposerPlugin")()]).filter(Boolean)},editingCommentID:null,maybeCodedError:null}}e.exports=a(c,{feedback:i!==void 0?i:i=b("LivingRoomReplayUFIRenderer_feedback.graphql")})}),null);
__d("LivingRoomReplayUFI.react",["FBLogger","FeedStoryUFICommentActorLinkBadges.react","FeedStoryUFICommentAttachments.react","LiveFeedStoryUFICommentActionLinks.react","LiveFeedStoryUFICommentBody.react","LivingRoomReplayUFIRenderer.react","React","RelayFBEnvironment","RelayModern","UFI2CommentActorName.react","UFI2CommentsConfig","UFI2ProfileLink.react","UFI2SurfaceContainerProvider.react","WebPixelRatio","LivingRoomReplayUFIRendererQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;d=(c=b("React")).forwardRef;var h=c.useCallback,i=c.useImperativeHandle,j=c.useMemo,k=c.useState,l=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var m={components:{CommentActionLinksComponent:b("LiveFeedStoryUFICommentActionLinks.react"),CommentActorLinkBadgesComponent:b("FeedStoryUFICommentActorLinkBadges.react"),CommentActorNameComponent:b("UFI2CommentActorName.react"),CommentAttachmentComponent:b("FeedStoryUFICommentAttachments.react"),CommentBodyComponent:b("LiveFeedStoryUFICommentBody.react"),ProfileLinkComponent:b("UFI2ProfileLink.react")},containerMapping:{containerIsFeedStory:!1,containerIsLiveStory:!0,containerIsTahoe:!1,containerIsWorkplace:!1},isComet:!1};function a(a,c){__p&&__p();var d=0;a.vpc!=null&&a.vpc.getCurrentTimePosition()!=null&&(d=a.vpc.getCurrentTimePosition());d=Math.round(d);d=k(d);var e=d[0],f=d[1];d=k(a.contentItemID);var n=d[0],o=d[1],p=b("WebPixelRatio").get();d=j(function(){return{canShowSeenState:!1,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,containerIsFeedStory:!1,containerIsLiveStory:!0,containerIsTahoe:!1,containerIsWorkplace:!1,scale:p,isComet:!1,useDefaultActor:!0,contentItemID:n,feedbackID:a.feedbackID,startTimeOffset:e}},[n,e,a.feedbackID,p]);var q=h(function(c){var d=c.props;c=c.error;if(c){b("FBLogger")("living_room").mustfix("An error occurred in LivingRoomUFIRenderer %s",c.toString());return null}c=d==null?void 0:d.feedback;return c==null?null:b("React").jsx(b("LivingRoomReplayUFIRenderer.react"),{feedback:c,feedbackID:a.feedbackID,contentItemID:a.contentItemID,connectionID:n,startTimeOffset:e,vpc:a.vpc,isLiveStreaming:a.isLiveStreaming})},[n,e,a.contentItemID,a.feedbackID,a.isLiveStreaming,a.vpc]);i(c,function(){return{resetState:function(a,b){a!=null&&f(Math.floor(a)),b!=null&&o(b)}}});if(a.vpc==null)return;return b("React").jsx(b("UFI2SurfaceContainerProvider.react"),{providerValue:m,children:b("React").jsx(l,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("LivingRoomReplayUFIRendererQuery.graphql"),variables:d,render:q})})}e.exports=d(a)}),null);
__d("LivingRoomReplayContainer.react",["ix","cx","fbt","CSS","FBLogger","FDSTabGroup.react","Image.react","LeftRight.react","Link.react","LivingRoomFeedAttachmentBadgeRow.react","LivingRoomNoVideoPreview.react","LivingRoomPresenceTrayReactions.react","LivingRoomReplayChainingContainer.react","LivingRoomReplayEndScreen.react","LivingRoomReplayPlayer.react","LivingRoomReplaySidePane.react","LivingRoomReplayStreamingReactions.react","LivingRoomReplayUFI.react","LivingRoomReplayVideoItem.react","LivingRoomTypedLogger","PageTransitions","React","RelayModern","UFIReactionsAnimatedKeyframesIcon.react","URI","asset","gkx","LivingRoomReplayContainer_contentItems.graphql","LivingRoomReplayContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=(c=b("React")).useEffect,n=c.useReducer,o=c.useRef,p=c.useState;d=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var q={CHAINING:"CHAINING",UFI:"UFI"};function a(a){__p&&__p();var c,d=p(!0),e=d[0],f=d[1];d=p(0);var h=d[0],j=d[1];d=p(!1);var k=d[0],s=d[1];d=p(a.fromPermlink===!0||a.fromChaining===!0);var t=d[0],u=d[1],v=o(!0),w=o(v.current),x=(d=a.contentItems)==null?void 0:d.watched_content;d=o(null);var y=o(null),z=o(null),A=n(r,{isPlaying:!0,vpc:null,reactions:[],shouldResetComment:!1}),B=A[0],C=A[1],D=function(a){v.current=a};A=function(){return v.current};var E=function(){return w.current};m(function(){z.current=(l||(l=b("URI"))).getNextURI().getPath();return function(){document.body!=null&&(document.body.style.overflow="scroll")}},[]);m(function(){var a;a=x==null?void 0:(a=x.edges[h])==null?void 0:(a=a.node)==null?void 0:a.id;y.current!=null&&B.shouldResetComment&&(y.current.resetState(1,a),C({type:"FINISH_RESET_COMMENT"}))},[x,h]);var F=b("React").jsxs("div",{className:"_7-i1",children:[b("React").jsx(b("LivingRoomNoVideoPreview.react"),{}),t?null:b("React").jsx(b("LivingRoomFeedAttachmentBadgeRow.react"),{isReplay:!0})]});if(x==null)return t?null:F;function G(){x.edges!=null&&(h+3>=x.edges.length&&H(),h==x.edges.length-1?(t&&s(!0),j(0)):j(h+1))}function H(){var c=a.relay;if(!c.hasMore()||c.isLoading())return;c.loadMore(10,function(a){a!=null&&b("FBLogger")("living_room").mustfix("Unable to load more replay videos %s",a.toString())})}var I=function(c){b("PageTransitions").go(a.getFullScreenURI()),u(!0),w.current=c,D(c)},J=function(){a.fromPermlink===!0||a.fromChaining===!0?window.location="/":z.current!=null&&(b("PageTransitions").go(z.current),u(!1),k&&(s(!1),j(0),w.current=!0,D(!0))),C({type:"EXIT_FULL_SCREEN"})},K=function(a){if(y.current==null)return;y.current.resetState(a)},L=function(){return B.vpc?Math.round(B.vpc.getCurrentTimePosition()):null};c=x==null?void 0:(c=x.edges[h])==null?void 0:c.node;var M=c==null?void 0:c.id;c=c==null?void 0:c.video;var N=c==null?void 0:c.id;if(M==null||c==null||N==null)return F;F=b("React").jsx(b("LivingRoomReplayVideoItem.react"),{groupID:a.groupID,livingRoomID:a.livingRoomID,videoData:c,currentIndex:h,isFullScreen:t,totalCount:(F=a.contentItems)==null?void 0:(F=F.watched_content)==null?void 0:F.count});var O=b("React").jsx(b("LivingRoomReplayUFI.react"),{ref:y,vpc:B.vpc,feedbackID:a.feedbackID,contentItemID:M,isLiveStreaming:!!(c==null?void 0:c.is_live_streaming)}),P=[{label:i._("Comments"),value:q.UFI},{label:i._("Watch Parties"),value:q.CHAINING}];P=b("React").jsxs("div",{className:"_80wy",children:[b("React").jsx(b("FDSTabGroup.react"),{density:"flex",onChange:function(c){c===q.UFI?f(!0):(new(b("LivingRoomTypedLogger"))().setLivingRoomAction("open_replay_chaining_list").setLivingRoomID(a.livingRoomID).log(),f(!1))},tabs:P,value:e?q.UFI:q.CHAINING}),b("React").jsx("div",{className:e?"":"_8j5n",children:O}),b("React").jsx("div",{className:(e?"_8j5n":"")+" _8j4_",children:b("React").jsx(b("LivingRoomReplayChainingContainer.react"),{actorID:a.actorID,groupID:a.groupID,livingRoomID:a.livingRoomID})})]});e=b("React").jsxs("div",{className:"_7umi",children:[b("React").jsx(b("LivingRoomReplaySidePane.react"),{contentItems:x,currentContentIndex:h,dispatch:C,groupID:a.groupID,livingRoomID:a.livingRoomID,loadMore:H,setCurrentContentItemIndex:j,onSwitchContentItem:K}),b("gkx")("1111451")?P:b("React").jsxs("div",{className:"_80wy",children:[b("React").jsx(b("LeftRight.react"),{className:"_6zzz",children:i._("Comments")}),O]})]});P=b("React").jsx(b("LivingRoomReplayEndScreen.react"),{actorID:a.actorID,livingRoomID:a.livingRoomID,onExitEndScreen:J});O=document.body;O&&(t?(O.style.overflow="hidden",b("CSS").addClass(O,"_1dpd"),b("CSS").addClass(O,"_6-25"),b("CSS").addClass(O,"_81fs")):(O.style.overflow="scroll",b("CSS").removeClass(O,"_1dpd"),b("CSS").removeClass(O,"_6-25"),b("CSS").removeClass(O,"_81fs")));return b("React").jsxs("div",{className:(t?"":"_7pey")+(t?" _7umt":""),children:[b("React").jsx(b("LivingRoomReplayPlayer.react"),{dispatch:C,isFullScreen:t,isFinished:k,onEnterFullScreen:I,onExitFullScreen:J,onFinishPlayback:G,onSeek:K,setIsFinished:s,setIsFullScreen:u,setMutedBeforeVideoSwitch:D,shouldAutoplay:a.shouldAutoplay,getMutedBeforeVideoSwitch:A,getMutedBeforeEnterFullScreen:E,videoID:N,livingRoomID:a.livingRoomID,fromPermlink:!!a.fromPermlink,fromChaining:!!a.fromChaining}),t?b("React").jsxs("div",{className:"_47yj",children:[a.canViewerShare&&b("gkx")("1074594")?b("React").jsx("div",{className:"_7ocq",children:b("React").jsx(b("Link.react"),{href:a.shareURI,rel:"dialog",children:b("React").jsx("div",{className:"_7oa3",children:b("React").jsx(b("Image.react"),{src:g("562345")})})})}):null,b("React").jsx(b("LivingRoomPresenceTrayReactions.react"),{ref:d,dispatch:C,actorID:a.actorID,currentItemID:M,livingRoomID:a.livingRoomID,isPlayingLiveVideo:!!(c==null?void 0:c.is_live_streaming),getCurrentVideoTime:L}),b("gkx")("993103")?b("React").jsx(b("LivingRoomReplayStreamingReactions.react"),{contentItemID:M,dispatch:C,feedbackID:a.feedbackID,getCurrentVideoTime:L,livingRoomID:a.livingRoomID,videoPaused:!B.isPlaying}):null,B.reactions.map(function(a,c){return b("React").jsx("div",{className:"_7_gv",onAnimationEnd:function(){C({type:"REACTION_ANIMATION_ENDED",payload:c})},children:a!=null?b("React").jsx(b("UFIReactionsAnimatedKeyframesIcon.react"),{animate:!0,className:"_8382",maxSize:48,reactionID:a,selectedIndex:0}):null},c)})]}):null,t?null:b("React").jsx(b("LivingRoomFeedAttachmentBadgeRow.react"),{isReplay:!0}),t?e:F,t&&k?P:null]})}function r(a,b){__p&&__p();switch(b.type){case"RESET_COMMENT":return babelHelpers["extends"]({},a,{shouldResetComment:!0});case"FINISH_RESET_COMMENT":return babelHelpers["extends"]({},a,{shouldResetComment:!1});case"VPC_CREATED":return babelHelpers["extends"]({},a,{vpc:b.payload});case"REACTION_CREATED":return babelHelpers["extends"]({},a,{reactions:[].concat(a.reactions,[b.payload])});case"REACTION_ANIMATION_ENDED":return babelHelpers["extends"]({},a,{reactions:[].concat(a.reactions.slice(0,b.payload),[null],a.reactions.slice(b.payload+1))});case"STREAMING_REACTION":return babelHelpers["extends"]({},a,{reactions:[].concat(a.reactions,b.payload)});case"EXIT_FULL_SCREEN":return babelHelpers["extends"]({},a,{reactions:[]});case"PLAYBACK_STATE_CHANGE":return babelHelpers["extends"]({},a,{isPlaying:b.payload});default:return a}}e.exports=d(a,{contentItems:j!==void 0?j:j=b("LivingRoomReplayContainer_contentItems.graphql")},{direction:"forward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.contentItems)==null?void 0:a.watched_content},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){a=b.count;b=b.cursor;return{count:a,cursor:b,id:c.id}},query:k!==void 0?k:k=b("LivingRoomReplayContainerPaginationQuery.graphql")})}),null);
__d("LivingRoomReplayEndScreen.react",["LivingRoomEndScreen.react","React","RelayFBEnvironment","RelayModern","LivingRoomReplayEndScreenQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;function a(a){return b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("LivingRoomReplayEndScreenQuery.graphql"),variables:{id:a.livingRoomID},render:function(c){c.error;c=c.props;if(c==null||c.living_room==null)return;return b("React").jsx(b("LivingRoomEndScreen.react"),{actorID:a.actorID,href:null,livingRoom:c.living_room,livingRoomID:a.livingRoomID,onExitEndScreen:a.onExitEndScreen})}})}e.exports=a}),null);
__d("LivingRoomReplayFullScreen.react",["LivingRoomReplayContainer.react","React","RelayHooks","XGroupLivingRoomFullScreenController","XLivingRoomFullScreenController","LivingRoomReplayFullScreen_livingRoom.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g;b("RelayHooks").graphql;var h=b("RelayHooks").useFragment,i=function(a,c){return c!=null?b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",c).setFBID("living_room_id",a).getURI():b("XLivingRoomFullScreenController").getURIBuilder().setFBID("living_room_id",a).getURI()};function a(a){var c=h(g!==void 0?g:g=b("LivingRoomReplayFullScreen_livingRoom.graphql"),a.livingRoom);return b("React").jsx(b("LivingRoomReplayContainer.react"),{actorID:a.actorID,shouldAutoplay:!0,canViewerShare:c.can_viewer_share,contentItems:c.recap,feedbackID:c.feedback.id,fromChaining:a.fromChaining,fromPermlink:!1,getFullScreenURI:function(){var a;return i(c.id,c==null?void 0:(a=c.profile)==null?void 0:a.groupID)},groupID:c==null?void 0:(a=c.profile)==null?void 0:a.groupID,livingRoomID:c.id,shareURI:c.share_uri})}e.exports=a}),null);
__d("LivingRoomLiveClockHelper",["LiveClock"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=null,this.$2=!1}var c=a.prototype;c.setupClock=function(a,c,d){this.$1=new(b("LiveClock"))(),this.$1.startClock(d),this.$2=c};c.getLiveClockTime=function(){return this.$1&&this.$1.isReady()?Math.round(this.$1.currentTimeMillis()):null};c.getLiveClockTimeForVideoState=function(){return this.$2?this.getLiveClockTime():null};c.getLiveClockTimeString=function(){var a=this.getLiveClockTime();return a!=null?a.toString():null};c.stopClock=function(){this.$1&&this.$1.stopClock()};return a}();e.exports=new a()}),null);
__d("XLivingRoomDashboardPersonalTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/watchparty/personal/",{})}),null);
__d("LivingRoomRedirectCFEPHostUtils",["LivingRoomCreationSource","XLivingRoomDashboardPersonalTabController","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c;if(!a)return!1;switch(a){case"evergreen_qp":return(c=b("qex")._("1187303"))!=null?c:!1;case"ended_living_room_story_cta":case"feed_cta_on_always_show":case"feed_cta_on_comment":case"feed_cta_on_newsfeed":case"feed_cta_on_react":case"feed_cta_on_save":case"feed_cta_on_share":case"feed_cta_on_unknown":case"feed_cta_on_video_press":case"goodwill_throwback_cta":return(c=b("qex")._("1187304"))!=null?c:!1;case"group_active_living_rooms_cta":case"group_active_living_rooms_feed_cta":case"group_active_living_rooms_null_state_cta":return(c=b("qex")._("1187305"))!=null?c:!1;case"group_feed_qp":case"group_mall_video_cta":return(c=b("qex")._("1187306"))!=null?c:!1;case"live_video_cue":case"live_video_cta":case"live_video_godzilla_nux":case"live_video_godzilla_nux_sharesheet":case"live_video_prompt":case"live_video_share_sheet":return(c=b("qex")._("1187307"))!=null?c:!1;case"games_video_rerun_manager":return(c=b("qex")._("1187308"))!=null?c:!1;case"channel_feed_cta":case"end_screen_cta":case"house_ad":case"living_room_endscreen_cta":case"living_room_share_sheet":case"living_room_system_message":case"living_room_video_control_cta":case"notification":case"nt_cvc_bottomsheet":case"nt_watch_tab_cta":case"nt_watching_together":case"nt_watching_together_cta":case"nt_watching_together_groups_tab":case"page_admin_qp":case"page_timeline_video_cta":case"page_video_library_button":case"page_video_library_megaphone":case"pmv_qp":case"portal_facebook_watch_tv_app":case"recommended_share_in_live":case"replay_feed_cta":case"replay_interactive_alert":case"replay_ufi_share":case"saved_bookmark_chevron":case"sotto_catalog_watch_together":case"ufi_share":case"unknown_timeline_video_cta":case"video_insights_dialog":case"video_player_plugin":case"video_player_plugin_dialog":return(c=b("qex")._("1187309"))!=null?c:!1}if(a.includes("_CTA")){return(c=b("qex")._("1187310"))!=null?c:!1}return!1}function c(){return b("XLivingRoomDashboardPersonalTabController").getURIBuilder().getURI()}e.exports={canRedirectCFEPHostToDashboard:a,getDashboardURI:c}}),null);
__d("LivingRoomRestrictedContentPreview.react",["cx","React"],(function(a,b,c,d,e,f,g){function a(a){return b("React").jsx("div",{className:"_6-80",children:b("React").jsx("div",{className:"_6-81",children:a.text})})}e.exports=a}),null);
__d("LivingRoomVideoStateUtils",["LivingRoomConstants","LivingRoomLiveClockHelper"],(function(a,b,c,d,e,f){__p&&__p();a={getUpdatedTimePosition:function(a){__p&&__p();var c=a.markerOffsetSeconds,d=a.videoPlayerState;if(d==="PAUSED")return c;d=a.live_clock_timestamp_ms;var e=b("LivingRoomLiveClockHelper").getLiveClockTimeForVideoState();if(d!=null&&e!=null){e=e-d;return c+e/1e3-a.live_commentating_delay_ms/1e3}else{d=a.currentServerTimestamp;e=a.eventLoggedTimestamp;var f=a.clientReceivedTimestamp;return c+(d-e)+(Date.now()/1e3-f)-a.live_commentating_delay_ms/1e3}},isNewContentItemPlayEvent:function(a){return a.videoPlayerState==="PLAYING"&&a.markerOffsetSeconds===b("LivingRoomConstants").VIDEO_START_SECONDS}};e.exports=a}),null);
__d("VideoPlayerStates",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({READY:"ready",PLAYING:"playing",PAUSED:"paused",LOADING:"loading",FALLBACK:"fallback",FINISHED:"finished",DESTROYED:"destroyed",REPLAYED:"replayed",UNKNOWN:"unknown"})}),null);
__d("LivingRoomVideoPlayerController",["invariant","LivingRoomVideoEvent","LivingRoomVideoStateUtils","LivingRoomViewerFunnelLogger","VideoFeedRegister","VideoPlayerReasonTransitionHelper","VideoPlayerShakaGlobalConfig","VideoPlayerStates","setTimeout","uuid"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("VideoPlayerShakaGlobalConfig").getNumber("living_room_playhead_catchup_interval",0),i=b("VideoPlayerShakaGlobalConfig").getBool("living_room_disable_play_without_playing",!1),j=b("VideoPlayerShakaGlobalConfig").getBool("living_room_convert_ready_state_to_playing_on_seek",!1);a=function(){"use strict";__p&&__p();function a(a,c,d,e,f,g,i,j,k,l,m){__p&&__p();var n=this;this.$12=function(a,b){b=b==="living_room_commentating"?a>=n.$1.getCurrentTimePosition()?"COMMENTATING_START":"COMMENTATING_STOP":a>=n.$1.getCurrentTimePosition()?"SEEK_FORWARD":"SEEK_BACKWARD";n.$2(n.$15(n.$1.getState()),b,a)};this.$13=function(a){if(a==="page_visibility_initiated"){n.$5();return}a==="user_initiated"&&n.$3();n.$16(a,"PLAYING","PLAYING")};this.$14=function(a){if(a==="page_visibility_initiated"){n.$6();return}a==="user_initiated"&&n.$4(a);n.$16(a,"PAUSED","PAUSED")};this.$1=a;this.$2=f;this.$3=j;this.$4=k;this.$5=l;this.$6=m;if(b("VideoPlayerShakaGlobalConfig").getBool("fix_living_room_video_player_psr_logging",!1)){var o=a.play,p=!1;a.play=function(e){var f=b("VideoPlayerShakaGlobalConfig").getBool("living_room_catchup_only_in_feed",!1);f=f?c:!0;if(f&&!p&&d){f=b("LivingRoomVideoStateUtils").getUpdatedTimePosition(d);var g=a.getCurrentTimePosition();(!h||Math.abs(f-g)>=h)&&a.seek(f)}o.call(a,e)};a.runOnceOnApiEventLogged("started_playing",function(){p=!0,b("VideoPlayerShakaGlobalConfig").getBool("living_room_log_initial_video_play",!1)&&!c&&b("LivingRoomViewerFunnelLogger").appendAction("initial_video_play")})}else a.runOnceOnApiEventLogged("started_playing",function(){var e=b("VideoPlayerShakaGlobalConfig").getNumber("living_room_play_x_milliseconds_before_seek",0),f=b("VideoPlayerShakaGlobalConfig").getBool("living_room_no_delayed_seek_if_paused",!1);e>0?b("setTimeout")(function(){(!f||a.isState("playing"))&&n.$8(d)},e):n.$8(d);c||b("LivingRoomViewerFunnelLogger").appendAction("initial_video_play")});a.runOnceOnApiEventLogged("finished_playing",function(){return i(e)});a.runOnApiReady(function(){(!b("VideoPlayerShakaGlobalConfig").getBool("enable_autoplay_controller_for_watch_party_feed_attachment",!1)||!c)&&a.play(new(b("VideoPlayerReasonTransitionHelper"))("autoplay_initiated")),g()});if(c){f={controller:a,viewport_autoplay:b("VideoPlayerShakaGlobalConfig").getBool("enable_autoplay_controller_for_watch_party_feed_attachment",!1),video_ids:[a.getVideoID()]};j={video_container:a.getVideoNode()};b("VideoFeedRegister").registerVideoUnit(j,f);b("VideoPlayerShakaGlobalConfig").getBool("enable_autoplay_controller_for_watch_party_feed_attachment",!1)||(a.addListener("becomeInvisible",function(){return m()}),a.addListener("becomeVisible",function(){n.$7=b("uuid")(),l()}))}this.$1.logEvent("player_format_changed")}var c=a.prototype;c.getVideoID=function(){return this.$1.getVideoID()};c.updateVideo=function(a,b){b===void 0&&(b=!1);if(b!==!0&&this.$7==null)return;this.$8(a,b)};c.forceUpdateVideo=function(a){this.$8(a)};c.setVolume=function(a){this.$1.setVolume(a)};c.getCurrentMarkerOffsetMs=function(){return this.$1.getCurrentTimePosition()*1e3};c.getCurrentVideoState=function(){return this.$1.getState()};c.destroy=function(){this.$9(),this.$1.destroy()};c.play=function(a){this.$1.play(new(b("VideoPlayerReasonTransitionHelper"))(a))};c.$8=function(a,b){b===void 0&&(b=!1);if(!a)return;if(b!==!0&&this.$7===a.actionID)return;this.$7=a.actionID;this.$9();this.$10(a);this.$11()};c.$10=function(a){__p&&__p();var c=a.videoPlayerState;a=b("LivingRoomVideoStateUtils").getUpdatedTimePosition(a);var d=this.$1.isState("playing");this.$1.pause();this.$1.seek(a);if(c==="PLAYING"){this.$3();a=!(i||h);(a||d)&&this.$1.play(new(b("VideoPlayerReasonTransitionHelper"))("autoplay_initiated"))}else c==="PAUSED"&&(this.$4("autoplay_initiated"),this.$1.pause())};c.$11=function(){this.$1.addListener("seekRequested",this.$12),this.$1.addListener("playRequested",this.$13),this.$1.addListener("pauseRequested",this.$14)};c.$9=function(){this.$1.removeAllListeners("seekRequested"),this.$1.removeAllListeners("playRequested"),this.$1.removeAllListeners("pauseRequested")};c.$16=function(a,b,c){if(a!=="user_initiated")return;this.$2(b,c,this.$1.getCurrentTimePosition())};c.$15=function(a){var b="PLAYING";switch(a){case"ready":!j&&!h&&g(0,4211,a);break;case"finished":case"playing":break;case"paused":b="PAUSED";break;default:g(0,4211,a)}return b};return a}();e.exports=a}),null);
__d("LivingRoomVideoPlayerInterstitial.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_6-7_"+(this.props.background==="gray"?" _6-wl":"");return b("React").jsx("div",{className:"_64ld",children:b("React").jsx("div",{className:a,children:b("React").jsxs("div",{className:"_4x_1",children:[b("React").jsx("div",{className:this.props.text?"_64le":"",children:this.props.text}),this.props.children]})})})};return c}(b("React").Component);a.defaultProps={background:"black"};e.exports=a}),null);
__d("LivingRoomVideoPlayerLoadingInterstitial.react",["LivingRoomVideoPlayerInterstitial.react","React","XUISpinner.react"],(function(a,b,c,d,e,f){function a(a){return b("React").jsx(b("LivingRoomVideoPlayerInterstitial.react"),{text:a.text,children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large"})})}e.exports=a}),null);
__d("LivingRoomVideoPlayerNoVideoInterstitial.react",["LivingRoomPlayerNoVideoPreview.react","LivingRoomVideoPlayerInterstitial.react","React"],(function(a,b,c,d,e,f){function a(a){a=a.livingRoomID;return b("React").jsx(b("LivingRoomVideoPlayerInterstitial.react"),{children:b("React").jsx(b("LivingRoomPlayerNoVideoPreview.react"),{livingRoomID:a})})}e.exports=a}),null);
__d("XLivingRoomPendingGroupPostActionButtonsLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/living_room/second_screen/pending_group_post_action_buttons/",{living_room_id:{type:"FBID",required:!0}})}),null);
__d("LivingRoomVideoPlayerPendingAdminApprovalIntersitital.react",["cx","fbt","ix","AsyncRequest","Image.react","LivingRoomVideoPlayerInterstitial.react","React","ServerHTML.react","XLivingRoomPendingGroupPostActionButtonsLoaderController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={pendingGroupPostActionButtons:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=b("XLivingRoomPendingGroupPostActionButtonsLoaderController").getURIBuilder().setFBID("living_room_id",this.props.livingRoomID).getURI();new(b("AsyncRequest"))().setHandler(function(b){return a.setState({pendingGroupPostActionButtons:(b=b.payload)==null?void 0:b.markup})}).setURI(c).send()};d.render=function(){var a=this.state.pendingGroupPostActionButtons!=null?b("React").jsx("div",{className:"_7y1-",children:b("React").jsx(b("ServerHTML.react"),{blob:this.state.pendingGroupPostActionButtons})}):null,c=b("React").jsx("div",{className:"_7y1_",children:h._("This watch party is pending approval from group admins. The videos will begin playing once it is approved.")});return b("React").jsxs(b("LivingRoomVideoPlayerInterstitial.react"),{children:[b("React").jsx(b("Image.react"),{className:"_lei",src:i("910128")}),c,a]})};return c}(b("React").Component);e.exports=a}),null);
__d("XLivingRoomGametimeLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/living_room/second_screen/gametime_unit/",{metapage_id:{type:"FBID",required:!0}})}),null);
__d("LivingRoomSecondScreenGametimeUnit.react",["AsyncRequest","React","ServerHTML.react","XLivingRoomGametimeLoaderController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={gametimeContent:null},c.$2=function(a){if(!a)return;c.setState({gametimeContent:a.payload?a.payload.markup:null})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a;if(((a=this.props.secondScreen)==null?void 0:a.gametime_match_data)!=null){this.$1((a=this.props.secondScreen)==null?void 0:(a=a.related_page)==null?void 0:a.id)}};d.componentDidUpdate=function(a){if(((a=a.secondScreen)==null?void 0:(a=a.related_page)==null?void 0:a.id)!==((a=this.props.secondScreen)==null?void 0:(a=a.related_page)==null?void 0:a.id)&&((a=this.props.secondScreen)==null?void 0:a.gametime_match_data)!=null){this.$1((a=this.props.secondScreen)==null?void 0:(a=a.related_page)==null?void 0:a.id)}};d.$1=function(a){if(a==null)return;a=b("XLivingRoomGametimeLoaderController").getURIBuilder().setFBID("metapage_id",a).getURI();new(b("AsyncRequest"))().setHandler(this.$2).setURI(a).send()};d.render=function(){var a=this.state.gametimeContent;return a!=null?b("React").jsx(b("ServerHTML.react"),{blob:a}):null};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomVideoPlayerSecondScreenContentPreview.react",["cx","Image.react","LivingRoomSecondScreenGametimeUnit.react","React","ScaledImage.react"],(function(a,b,c,d,e,f,g){"use strict";var h=540,i=264;function a(a){var c;a=a.secondScreen;return(a==null?void 0:a.gametime_match_data)!=null?b("React").jsxs("div",{className:"_7na7",children:[b("React").jsx("div",{className:"_7rl1",children:b("React").jsx(b("LivingRoomSecondScreenGametimeUnit.react"),{secondScreen:a})}),b("React").jsx(b("ScaledImage.react"),{className:"_7na8",src:a==null?void 0:(c=a.gametime_match_data)==null?void 0:(c=c.sports_data_cover_photo)==null?void 0:(c=c.image)==null?void 0:c.uri,height:260,width:514,imageSize:{height:(c=a==null?void 0:(c=a.gametime_match_data)==null?void 0:(c=c.sports_data_cover_photo)==null?void 0:(c=c.image)==null?void 0:c.height)!=null?c:i,width:(c=a==null?void 0:(c=a.gametime_match_data)==null?void 0:(c=c.sports_data_cover_photo)==null?void 0:(c=c.image)==null?void 0:c.width)!=null?c:h}})]}):b("React").jsx("div",{className:"_7na7",children:b("React").jsx(b("Image.react"),{className:"_7na8",src:a==null?void 0:(c=a.related_page)==null?void 0:(a=c.profile_picture)==null?void 0:a.uri})})}e.exports=a}),null);
__d("LivingRoomVideoPlayerSecondScreenFullScreen.react",["cx","fbt","Image.react","LivingRoomActions","LivingRoomSecondScreenGametimeUnit.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","XUICard.react","emotion","gkx","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["\n                  background-color: #",";\n                  color: #",";\n                "]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["\n                  background-color: #",";\n                  color: #",";\n                "]);j=function(){return a};return a}var k=b("emotion").css;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={nuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").LIVING_ROOM_SECOND_SCREEN_CONSUMER_NUX)&&!d.props.canViewerAddContent&&b("gkx")("876409")},d.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").LIVING_ROOM_SECOND_SCREEN_CONSUMER_NUX),d.setState({nuxShown:!1})},d.$2=function(){b("LivingRoomActions").setIsHeaderVisible(d.props.livingRoomID,!0)},d.$3=function(){b("LivingRoomActions").setIsHeaderVisible(d.props.livingRoomID,!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d=this.props.secondScreen;d=d.gametime_match_data!=null?b("React").jsxs(b("React").Fragment,{children:[b("React").jsxs("div",{className:"_7rl6",children:[b("React").jsx("div",{className:b("joinClasses")("_7rl7",k(j(),d==null?void 0:(c=d.gametime_match_data)==null?void 0:c.away_team_primary_color,d==null?void 0:(c=d.gametime_match_data)==null?void 0:c.away_team_primary_color)),children:b("React").jsx(b("Image.react"),{className:"_7rl8",src:(c=d.away_team)==null?void 0:(c=c.official_logo_with_fallback)==null?void 0:c.uri})}),b("React").jsxs("div",{className:b("joinClasses")("_7rl9",k(i(),d==null?void 0:(c=d.gametime_match_data)==null?void 0:c.home_team_primary_color,d==null?void 0:(c=d.gametime_match_data)==null?void 0:c.home_team_primary_color)),children:[" ",b("React").jsx(b("Image.react"),{className:"_7rl8",src:(c=d.home_team)==null?void 0:(c=c.official_logo_with_fallback)==null?void 0:c.uri})]})]}),b("React").jsxs("div",{ref:"onTVCenterContent",className:"_7rla",children:[b("React").jsx("div",{className:"_7rlb",children:d==null?void 0:(c=d.related_page)==null?void 0:c.name}),b("React").jsx(b("XUICard.react"),{className:"_7ste",children:b("React").jsx(b("LivingRoomSecondScreenGametimeUnit.react"),{secondScreen:d})})]})]}):b("React").jsx(b("React").Fragment,{children:b("React").jsx("div",{ref:"onTVCenterContent",className:"_7rla",children:b("React").jsx("div",{className:"_7rlb",children:d==null?void 0:(c=d.related_page)==null?void 0:c.name})})});return b("React").jsxs("div",{onMouseEnter:this.$2,onMouseLeave:this.$3,className:"_7rlf",children:[d,b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.onTVCenterContent},position:"above",alignment:"center",width:"wide",shown:this.state.nuxShown,onCloseButtonClick:this.$1,children:h._("New! You can now create or join a watch party to chat about what you're watching on a streaming service or live TV.")},"ambientNUX")]})};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomWaitingPreview.react",["cx","fbt","ix","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();function a(a){var c=j(a);a=(a=a.backgroundImageURL)!=null?a:i("646608");return b("React").jsxs("div",{className:"_82iu",children:[b("React").jsx(b("Image.react"),{className:"_82iw",src:a}),b("React").jsx("div",{className:"_82iv",children:b("React").jsxs("div",{className:"_82ix",children:[b("React").jsx("div",{children:b("React").jsx(b("Image.react"),{src:i("866323")})}),b("React").jsx("div",{children:c})]})})]})}function j(a){if(a.isCreator===!0)return h._("Click to enter your watch party");else if(a.creatorName!==null)return h._("Click to enter and watch with {living_room_creator_name}",[h._param("living_room_creator_name",a.creatorName)]);else return h._("Click to enter and watch with others")}e.exports=a}),null);
__d("VideoComponentUnmuteButton.react",["ix","cx","fbt","FDSButton.react","Image.react","React","VideoComponent","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){if(!c.vpc)return;c.vpc.unmute();c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return!this.props.isShown||!this.vpc||this.vpc.getOption("SottoPaywall","enabled")?null:b("React").jsx("div",{className:"_44cj",children:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("584770")}),label:i._("Turn On Sound"),size:"large",onClick:this.$1})})};d.disable=function(){};d.enable=function(a){this.vpc=a};return c}(b("React").Component);e.exports=b("VideoComponent").createContainer(a)}),null);
__d("LivingRoomVideoPlayer.react",["ix","cx","fbt","ClickableArea.react","CurrentUser","FluxContainer","Image.react","LivingRoomActions","LivingRoomConfig","LivingRoomConstants","LivingRoomContentItemType","LivingRoomContentQueueUtils","LivingRoomEndScreen.react","LivingRoomLiveClockHelper","LivingRoomNoVideoPreview.react","LivingRoomRedirectCFEPHostUtils","LivingRoomRestrictedContentPreview.react","LivingRoomStateBasedTypedLogger","LivingRoomStore","LivingRoomTypedLogger","LivingRoomVideoPlayerController","LivingRoomVideoPlayerInterstitial.react","LivingRoomVideoPlayerLoadingInterstitial.react","LivingRoomVideoPlayerNoVideoInterstitial.react","LivingRoomVideoPlayerPendingAdminApprovalIntersitital.react","LivingRoomVideoPlayerSecondScreenContentPreview.react","LivingRoomVideoPlayerSecondScreenFullScreen.react","LivingRoomVideoStateUpdateMutation","LivingRoomVideoStateUtils","LivingRoomWaitingPreview.react","React","RelayModern","ScaledImage.react","VideoBroadcastStatus","VideoComponentContextMenu.react","VideoComponentLiveInterruptedScreen.react","VideoComponentShowSottoPaywall.react","VideoComponentUnmuteButton.react","VideoComponentWithLiveBroadcast.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerShakaGlobalConfig","asset","clearInterval","cxMargin","gkx","guid","keyMirror","nullthrows","setInterval","LivingRoomVideoPlayer_livingRoom.graphql"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=b("keyMirror")(b("LivingRoomContentItemType")),l=b("VideoPlayerShakaGlobalConfig").getNumber("living_room_playhead_catchup_interval",0);c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d,e,f;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(e=f=a.call.apply(a,[this].concat(h))||this,f.state={canViewerAddContent:b("LivingRoomStore").getPermissions(f.props.livingRoomID).canViewerAddContent,canViewerAdvanceQueue:b("LivingRoomStore").getPermissions(f.props.livingRoomID).canViewerAdvanceQueue,canViewerSeeVideoControls:b("LivingRoomStore").getPermissions(f.props.livingRoomID).canViewerSeeVideoControls,currentContentItem:b("LivingRoomStore").getCurrentContentItem(f.props.livingRoomID),entryPoint:b("LivingRoomStore").getEntryPoint(f.props.livingRoomID),entrySource:b("LivingRoomStore").getEntrySource(f.props.livingRoomID),feedTrackingData:b("LivingRoomStore").getFeedTracking(f.props.livingRoomID),hideVideoPlayer:!0,hasPresentUsers:b("LivingRoomStore").hasOtherPresentUsers(f.props.livingRoomID),isPlayingLiveVideo:((c=b("LivingRoomStore").getCurrentContentItem(f.props.livingRoomID))==null?void 0:(d=c.video)==null?void 0:d.broadcast_status)===b("VideoBroadcastStatus").LIVE,isVideoPlaying:b("LivingRoomStore").getIsVideoPlaying(f.props.livingRoomID),muted:f.props.startMuted,nextContentItem:b("LivingRoomStore").getNextContentItem(f.props.livingRoomID),pausedReason:null,self:b("LivingRoomStore").getSelf(f.props.livingRoomID),showUnmuteButton:!1,videoState:b("LivingRoomStore").getVideoState(f.props.livingRoomID),volume:null},f.$3=null,f.$4=!1,f.$5=null,f.$11=function(){f.setState({pausedReason:null})},f.$12=function(a){f.setState({pausedReason:a})},f.$13=function(){b("LivingRoomActions").initializeSubscriptions(f.props.livingRoomID)},f.$14=function(){b("LivingRoomActions").close(f.props.livingRoomID),f.setState({videoState:null}),f.$3=null},f.$9=function(){f.setState({hideVideoPlayer:!1})},f.$10=function(a){var c;((c=f.state.currentContentItem)!=null?c.id:c)===a.id&&f.state.canViewerAdvanceQueue&&b("LivingRoomContentQueueUtils").advanceQueue(f.props.livingRoomID,b("nullthrows")(f.state.currentContentItem),f.state.nextContentItem);c=b("LivingRoomStore").getContentQueue(f.props.livingRoomID);c.count()===0&&b("LivingRoomActions").clearCurrentContentItem(f.props.livingRoomID)},f.$16=function(){f.setState({muted:!1,showUnmuteButton:!1})},f.$8=function(a,c,d){var e=b("LivingRoomStore").getCurrentContentItem(f.props.livingRoomID),g=b("guid")();f.$3=g;b("LivingRoomVideoStateUpdateMutation").commit({living_room_id:f.props.livingRoomID,content_item_id:b("nullthrows")(e).id,video_player_state:a,video_event:c,marker_offset_seconds:d,action_id:g,live_clock_timestamp_ms:b("LivingRoomLiveClockHelper").getLiveClockTimeString()})},f.$24=function(){f.$4=!1,f.state.volume!=null&&(f.$2&&f.$2.setVolume(f.state.volume)),f.props.isFullScreen||window.setTimeout(function(){return b("LivingRoomActions").setFeedBlurOverlayShown(f.props.livingRoomID,!0)},b("LivingRoomConstants").FEED_BLUR_OVERLAY_DELAY_MS),f.props.onVideoLoaded&&f.props.onVideoLoaded()},f.$15=function(a){a=(a=a.lvc)!=null?a:0;b("gkx")("1208662")&&b("gkx")("1113562")&&b("LivingRoomActions").updatePresentUserCount(f.props.livingRoomID,a)},e)||babelHelpers.assertThisInitialized(f)}c.getStores=function(){return[b("LivingRoomStore")]};c.calculateState=function(a,c){return babelHelpers["extends"]({},a,{canViewerAdvanceQueue:(a=b("LivingRoomStore")).getPermissions(c.livingRoomID).canViewerAdvanceQueue,canViewerSeeVideoControls:a.getPermissions(c.livingRoomID).canViewerSeeVideoControls,currentContentItem:a.getCurrentContentItem(c.livingRoomID),entryPoint:a.getEntryPoint(c.livingRoomID),entrySource:a.getEntrySource(c.livingRoomID),feedTrackingData:a.getFeedTracking(c.livingRoomID),hasPresentUsers:a.hasOtherPresentUsers(c.livingRoomID),nextContentItem:a.getNextContentItem(c.livingRoomID),isPlayingLiveVideo:((a=b("LivingRoomStore").getCurrentContentItem(c.livingRoomID))==null?void 0:(a=a.video)==null?void 0:a.broadcast_status)===b("VideoBroadcastStatus").LIVE,isVideoPlaying:b("LivingRoomStore").getIsVideoPlaying(c.livingRoomID),self:b("LivingRoomStore").getSelf(c.livingRoomID),videoState:b("LivingRoomStore").getVideoState(c.livingRoomID)})};var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;if(this.props.livingRoom.experiments.includes("LOG_LIVING_ROOM_SYNC")&&this.props.isFullScreen){var c=this.props.livingRoom.experiments.includes("USE_LIVE_CLOCK"),d=b("LivingRoomConfig").bucket_size_seconds,e=function(c){window.setTimeout(function(){var c;new(b("LivingRoomStateBasedTypedLogger"))().setClientPlayerFormat(a.props.isFullScreen?"full_screen":"inline").setClientPlayerOffsetMs(a.$2&&a.$2.getCurrentMarkerOffsetMs()).setClientPlayerState(a.$6()).setLivingRoomID(a.props.livingRoomID).setLiveClockTimeMs(b("LivingRoomLiveClockHelper").getLiveClockTimeString()).setVideoID((c=a.state.currentContentItem)==null?void 0:(c=c.video)==null?void 0:c.id).log();window.setInterval(function(){var c;new(b("LivingRoomStateBasedTypedLogger"))().setClientPlayerFormat(a.props.isFullScreen?"full_screen":"inline").setClientPlayerOffsetMs(a.$2&&a.$2.getCurrentMarkerOffsetMs()).setClientPlayerState(a.$6()).setLivingRoomID(a.props.livingRoomID).setLiveClockTimeMs(b("LivingRoomLiveClockHelper").getLiveClockTimeString()).setVideoID((c=a.state.currentContentItem)==null?void 0:(c=c.video)==null?void 0:c.id).log()},d)},d-c%d)};b("LivingRoomLiveClockHelper").setupClock(this.props.livingRoomID,c,e)}l&&(this.$1=b("setInterval")(function(){__p&&__p();if(b("VideoPlayerShakaGlobalConfig").getBool("living_room_terminate_livehead_catchup_on_start",!1)&&a.$2&&a.$2.getCurrentVideoState()!=="ready"){b("clearInterval")(a.$1);a.$1=null;return}var c=a.$2?a.$2.getCurrentMarkerOffsetMs():-1,d=a.$2?a.$2.getCurrentVideoState()!=="playing":!1;if(c>=0&&d&&a.$2&&a.state.videoState){d=b("LivingRoomVideoStateUtils").getUpdatedTimePosition(a.state.videoState)*1e3;Math.abs(d-c)>=l&&(a.$2&&a.$2.updateVideo(a.state.videoState,!0))}},1e3))};d.componentWillUnmount=function(){this.$3=null,this.$1!=null&&b("clearInterval")(this.$1),this.$2&&this.$2.destroy(),b("LivingRoomLiveClockHelper").stopClock()};d.shouldComponentUpdate=function(a,c){__p&&__p();var d,e=!1;if(this.state.hideVideoPlayer!==c.hideVideoPlayer||this.state.hasPresentUsers!==c.hasPresentUsers||this.props.children!==a.children||this.props.livingRoom.is_active!==a.livingRoom.is_active||this.state.pausedReason!==c.pausedReason||this.state.isVideoPlaying!==c.isVideoPlaying||this.state.showUnmuteButton!==c.showUnmuteButton)return!0;a=c.videoState;if(!a)return!1;c=this.$2;var f=this.state.videoState;c&&(f==null?void 0:(d=f.contentItem)==null?void 0:d.restriction_reason)==="SOTTO_CONTENT_NOT_SUBSCRIBED"&&(a==null?void 0:(d=a.contentItem)==null?void 0:d.restriction_reason)==="NO_RESTRICTION"&&(c.forceUpdateVideo(a),e=!0);if(f&&f.actionID===a.actionID)return!1;if(((d=a)!=null?(d=d.actor)!=null?d.id:d:d)===b("CurrentUser").getID()&&a.actionID===this.$3)return!1;d=this.state.videoState;if(d&&d.eventLoggedTimestamp>a.eventLoggedTimestamp)return!1;if(f&&f.contentItem&&a.contentItem&&f.contentItem.id===a.contentItem.id&&b("LivingRoomVideoStateUtils").isNewContentItemPlayEvent(a))return!1;f=(d=a)!=null?(d=d.contentItem)!=null?(d=d.video)!=null?d.id:d:d:d;if(c&&f!==null&&f===c.getVideoID()){if(this.$4){this.$5=a;return!1}e||c.updateVideo(a);return!1}return!0};d.$7=function(a){__p&&__p();var c=this;this.$2=new(b("LivingRoomVideoPlayerController"))(a,!this.props.isFullScreen,this.state.videoState,b("nullthrows")(this.state.currentContentItem),this.$8,this.$9,this.$10,this.$11,this.$12,this.$13,this.$14);b("LivingRoomActions").setVideoPlayerController(this.props.livingRoomID,a);this.$5&&(this.$2&&this.$2.updateVideo(this.$5),this.$5=null);a.addListener("unmuteVideo",function(){c.setState({muted:!1,showUnmuteButton:!1})});a.addListener("muteVideo",function(){c.setState({muted:!0})});a.addListener("changeVolume",function(a){c.setState({volume:Math.round(a.volume*1e3)/1e3})});a.addListener("playbackNotAllowed",function(a){c.setState({muted:!0,showUnmuteButton:!0},function(){c.$2&&c.$2.forceUpdateVideo(c.state.videoState)})});a.addListener("VideoControls/visibilityUpdate",function(a){a=a.areControlsVisible;b("LivingRoomActions").setIsHeaderVisible(c.props.livingRoomID,a)});a.addListener("unifiedCVC/update",this.$15);a.registerOption("VideoContextMenu","disablePlayPauseMenuItem",function(){return!c.state.canViewerSeeVideoControls||c.state.isPlayingLiveVideo})};d.$17=function(){var a;return((a=this.state)!=null?(a=a.videoState)!=null?(a=a.contentItem)!=null?(a=a.video)!=null?a.id:a:a:a:a)||b("nullthrows")((a=this.state)!=null?(a=a.currentContentItem)!=null?(a=a.video)!=null?a.id:a:a:a)};d.$18=function(){var a;return((a=this.state.currentContentItem)==null?void 0:a.content_item_type)==k.REGULAR_VIDEO||((a=this.state.currentContentItem)==null?void 0:a.content_item_type)==k.SOTTO_VIDEO||((a=this.state.currentContentItem)==null?void 0:a.content_item_type)==k.LOBBY_VIDEO};d.$19=function(){return this.state.videoState===null&&this.state.currentContentItem!==null};d.$20=function(){var a;return this.props.isFullScreen?b("React").jsx(b("LivingRoomVideoPlayerNoVideoInterstitial.react"),{livingRoomID:this.props.livingRoomID}):b("React").jsx(b("LivingRoomWaitingPreview.react"),{backgroundImageURL:(a=this.state.nextContentItem)==null?void 0:(a=a.video)==null?void 0:(a=a.attachment_image)==null?void 0:a.uri,creatorName:(a=this.props.livingRoom)==null?void 0:(a=a.creator)==null?void 0:a.name,isCreator:this.props.actorID===((a=this.props.livingRoom)==null?void 0:(a=a.creator)==null?void 0:a.id)})};d.$21=function(){return this.props.isFullScreen?b("React").jsx(b("LivingRoomVideoPlayerNoVideoInterstitial.react"),{livingRoomID:this.props.livingRoomID}):b("React").jsx(b("LivingRoomNoVideoPreview.react"),{})};d.$22=function(){var a,c=b("LivingRoomStore").getActorID(this.props.livingRoomID);a=b("CurrentUser").getID()===((a=this.props.livingRoom.creator)==null?void 0:a.id);a=a&&b("LivingRoomRedirectCFEPHostUtils").canRedirectCFEPHostToDashboard(this.props.livingRoom.living_room_creation_source);a=a?b("LivingRoomRedirectCFEPHostUtils").getDashboardURI():this.state.entryPoint;return this.props.isFullScreen?b("React").jsx(b("LivingRoomEndScreen.react"),{actorID:c,href:a,livingRoom:this.props.livingRoom,livingRoomID:this.props.livingRoomID}):null};d.$23=function(){var a=this.props.isFullScreen?i._("Joining..."):null;return b("React").jsx(b("LivingRoomVideoPlayerLoadingInterstitial.react"),{text:a})};d.$6=function(){__p&&__p();if(this.$4)return"loading";if(this.props.livingRoom.is_active===!1)return"end_screen";if(this.$25())return"restricted_content";if(!this.state.isVideoPlaying)return"null_state";if(this.state.pausedReason!==null)return"paused";return this.state.pausedReason===null&&this.state.isVideoPlaying?"playing":"unknown"};d.$26=function(){__p&&__p();switch(this.state.entrySource){case"WATCH_TAB":return"video_home";case"NOTIFICATIONS":return"notifications";case"TAHOE":return"living_room";case"FEED_JOIN_CTA":case"FEED":return"newsfeed";case"COMPOSER":return"composer";case"TAHOE_TO_FEED":return"permalink";case"GROUP_FEED":return"group";case"USER_TIMELINE":return"user_timeline";case"PAGE_TIMELINE":return"page_timeline";case"SEARCH_RESULTS":case"SEARCH_VIDEO_TAB":return"search";case"SEARCH_VIDEO_HOME":return"video_home";case"DASHBOARD":return"living_room_dashboard"}return this.props.isFullScreen?"permalink":"newsfeed"};d.$27=function(){switch(this.state.entrySource){case"SEARCH_VIDEO_HOME":return"search_video_home"}return null};d.$25=function(){var a;return!!((a=this.state.currentContentItem)==null?void 0:(a=a.restriction_message)==null?void 0:a.text)&&((a=this.state.currentContentItem)==null?void 0:a.restriction_reason)!=="SOTTO_CONTENT_NOT_SUBSCRIBED"};d.$28=function(){var a;return((a=this.state.currentContentItem)==null?void 0:a.content_item_type)===k.SECOND_SCREEN};d.$29=function(){return this.state.entrySource==="TAHOE"||this.state.entrySource==="TAHOE_TO_FEED"};d.$30=function(){var a,c=this.props,d=c.isFullScreen;c=c.livingRoomID;a=b("nullthrows")((a=this.state.currentContentItem)==null?void 0:(a=a.restriction_message)==null?void 0:a.text);new(b("LivingRoomTypedLogger"))().setLivingRoomAction("restricted_content_hidden").setLivingRoomID(c).log();return d?b("React").jsx(b("LivingRoomVideoPlayerInterstitial.react"),{background:"gray",text:a}):b("React").jsx(b("LivingRoomRestrictedContentPreview.react"),{text:a})};d.$31=function(){var a,c=this.props,d=c.isFullScreen;c=c.livingRoomID;var e=this.state.canViewerAddContent;a=b("nullthrows")((a=this.state.currentContentItem)==null?void 0:a.second_screen_content);return d?b("React").jsx(b("LivingRoomVideoPlayerSecondScreenFullScreen.react"),{canViewerAddContent:e,livingRoomID:c,secondScreen:a}):b("React").jsx(b("LivingRoomVideoPlayerSecondScreenContentPreview.react"),{secondScreen:a})};d.$32=function(){var a,c;if(this.props.isFullScreen)return b("React").jsx(b("LivingRoomVideoPlayerPendingAdminApprovalIntersitital.react"),{livingRoomID:this.props.livingRoomID});a=(a=this.state.nextContentItem)==null?void 0:a.video;return a==null?this.$21():b("React").jsx(b("ScaledImage.react"),{height:260,imageSize:{height:((c=a.attachment_image)==null?void 0:c.height)||260,width:((c=a.attachment_image)==null?void 0:c.width)||628},src:(c=a.attachment_image)==null?void 0:c.uri,width:628})};d.$33=function(){var a=this,c=this.props.isFullScreen?"full_screen":"inline";c={player_format:c};var d=this.$17();this.props.searchResultsSessionID!=null&&this.props.vpsbExternalLogVideoID===d&&(c.external_log_type="search_results_session_id",c.external_log_id=this.props.searchResultsSessionID);var e=b("VideoPlayerShakaGlobalConfig").getBool("living_room_allow_dash_prefetch",!1),f=this.props.rawVideoData||null;return b("React").jsx("span",{className:this.state.hideVideoPlayer?"hidden_elem":"","data-ft":this.state.feedTrackingData,children:b("React").jsx(b("VideoDataContainer.react"),{rawVideoData:f,onVideoLoaded:this.$24,renderLoading:function(){a.$4=!0;return b("React").jsx(b("LivingRoomVideoPlayerLoadingInterstitial.react"),{text:i._("Loading...")})},videoDataConfig:{allowDashPrefetch:e,includeExtraDRMInfo:!0},videoID:d,children:b("React").jsxs(b("VideoPlayer.react"),{autoplay:!1,customLoggingProps:c,disableClickPlayPause:!0,onVpcUpdate:function(b){return a.$7(b)},startMuted:this.state.muted,playerOrigin:this.$26(),subOrigin:"living_room",upstreamPlayerSource:this.$27(),videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,livingRoomSessionID:this.props.livingRoomID,isChainedLivingRoom:this.$29(),startTimestamp:b("LivingRoomVideoStateUtils").getUpdatedTimePosition(b("nullthrows")(this.state.videoState)),children:[b("React").jsx(b("VideoComponentContextMenu.react"),{}),b("React").jsx(b("VideoComponentWithLiveBroadcast.react"),{}),b("React").jsx(b("VideoComponentLiveInterruptedScreen.react"),{}),b("React").jsx(b("VideoComponentUnmuteButton.react"),{isShown:this.state.showUnmuteButton&&this.props.isFullScreen,onClick:this.$16}),this.$18()&&this.props.videoControls,b("React").jsx(b("VideoComponentShowSottoPaywall.react"),{videoID:d,width:f==null?void 0:f.original_width,height:f==null?void 0:f.original_height,isPlayerOrWatch:!!this.props.isFullScreen,entrypointSurface:"living_room",playerOrigin:this.$26(),playerSuborigin:"living_room"})]})})})};d.render=function(){__p&&__p();var a=this,c=null,d=!1,e=null;if(this.props.livingRoom.is_active===!1)c=this.$22();else if(this.props.livingRoom.is_pending_group_admin_approval===!0)c=this.$32();else if(this.$19())c=this.$23();else if(this.$28())c=this.$31();else if(this.$25())c=this.$30();else if(this.props.livingRoom.is_waiting===!0&&this.state.currentContentItem===null)c=this.$20();else if(!this.state.isVideoPlaying)c=this.$21();else{c=this.$33();if(this.props.isFullScreen){var f,h=this.state.pausedReason!==null;e=(f=b("React")).jsxs(f.Fragment,{children:[f.jsx(b("ClickableArea.react"),{onClick:function(){h&&a.state.canViewerSeeVideoControls&&(a.$2&&a.$2.play("user_initiated"))},children:f.jsx("div",{className:h?"_7-g4":""})}),b("React").jsxs("div",{className:"_4fty"+(h?" _4ftz":"")+(h?"":" _4ft-"),children:[b("React").jsx(b("Image.react"),{src:g("681574")}),b("React").jsx("span",{className:"_3-9a",children:i._("{name of presenter} paused the video",[i._param("name of presenter",this.state.pausedReason==="user_initiated"?this.state.self.profile.name:(f=this.state.videoState)==null?void 0:(f=f.actor)==null?void 0:f.name)])})]})]})}d=!0}return b("React").jsxs("div",{className:"_1gm-"+(d?" _114e":""),children:[b("React").jsx("div",{className:"_6orm",children:c}),e,this.props.children]})};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{pure:!1,withProps:!0}),{livingRoom:j!==void 0?j:j=b("LivingRoomVideoPlayer_livingRoom.graphql")})}),null);
__d("loadFullScreenLivingRoom",["DOM","LivingRoomFullScreenInitializer.react","LivingRoomUFIHelper","React","ReactRenderer"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d;b("LivingRoomUFIHelper").loadUFI(a.livingRoomID,a.actorID);var e=b("DOM").create("div");b("DOM").appendContent(document.body,e);b("ReactRenderer").renderComponent((d=b("React")).jsx(d.Suspense,{fallback:d.jsx("span",{}),children:d.jsx(b("LivingRoomFullScreenInitializer.react"),babelHelpers["extends"]({},a))}),e);window.history.pushState({},"",c)}e.exports=a}),null);